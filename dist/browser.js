var IC = Object.defineProperty;
var TC = (s, t, e) => t in s ? IC(s, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : s[t] = e;
var b = (s, t, e) => TC(s, typeof t != "symbol" ? t + "" : t, e);
import "./main.css";
var _C = ((s) => (s.VERBOSE = "verbose", s.DEBUG = "debug", s.INFO = "info", s.WARNING = "warning", s.ERROR = "error", s))(_C || {}), OC = ((s) => (s.VERBOSE = "VERBOSE", s.DEBUG = "DEBUG", s.INFO = "INFO", s.WARN = "WARN", s.ERROR = "ERROR", s))(OC || {}), Ma = ((s) => (s[s.EN = 0] = "EN", s))(Ma || {}), gA = ((s) => (s[s.HOME_SCREEN = 0] = "HOME_SCREEN", s[s.NEW_TICKET = 1] = "NEW_TICKET", s))(gA || {}), ta = ((s) => (s.SUGGESTION = "improvement", s.BUG = "bug", s.QUESTION = "question", s))(ta || {}), Km = ((s) => (s.MANUAL = "manual", s.AUTOMATIC = "automatic", s))(Km || {}), Lr = ((s) => (s.TITLE = "title", s.TEXT_INPUT = "text_input", s.EMAIL = "email", s.PICKER = "picker", s))(Lr || {});
const LC = ["geolocation", "camera", "microphone", "notifications", "persistent-storage", "screen-wake-lock"];
class ou {
  constructor(t) {
    b(this, "items");
    b(this, "clone", () => {
      const t = this.items.map((e) => Object.assign(Object.create(Object.getPrototypeOf(e)), e));
      return new ou(t);
    });
    this.items = t;
  }
}
class Ii {
  constructor(t) {
    b(this, "key");
    this.key = t;
  }
}
class Fc extends Ii {
  constructor(e, A, r, n, i) {
    super(e);
    b(this, "label");
    b(this, "value");
    b(this, "required");
    b(this, "lines");
    this.label = A, this.value = r ?? "", this.required = n ?? !1, this.lines = i ?? 1;
  }
}
class Nm extends Ii {
  constructor(e, A, r, n, i) {
    super(e);
    b(this, "label");
    b(this, "value");
    b(this, "required");
    b(this, "lines");
    this.label = A, this.value = r ?? "", this.required = n ?? !1, this.lines = i ?? 1;
  }
}
class au extends Ii {
  constructor(e, A, r, n) {
    super(e);
    b(this, "label");
    b(this, "value");
    b(this, "required");
    this.label = A, this.value = r ?? "", this.required = n ?? !1;
  }
}
class Qc extends Ii {
  constructor(e, A, r, n) {
    super(e);
    b(this, "label");
    b(this, "items");
    b(this, "value");
    this.label = A, this.items = r, this.value = n ?? 0;
  }
}
class wI {
  constructor(t, e, A, r) {
    b(this, "key");
    b(this, "label");
    b(this, "icon");
    b(this, "tag");
    this.key = t, this.label = e, this.icon = A, this.tag = r;
  }
}
class cu extends Ii {
  constructor() {
    super(dA.attachments);
  }
}
const MC = { shake_sdk_main_button_title: "Send feedback", shake_sdk_new_ticket_title: "New ticket", shake_sdk_new_ticket_feedback_type_title: "Ticket type", shake_sdk_new_ticket_feedback_type_bug: "Bug report", shake_sdk_new_ticket_feedback_type_question: "Question", shake_sdk_new_ticket_feedback_type_suggestion: "Improvement suggestion", shake_sdk_new_ticket_description_placeholder: "Description", shake_sdk_new_ticket_email_placeholder: "Email", shake_sdk_new_ticket_email_error: "Whoopsie, not an email", shake_sdk_new_ticket_submit_button_text: "Submit", shake_sdk_new_ticket_submit_button_loading: "Submitting...", shake_sdk_new_ticket_tooltip_required: "Required", shake_sdk_new_ticket_submit_to: "Submit to", shake_sdk_new_ticket_apps_empty: "No apps yet", shake_sdk_new_ticket_your_workspace: "Your workspace", shake_sdk_new_ticket_sign_in: "Sign in to save", shake_sdk_new_ticket_picker_team: "Team", shake_sdk_ticket_mark_tooltip_clear: "Clear", shake_sdk_ticket_mark_tooltip_select: "Select", shake_sdk_ticket_mark_tooltip_blur: "Blur", shake_sdk_ticket_mark_tooltip_pen: "Pen", shake_sdk_ticket_mark_tooltip_circle: "Circle", shake_sdk_ticket_mark_tooltip_rect: "Rectangle", shake_sdk_ticket_mark_tooltip_color: "Choose color", shake_sdk_home_screen_title: "Hey there", shake_sdk_home_screen_subtitle: "Send us your bug reports, questions and improvement suggestions.", shake_sdk_home_screen_empty_list: "No tickets yet", shake_sdk_chat_screen_title: "Chat", shake_sdk_chat_screen_input_hint: "Write a reply", shake_sdk_chat_screen_error_message: "Tap to retry", shake_sdk_chat_screen_empty_list: "No messages yet", shake_sdk_dialog_add_attachment: "Add attachment", shake_sdk_dialog_add_attachment_grab_screenshot: "Grab screenshot", shake_sdk_dialog_add_attachment_record_screen: "Record screen", shake_sdk_dialog_add_attachment_browse_locations: "Choose from computer", shake_sdk_dialog_add_attachment_type_video: "Video", shake_sdk_dialog_add_attachment_type_image: "Image", shake_sdk_dialog_add_attachment_type_file: "File", shake_sdk_dialog_attachment_count_limit_title: "Cannot attach file", shake_sdk_dialog_attachment_count_limit_message: "A maximum of 10 files can be attached to a feedback form.", shake_sdk_dialog_attachment_size_limit_title: "File too big", shake_sdk_dialog_attachment_size_limit_message: "Files up to 10 MB can be attached, and that one had % MB.", shake_sdk_dialog_ticket_sending_title: "Sending ticket.", shake_sdk_dialog_ticket_sending_message: "Do not close your browser.", shake_sdk_dialog_ticket_sent_title: "Done.", shake_sdk_dialog_ticket_sent_message: "Your ticket was sent.", shake_sdk_dialog_ticket_not_sent_title: "Oops.", shake_sdk_dialog_ticket_not_sent_message: "Something went wrong.", shake_sdk_link_dashboard: "Dashboard" }, Y = () => {
  if (Ma.EN === Ma.EN) return MC;
}, Da = (s, t) => s.substring(0, t), _p = (s) => s === null ? !1 : new RegExp("^[\\w.+-]+@([\\w\\-]+\\.)+[A-Z]+$", "i").test(s), Ra = (s) => /\ufffd/.test(s), DC = () => {
  const s = [{ key: dA.feedbackTypeBug, label: Y().shake_sdk_new_ticket_feedback_type_bug, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='m40.5,15.75%20l-2.25,4.5%20-3,2.063M11.25,27h6.997M35.752,27h6.998M13.5,6.75h-2.25a4.499,4.499%200,0%200,-4.5%204.5v2.25M40.5,47.25h2.25c2.486,0%204.5,-2.014%204.5,-4.5V40.5M6.75,40.5v2.25c0,2.486%202.014,4.5%204.5,4.5h2.25M47.25,13.5v-2.25c0,-2.486%20-2.014,-4.5%20-4.5,-4.5H40.5M13.5,15.75l2.25,4.5%203,2.063M27.999,38.25h-2a6.75,6.75%200,0%201,-6.75%20-6.75v-6.75c0,-2.486%202.014,-4.5%204.5,-4.5h6.5c2.486,0%204.5,2.014%204.5,4.5v6.75a6.75,6.75%200,0%201,-6.75%206.75zM13.5,38.25l2.25,-4.5%203,-2.063M40.5,38.25l-2.25,-4.5%20-3,-2.063M31.5,20.25h-9v-4.5a2.25,2.25%200,0%201,2.25%20-2.25h4.5a2.25,2.25%200,0%201,2.25%202.25v4.5z'%20stroke-width='3.38'%20stroke='%23B77DFF'/%3e%3c/svg%3e", tag: ta.BUG }, { key: dA.feedbackTypeQuestion, label: Y().shake_sdk_new_ticket_feedback_type_question, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='M42.75,47.25h-31.5a4.499,4.499%200,0%201,-4.5%20-4.5v-31.5c0,-2.486%202.014,-4.5%204.5,-4.5h31.5c2.486,0%204.5,2.014%204.5,4.5v31.5c0,2.486%20-2.014,4.5%20-4.5,4.5z'%20stroke-width='3.38'%20stroke='%23FF9F0A'/%3e%3cpath%20fill='%2300000000'%20d='M27,29.813v-0.563c0,-1.838%201.136,-2.835%202.275,-3.6%201.111,-0.75%202.225,-1.726%202.225,-3.526%200,-2.486%20-2.014,-4.5%20-4.5,-4.5a4.499,4.499%200,0%200,-4.5%204.5M26.998,36a0.563,0.563%200,1%200,0.005%201.125,0.563%200.563,0%200,0%20-0.005,-1.125'%20stroke-width='3.38'%20stroke='%23FF9F0A'/%3e%3c/svg%3e", tag: ta.QUESTION }, { key: dA.feedbackTypeSuggestion, label: Y().shake_sdk_new_ticket_feedback_type_suggestion, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='M31.275,47.25h0a20.507,20.507%200,0%200,15.417%20-15.417M38.25,22.5V9M31.5,15.75H45M6.75,22.725h0A20.504,20.504%200,0%201,22.167%207.304M22.167,47.25h0A20.511,20.511%200,0%201,6.75%2031.833'%20stroke-width='3.38'%20stroke='%23D75ED7'/%3e%3c/svg%3e", tag: ta.SUGGESTION }], t = new Qc(dA.feedbackType, Y().shake_sdk_new_ticket_feedback_type_title, s), e = new Fc(dA.description, Y().shake_sdk_new_ticket_description_placeholder, "", !0, 10), A = new au(dA.email, Y().shake_sdk_new_ticket_email_placeholder, "", !1), r = new cu();
  return new ou([t, e, A, r]);
}, dA = { feedbackType: "Feedback Type", feedbackTypeBug: "Bug", feedbackTypeQuestion: "Question", feedbackTypeSuggestion: "Suggestion", description: "Description", email: "Email", attachments: "Attachments" };
var lu = ((s) => (s.MERCURY = "mercury", s.VENUS = "venus", s.EARTH = "earth", s.MARS = "mars", s.JUPITER = "jupiter", s))(lu || {});
class Nr {
  constructor() {
    b(this, "observers", []);
    b(this, "addObserver", (t) => {
      this.observers.includes(t) || (this.observers.push(t), t(void 0));
    });
    b(this, "removeObserver", (t) => {
      const e = this.observers.indexOf(t);
      e > -1 && this.observers.splice(e, 1);
    });
    b(this, "notifyChange", (t) => this.observers.forEach((e) => e(t)));
  }
}
class ee {
}
b(ee, "apiKey", ""), b(ee, "authToken", null), b(ee, "apps", []);
const bh = new Nr();
let Ki;
const RC = new Uint8Array(16);
function HC() {
  if (!Ki && (Ki = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !Ki)) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return Ki(RC);
}
const ue = [];
for (let s = 0; s < 256; ++s) ue.push((s + 256).toString(16).slice(1));
const Op = { randomUUID: typeof crypto < "u" && crypto.randomUUID && crypto.randomUUID.bind(crypto) };
function jm(s, t, e) {
  if (Op.randomUUID && !t && !s) return Op.randomUUID();
  const A = (s = s || {}).random || (s.rng || HC)();
  return A[6] = 15 & A[6] | 64, A[8] = 63 & A[8] | 128, function(r, n = 0) {
    return ue[r[n + 0]] + ue[r[n + 1]] + ue[r[n + 2]] + ue[r[n + 3]] + "-" + ue[r[n + 4]] + ue[r[n + 5]] + "-" + ue[r[n + 6]] + ue[r[n + 7]] + "-" + ue[r[n + 8]] + ue[r[n + 9]] + "-" + ue[r[n + 10]] + ue[r[n + 11]] + ue[r[n + 12]] + ue[r[n + 13]] + ue[r[n + 14]] + ue[r[n + 15]];
  }(A);
}
function Lp() {
  return jm();
}
const Vm = { production: !0, name: "production", apiBaseUrl: "https://api.shakebugs.com/api/", webSocketUrl: "https://ws.shakebugs.com/" };
class PC {
  constructor() {
    b(this, "promises", []);
    b(this, "isExecuting", !1);
    b(this, "add", (t) => {
      this.promises.push(t), this.isExecuting || (this.isExecuting = !0, this.runNext());
    });
    b(this, "runNext", async () => {
      var t;
      this.promises.length > 0 ? (await ((t = this.promises.shift()) == null ? void 0 : t()), this.runNext()) : this.isExecuting = !1;
    });
  }
}
const ul = "shake.sdk.isAppRegistered", pl = "shake.sdk.isAppActive", Mp = "shake.sdk.shakeDeviceId", Dp = "shake.sdk.shakeChosenColor", Rp = "shake.sdk.shakeChosenDrawingOption", Hp = "shake.sdk.fetchTicketsTime", Pp = "shake.sdk.selectedApp", gl = "shake.sdk.shakeState";
class vh {
  constructor() {
    b(this, "formValues", {});
    b(this, "setFormValue", (t, e) => {
      this.formValues[t] = e;
    });
    b(this, "clear", () => {
      this.formValues = {};
    });
  }
}
class KC {
  constructor(t) {
    b(this, "localStorage");
    b(this, "isSDKEnabled", () => this.isAppRegistered() && this.isAppActive());
    b(this, "isAppRegistered", () => this.localStorage.getBoolean(ul));
    b(this, "setAppRegistered", (t) => this.localStorage.setBoolean(ul, t));
    b(this, "removeAppRegistered", () => {
      this.localStorage.removeItem(ul);
    });
    b(this, "isAppActive", () => this.localStorage.getBoolean(pl));
    b(this, "setAppActive", (t) => this.localStorage.setBoolean(pl, t));
    b(this, "removeAppActive", () => {
      this.localStorage.removeItem(pl);
    });
    b(this, "getShakeDeviceId", () => this.localStorage.getString(Mp));
    b(this, "setShakeDeviceId", (t) => this.localStorage.setString(Mp, t));
    b(this, "getDrawingColor", () => this.localStorage.getString(Dp));
    b(this, "setDrawingColor", (t) => this.localStorage.setString(Dp, t));
    b(this, "getDrawingOption", () => this.localStorage.getString(Rp));
    b(this, "setDrawingOption", (t) => this.localStorage.setString(Rp, t));
    b(this, "getFetchTicketsTime", () => this.localStorage.getNumber(Hp));
    b(this, "setFetchTicketsTime", (t) => this.localStorage.setNumber(Hp, t));
    b(this, "getSelectedAppId", () => this.localStorage.getString(Pp) ?? "");
    b(this, "setSelectedAppId", (t) => this.localStorage.setString(Pp, t));
    b(this, "getShakeState", () => {
      const t = this.localStorage.getObject(gl);
      return t ? Object.assign(new vh(), t) : new vh();
    });
    b(this, "setShakeState", (t) => this.localStorage.setObject(gl, t));
    b(this, "clearShakeState", () => {
      this.localStorage.removeItem(gl);
    });
    this.localStorage = t;
  }
}
class NC {
  constructor(t) {
    b(this, "sessionStorage");
    this.sessionStorage = t;
  }
}
class Kp {
  constructor(t) {
    b(this, "storage");
    this.storage = t;
  }
  getString(t) {
    return this.storage.getItem(t);
  }
  setString(t, e) {
    this.storage.setItem(t, e);
  }
  getBoolean(t) {
    return this.storage.getItem(t) === "true";
  }
  setBoolean(t, e) {
    this.storage.setItem(t, String(e));
  }
  getNumber(t) {
    return this.storage.getItem(t) == null ? null : Number(this.storage.getItem(t));
  }
  setNumber(t, e) {
    e === null ? this.storage.removeItem(t) : this.storage.setItem(t, String(e));
  }
  removeItem(t) {
    this.storage.removeItem(t);
  }
  getObject(t) {
    const e = this.storage.getItem(t);
    return e ? JSON.parse(e) : null;
  }
  setObject(t, e) {
    this.storage.setItem(t, JSON.stringify(e));
  }
}
const IA = [], Gm = (s) => IA.find((t) => t.name === s), hu = (s) => {
  const t = s.data ? URL.createObjectURL(s.data) : void 0, e = s.preview ? URL.createObjectURL(s.preview) : void 0;
  return { type: s.type, data: s.data, dataUrl: t, preview: s.preview, previewUrl: e, drawing: s.drawing, name: s.name, timestamp: s.timestamp };
}, LA = () => (IA.sort((t, e) => t.timestamp == e.timestamp ? 0 : t.timestamp > e.timestamp ? 1 : -1), IA).map((t) => hu(t)), Np = (s) => {
  const t = ((e) => ({ type: e.type, name: e.name, data: e.data, drawing: e.drawing, preview: e.preview, mimeType: e.data.type, timestamp: e.timestamp }))(s);
  ((e) => {
    const A = IA.findIndex((r) => r.name === e.name);
    A > -1 ? IA[A] = e : IA.push(e);
  })(t);
}, du = (s) => {
  const t = Gm(s);
  return t ? hu(t) : void 0;
}, jC = (s) => {
  ((t) => {
    const e = IA.findIndex((A) => A.name === t);
    e > -1 && IA.splice(e, 1);
  })(s);
};
class VC {
  constructor() {
    b(this, "addObservers", new Nr());
    b(this, "removeObservers", new Nr());
    b(this, "updateObservers", new Nr());
    b(this, "addAttachment", (t) => {
      Np(t), this.addObservers.notifyChange(t);
    });
    b(this, "removeAttachment", (t) => {
      this.attachmentExists(t.name) && (jC(t.name), this.removeObservers.notifyChange(t));
    });
    b(this, "updateAttachment", (t) => {
      this.attachmentExists(t.name) && (Np(t), this.updateObservers.notifyChange(t));
    });
    b(this, "attachmentExists", (t) => du(t) != null);
  }
}
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var kh = function(s, t) {
  return kh = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, A) {
    e.__proto__ = A;
  } || function(e, A) {
    for (var r in A) Object.prototype.hasOwnProperty.call(A, r) && (e[r] = A[r]);
  }, kh(s, t);
};
function yA(s, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
  function e() {
    this.constructor = s;
  }
  kh(s, t), s.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());
}
var xh = function() {
  return xh = Object.assign || function(s) {
    for (var t, e = 1, A = arguments.length; e < A; e++) for (var r in t = arguments[e]) Object.prototype.hasOwnProperty.call(t, r) && (s[r] = t[r]);
    return s;
  }, xh.apply(this, arguments);
};
function Ce(s, t, e, A) {
  return new (e || (e = Promise))(function(r, n) {
    function i(c) {
      try {
        a(A.next(c));
      } catch (l) {
        n(l);
      }
    }
    function o(c) {
      try {
        a(A.throw(c));
      } catch (l) {
        n(l);
      }
    }
    function a(c) {
      c.done ? r(c.value) : function(l) {
        return l instanceof e ? l : new e(function(h) {
          h(l);
        });
      }(c.value).then(i, o);
    }
    a((A = A.apply(s, [])).next());
  });
}
function we(s, t) {
  var e, A, r, n, i = { label: 0, sent: function() {
    if (1 & r[0]) throw r[1];
    return r[1];
  }, trys: [], ops: [] };
  return n = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol == "function" && (n[Symbol.iterator] = function() {
    return this;
  }), n;
  function o(a) {
    return function(c) {
      return function(l) {
        if (e) throw new TypeError("Generator is already executing.");
        for (; i; ) try {
          if (e = 1, A && (r = 2 & l[0] ? A.return : l[0] ? A.throw || ((r = A.return) && r.call(A), 0) : A.next) && !(r = r.call(A, l[1])).done) return r;
          switch (A = 0, r && (l = [2 & l[0], r.value]), l[0]) {
            case 0:
            case 1:
              r = l;
              break;
            case 4:
              return i.label++, { value: l[1], done: !1 };
            case 5:
              i.label++, A = l[1], l = [0];
              continue;
            case 7:
              l = i.ops.pop(), i.trys.pop();
              continue;
            default:
              if (r = i.trys, !((r = r.length > 0 && r[r.length - 1]) || l[0] !== 6 && l[0] !== 2)) {
                i = 0;
                continue;
              }
              if (l[0] === 3 && (!r || l[1] > r[0] && l[1] < r[3])) {
                i.label = l[1];
                break;
              }
              if (l[0] === 6 && i.label < r[1]) {
                i.label = r[1], r = l;
                break;
              }
              if (r && i.label < r[2]) {
                i.label = r[2], i.ops.push(l);
                break;
              }
              r[2] && i.ops.pop(), i.trys.pop();
              continue;
          }
          l = t.call(s, i);
        } catch (h) {
          l = [6, h], A = 0;
        } finally {
          e = r = 0;
        }
        if (5 & l[0]) throw l[1];
        return { value: l[0] ? l[1] : void 0, done: !0 };
      }([a, c]);
    };
  }
}
function Ni(s, t, e) {
  if (arguments.length === 2) for (var A, r = 0, n = t.length; r < n; r++) !A && r in t || (A || (A = Array.prototype.slice.call(t, 0, r)), A[r] = t[r]);
  return s.concat(A || t);
}
for (var ss = function() {
  function s(t, e, A, r) {
    this.left = t, this.top = e, this.width = A, this.height = r;
  }
  return s.prototype.add = function(t, e, A, r) {
    return new s(this.left + t, this.top + e, this.width + A, this.height + r);
  }, s.fromClientRect = function(t, e) {
    return new s(e.left + t.windowBounds.left, e.top + t.windowBounds.top, e.width, e.height);
  }, s.fromDOMRectList = function(t, e) {
    var A = Array.from(e).find(function(r) {
      return r.width !== 0;
    });
    return A ? new s(A.left + t.windowBounds.left, A.top + t.windowBounds.top, A.width, A.height) : s.EMPTY;
  }, s.EMPTY = new s(0, 0, 0, 0), s;
}(), Uc = function(s, t) {
  return ss.fromClientRect(s, t.getBoundingClientRect());
}, Ha = function(s) {
  for (var t = [], e = 0, A = s.length; e < A; ) {
    var r = s.charCodeAt(e++);
    if (r >= 55296 && r <= 56319 && e < A) {
      var n = s.charCodeAt(e++);
      (64512 & n) == 56320 ? t.push(((1023 & r) << 10) + (1023 & n) + 65536) : (t.push(r), e--);
    } else t.push(r);
  }
  return t;
}, zt = function() {
  for (var s = [], t = 0; t < arguments.length; t++) s[t] = arguments[t];
  if (String.fromCodePoint) return String.fromCodePoint.apply(String, s);
  var e = s.length;
  if (!e) return "";
  for (var A = [], r = -1, n = ""; ++r < e; ) {
    var i = s[r];
    i <= 65535 ? A.push(i) : (i -= 65536, A.push(55296 + (i >> 10), i % 1024 + 56320)), (r + 1 === e || A.length > 16384) && (n += String.fromCharCode.apply(String, A), A.length = 0);
  }
  return n;
}, GC = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", WC = typeof Uint8Array > "u" ? [] : new Uint8Array(256), ji = 0; ji < 64; ji++) WC[GC.charCodeAt(ji)] = ji;
for (var YC = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", vn = typeof Uint8Array > "u" ? [] : new Uint8Array(256), Vi = 0; Vi < 64; Vi++) vn[YC.charCodeAt(Vi)] = Vi;
for (var jp = function(s, t, e) {
  return s.slice ? s.slice(t, e) : new Uint16Array(Array.prototype.slice.call(s, t, e));
}, JC = function() {
  function s(t, e, A, r, n, i) {
    this.initialValue = t, this.errorValue = e, this.highStart = A, this.highValueIndex = r, this.index = n, this.data = i;
  }
  return s.prototype.get = function(t) {
    var e;
    if (t >= 0) {
      if (t < 55296 || t > 56319 && t <= 65535) return e = ((e = this.index[t >> 5]) << 2) + (31 & t), this.data[e];
      if (t <= 65535) return e = ((e = this.index[2048 + (t - 55296 >> 5)]) << 2) + (31 & t), this.data[e];
      if (t < this.highStart) return e = 2080 + (t >> 11), e = this.index[e], e += t >> 5 & 63, e = ((e = this.index[e]) << 2) + (31 & t), this.data[e];
      if (t <= 1114111) return this.data[this.highValueIndex];
    }
    return this.errorValue;
  }, s;
}(), XC = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", zC = typeof Uint8Array > "u" ? [] : new Uint8Array(256), Gi = 0; Gi < 64; Gi++) zC[XC.charCodeAt(Gi)] = Gi;
var Cs = 10, Sh = 13, kn = 15, Wi = 17, hn = 18, ZC = 19, Vp = 20, Eh = 21, dn = 22, pr = 24, Ye = 25, xn = 26, Sn = 27, gr = 28, Sr = 30, Yi = 32, Ji = 33, Fh = 34, Qh = 35, ti = 37, Uh = 38, ea = 39, Aa = 40, Gp = 42, qC = [9001, 65288], ft = "ร", Xi = "รท", Ih = function(s) {
  var t, e, A, r = function(c) {
    var l, h, d, u, p, g = 0.75 * c.length, m = c.length, f = 0;
    c[c.length - 1] === "=" && (g--, c[c.length - 2] === "=" && g--);
    var w = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && Uint8Array.prototype.slice !== void 0 ? new ArrayBuffer(g) : new Array(g), B = Array.isArray(w) ? w : new Uint8Array(w);
    for (l = 0; l < m; l += 4) h = vn[c.charCodeAt(l)], d = vn[c.charCodeAt(l + 1)], u = vn[c.charCodeAt(l + 2)], p = vn[c.charCodeAt(l + 3)], B[f++] = h << 2 | d >> 4, B[f++] = (15 & d) << 4 | u >> 2, B[f++] = (3 & u) << 6 | 63 & p;
    return w;
  }(s), n = Array.isArray(r) ? function(c) {
    for (var l = c.length, h = [], d = 0; d < l; d += 4) h.push(c[d + 3] << 24 | c[d + 2] << 16 | c[d + 1] << 8 | c[d]);
    return h;
  }(r) : new Uint32Array(r), i = Array.isArray(r) ? function(c) {
    for (var l = c.length, h = [], d = 0; d < l; d += 2) h.push(c[d + 1] << 8 | c[d]);
    return h;
  }(r) : new Uint16Array(r), o = jp(i, 12, n[4] / 2), a = n[5] === 2 ? jp(i, (24 + n[4]) / 2) : (t = n, e = Math.ceil((24 + n[4]) / 4), t.slice ? t.slice(e, A) : new Uint32Array(Array.prototype.slice.call(t, e, A)));
  return new JC(n[0], n[1], n[2], n[3], o, a);
}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="), NA = [Sr, 36], Th = [1, 2, 3, 5], Wm = [Cs, 8], Wp = [Sn, xn], $C = Th.concat(Wm), Yp = [Uh, ea, Aa, Fh, Qh], t1 = [kn, Sh], fl = function(s, t, e, A) {
  var r = A[e];
  if (Array.isArray(s) ? s.indexOf(r) !== -1 : s === r) for (var n = e; n <= A.length; ) {
    if ((a = A[++n]) === t) return !0;
    if (a !== Cs) break;
  }
  if (r === Cs) for (n = e; n > 0; ) {
    var i = A[--n];
    if (Array.isArray(s) ? s.indexOf(i) !== -1 : s === i) for (var o = e; o <= A.length; ) {
      var a;
      if ((a = A[++o]) === t) return !0;
      if (a !== Cs) break;
    }
    if (i !== Cs) break;
  }
  return !1;
}, Jp = function(s, t) {
  for (var e = s; e >= 0; ) {
    var A = t[e];
    if (A !== Cs) return A;
    e--;
  }
  return 0;
}, e1 = function(s, t, e, A, r) {
  if (e[A] === 0) return ft;
  var n = A - 1;
  if (Array.isArray(r) && r[n] === !0) return ft;
  var i = n - 1, o = n + 1, a = t[n], c = i >= 0 ? t[i] : 0, l = t[o];
  if (a === 2 && l === 3) return ft;
  if (Th.indexOf(a) !== -1) return "!";
  if (Th.indexOf(l) !== -1 || Wm.indexOf(l) !== -1) return ft;
  if (Jp(n, t) === 8) return Xi;
  if (Ih.get(s[n]) === 11 || (a === Yi || a === Ji) && Ih.get(s[o]) === 11 || a === 7 || l === 7 || a === 9 || [Cs, Sh, kn].indexOf(a) === -1 && l === 9 || [Wi, hn, ZC, pr, gr].indexOf(l) !== -1 || Jp(n, t) === dn || fl(23, dn, n, t) || fl([Wi, hn], Eh, n, t) || fl(12, 12, n, t)) return ft;
  if (a === Cs) return Xi;
  if (a === 23 || l === 23) return ft;
  if (l === 16 || a === 16) return Xi;
  if ([Sh, kn, Eh].indexOf(l) !== -1 || a === 14 || c === 36 && t1.indexOf(a) !== -1 || a === gr && l === 36 || l === Vp || NA.indexOf(l) !== -1 && a === Ye || NA.indexOf(a) !== -1 && l === Ye || a === Sn && [ti, Yi, Ji].indexOf(l) !== -1 || [ti, Yi, Ji].indexOf(a) !== -1 && l === xn || NA.indexOf(a) !== -1 && Wp.indexOf(l) !== -1 || Wp.indexOf(a) !== -1 && NA.indexOf(l) !== -1 || [Sn, xn].indexOf(a) !== -1 && (l === Ye || [dn, kn].indexOf(l) !== -1 && t[o + 1] === Ye) || [dn, kn].indexOf(a) !== -1 && l === Ye || a === Ye && [Ye, gr, pr].indexOf(l) !== -1) return ft;
  if ([Ye, gr, pr, Wi, hn].indexOf(l) !== -1) for (var h = n; h >= 0; ) {
    if ((d = t[h]) === Ye) return ft;
    if ([gr, pr].indexOf(d) === -1) break;
    h--;
  }
  if ([Sn, xn].indexOf(l) !== -1) for (h = [Wi, hn].indexOf(a) !== -1 ? i : n; h >= 0; ) {
    var d;
    if ((d = t[h]) === Ye) return ft;
    if ([gr, pr].indexOf(d) === -1) break;
    h--;
  }
  if (Uh === a && [Uh, ea, Fh, Qh].indexOf(l) !== -1 || [ea, Fh].indexOf(a) !== -1 && [ea, Aa].indexOf(l) !== -1 || [Aa, Qh].indexOf(a) !== -1 && l === Aa || Yp.indexOf(a) !== -1 && [Vp, xn].indexOf(l) !== -1 || Yp.indexOf(l) !== -1 && a === Sn || NA.indexOf(a) !== -1 && NA.indexOf(l) !== -1 || a === pr && NA.indexOf(l) !== -1 || NA.concat(Ye).indexOf(a) !== -1 && l === dn && qC.indexOf(s[o]) === -1 || NA.concat(Ye).indexOf(l) !== -1 && a === hn) return ft;
  if (a === 41 && l === 41) {
    for (var u = e[n], p = 1; u > 0 && t[--u] === 41; ) p++;
    if (p % 2 != 0) return ft;
  }
  return a === Yi && l === Ji ? ft : Xi;
}, A1 = function(s, t) {
  t || (t = { lineBreak: "normal", wordBreak: "normal" });
  var e = function(o, a) {
    a === void 0 && (a = "strict");
    var c = [], l = [], h = [];
    return o.forEach(function(d, u) {
      var p = Ih.get(d);
      if (p > 50 ? (h.push(!0), p -= 50) : h.push(!1), ["normal", "auto", "loose"].indexOf(a) !== -1 && [8208, 8211, 12316, 12448].indexOf(d) !== -1) return l.push(u), c.push(16);
      if (p === 4 || p === 11) {
        if (u === 0) return l.push(u), c.push(Sr);
        var g = c[u - 1];
        return $C.indexOf(g) === -1 ? (l.push(l[u - 1]), c.push(g)) : (l.push(u), c.push(Sr));
      }
      return l.push(u), p === 31 ? c.push(a === "strict" ? Eh : ti) : p === Gp || p === 29 ? c.push(Sr) : p === 43 ? d >= 131072 && d <= 196605 || d >= 196608 && d <= 262141 ? c.push(ti) : c.push(Sr) : void c.push(p);
    }), [l, c, h];
  }(s, t.lineBreak), A = e[0], r = e[1], n = e[2];
  t.wordBreak !== "break-all" && t.wordBreak !== "break-word" || (r = r.map(function(o) {
    return [Ye, Sr, Gp].indexOf(o) !== -1 ? ti : o;
  }));
  var i = t.wordBreak === "keep-all" ? n.map(function(o, a) {
    return o && s[a] >= 19968 && s[a] <= 40959;
  }) : void 0;
  return [A, r, i];
}, s1 = function() {
  function s(t, e, A, r) {
    this.codePoints = t, this.required = e === "!", this.start = A, this.end = r;
  }
  return s.prototype.slice = function() {
    return zt.apply(void 0, this.codePoints.slice(this.start, this.end));
  }, s;
}(), Oe = 45, Xs = 43, kA = -1, ke = function(s) {
  return s >= 48 && s <= 57;
}, fr = function(s) {
  return ke(s) || s >= 65 && s <= 70 || s >= 97 && s <= 102;
}, zi = function(s) {
  return s === 10 || s === 9 || s === 32;
}, Pa = function(s) {
  return function(t) {
    return function(e) {
      return e >= 97 && e <= 122;
    }(t) || function(e) {
      return e >= 65 && e <= 90;
    }(t);
  }(s) || function(t) {
    return t >= 128;
  }(s) || s === 95;
}, Xp = function(s) {
  return Pa(s) || ke(s) || s === Oe;
}, r1 = function(s) {
  return s >= 0 && s <= 8 || s === 11 || s >= 14 && s <= 31 || s === 127;
}, ws = function(s, t) {
  return s === 92 && t !== 10;
}, Zi = function(s, t, e) {
  return s === Oe ? Pa(t) || ws(t, e) : !!Pa(s) || !(s !== 92 || !ws(s, t));
}, ml = function(s, t, e) {
  return s === Xs || s === Oe ? !!ke(t) || t === 46 && ke(e) : ke(s === 46 ? t : s);
}, n1 = function(s) {
  var t = 0, e = 1;
  s[t] !== Xs && s[t] !== Oe || (s[t] === Oe && (e = -1), t++);
  for (var A = []; ke(s[t]); ) A.push(s[t++]);
  var r = A.length ? parseInt(zt.apply(void 0, A), 10) : 0;
  s[t] === 46 && t++;
  for (var n = []; ke(s[t]); ) n.push(s[t++]);
  var i = n.length, o = i ? parseInt(zt.apply(void 0, n), 10) : 0;
  s[t] !== 69 && s[t] !== 101 || t++;
  var a = 1;
  s[t] !== Xs && s[t] !== Oe || (s[t] === Oe && (a = -1), t++);
  for (var c = []; ke(s[t]); ) c.push(s[t++]);
  var l = c.length ? parseInt(zt.apply(void 0, c), 10) : 0;
  return e * (r + o * Math.pow(10, -i)) * Math.pow(10, a * l);
}, i1 = { type: 2 }, o1 = { type: 3 }, a1 = { type: 4 }, c1 = { type: 13 }, l1 = { type: 8 }, h1 = { type: 21 }, d1 = { type: 9 }, u1 = { type: 10 }, p1 = { type: 11 }, g1 = { type: 12 }, f1 = { type: 14 }, qi = { type: 23 }, m1 = { type: 1 }, w1 = { type: 25 }, B1 = { type: 24 }, y1 = { type: 26 }, C1 = { type: 27 }, b1 = { type: 28 }, v1 = { type: 29 }, k1 = { type: 31 }, _h = { type: 32 }, Ym = function() {
  function s() {
    this._value = [];
  }
  return s.prototype.write = function(t) {
    this._value = this._value.concat(Ha(t));
  }, s.prototype.read = function() {
    for (var t = [], e = this.consumeToken(); e !== _h; ) t.push(e), e = this.consumeToken();
    return t;
  }, s.prototype.consumeToken = function() {
    var t = this.consumeCodePoint();
    switch (t) {
      case 34:
        return this.consumeStringToken(34);
      case 35:
        var e = this.peekCodePoint(0), A = this.peekCodePoint(1), r = this.peekCodePoint(2);
        if (Xp(e) || ws(A, r)) {
          var n = Zi(e, A, r) ? 2 : 1;
          return { type: 5, value: this.consumeName(), flags: n };
        }
        break;
      case 36:
        if (this.peekCodePoint(0) === 61) return this.consumeCodePoint(), c1;
        break;
      case 39:
        return this.consumeStringToken(39);
      case 40:
        return i1;
      case 41:
        return o1;
      case 42:
        if (this.peekCodePoint(0) === 61) return this.consumeCodePoint(), f1;
        break;
      case Xs:
        if (ml(t, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(t), this.consumeNumericToken();
        break;
      case 44:
        return a1;
      case Oe:
        var i = t, o = this.peekCodePoint(0), a = this.peekCodePoint(1);
        if (ml(i, o, a)) return this.reconsumeCodePoint(t), this.consumeNumericToken();
        if (Zi(i, o, a)) return this.reconsumeCodePoint(t), this.consumeIdentLikeToken();
        if (o === Oe && a === 62) return this.consumeCodePoint(), this.consumeCodePoint(), B1;
        break;
      case 46:
        if (ml(t, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(t), this.consumeNumericToken();
        break;
      case 47:
        if (this.peekCodePoint(0) === 42) for (this.consumeCodePoint(); ; ) {
          var c = this.consumeCodePoint();
          if (c === 42 && (c = this.consumeCodePoint()) === 47) return this.consumeToken();
          if (c === kA) return this.consumeToken();
        }
        break;
      case 58:
        return y1;
      case 59:
        return C1;
      case 60:
        if (this.peekCodePoint(0) === 33 && this.peekCodePoint(1) === Oe && this.peekCodePoint(2) === Oe) return this.consumeCodePoint(), this.consumeCodePoint(), w1;
        break;
      case 64:
        var l = this.peekCodePoint(0), h = this.peekCodePoint(1), d = this.peekCodePoint(2);
        if (Zi(l, h, d)) return { type: 7, value: this.consumeName() };
        break;
      case 91:
        return b1;
      case 92:
        if (ws(t, this.peekCodePoint(0))) return this.reconsumeCodePoint(t), this.consumeIdentLikeToken();
        break;
      case 93:
        return v1;
      case 61:
        if (this.peekCodePoint(0) === 61) return this.consumeCodePoint(), l1;
        break;
      case 123:
        return p1;
      case 125:
        return g1;
      case 117:
      case 85:
        var u = this.peekCodePoint(0), p = this.peekCodePoint(1);
        return u !== Xs || !fr(p) && p !== 63 || (this.consumeCodePoint(), this.consumeUnicodeRangeToken()), this.reconsumeCodePoint(t), this.consumeIdentLikeToken();
      case 124:
        if (this.peekCodePoint(0) === 61) return this.consumeCodePoint(), d1;
        if (this.peekCodePoint(0) === 124) return this.consumeCodePoint(), h1;
        break;
      case 126:
        if (this.peekCodePoint(0) === 61) return this.consumeCodePoint(), u1;
        break;
      case kA:
        return _h;
    }
    return zi(t) ? (this.consumeWhiteSpace(), k1) : ke(t) ? (this.reconsumeCodePoint(t), this.consumeNumericToken()) : Pa(t) ? (this.reconsumeCodePoint(t), this.consumeIdentLikeToken()) : { type: 6, value: zt(t) };
  }, s.prototype.consumeCodePoint = function() {
    var t = this._value.shift();
    return t === void 0 ? -1 : t;
  }, s.prototype.reconsumeCodePoint = function(t) {
    this._value.unshift(t);
  }, s.prototype.peekCodePoint = function(t) {
    return t >= this._value.length ? -1 : this._value[t];
  }, s.prototype.consumeUnicodeRangeToken = function() {
    for (var t = [], e = this.consumeCodePoint(); fr(e) && t.length < 6; ) t.push(e), e = this.consumeCodePoint();
    for (var A = !1; e === 63 && t.length < 6; ) t.push(e), e = this.consumeCodePoint(), A = !0;
    if (A) return { type: 30, start: parseInt(zt.apply(void 0, t.map(function(i) {
      return i === 63 ? 48 : i;
    })), 16), end: parseInt(zt.apply(void 0, t.map(function(i) {
      return i === 63 ? 70 : i;
    })), 16) };
    var r = parseInt(zt.apply(void 0, t), 16);
    if (this.peekCodePoint(0) === Oe && fr(this.peekCodePoint(1))) {
      this.consumeCodePoint(), e = this.consumeCodePoint();
      for (var n = []; fr(e) && n.length < 6; ) n.push(e), e = this.consumeCodePoint();
      return { type: 30, start: r, end: parseInt(zt.apply(void 0, n), 16) };
    }
    return { type: 30, start: r, end: r };
  }, s.prototype.consumeIdentLikeToken = function() {
    var t = this.consumeName();
    return t.toLowerCase() === "url" && this.peekCodePoint(0) === 40 ? (this.consumeCodePoint(), this.consumeUrlToken()) : this.peekCodePoint(0) === 40 ? (this.consumeCodePoint(), { type: 19, value: t }) : { type: 20, value: t };
  }, s.prototype.consumeUrlToken = function() {
    var t = [];
    if (this.consumeWhiteSpace(), this.peekCodePoint(0) === kA) return { type: 22, value: "" };
    var e = this.peekCodePoint(0);
    if (e === 39 || e === 34) {
      var A = this.consumeStringToken(this.consumeCodePoint());
      return A.type === 0 && (this.consumeWhiteSpace(), this.peekCodePoint(0) === kA || this.peekCodePoint(0) === 41) ? (this.consumeCodePoint(), { type: 22, value: A.value }) : (this.consumeBadUrlRemnants(), qi);
    }
    for (; ; ) {
      var r = this.consumeCodePoint();
      if (r === kA || r === 41) return { type: 22, value: zt.apply(void 0, t) };
      if (zi(r)) return this.consumeWhiteSpace(), this.peekCodePoint(0) === kA || this.peekCodePoint(0) === 41 ? (this.consumeCodePoint(), { type: 22, value: zt.apply(void 0, t) }) : (this.consumeBadUrlRemnants(), qi);
      if (r === 34 || r === 39 || r === 40 || r1(r)) return this.consumeBadUrlRemnants(), qi;
      if (r === 92) {
        if (!ws(r, this.peekCodePoint(0))) return this.consumeBadUrlRemnants(), qi;
        t.push(this.consumeEscapedCodePoint());
      } else t.push(r);
    }
  }, s.prototype.consumeWhiteSpace = function() {
    for (; zi(this.peekCodePoint(0)); ) this.consumeCodePoint();
  }, s.prototype.consumeBadUrlRemnants = function() {
    for (; ; ) {
      var t = this.consumeCodePoint();
      if (t === 41 || t === kA) return;
      ws(t, this.peekCodePoint(0)) && this.consumeEscapedCodePoint();
    }
  }, s.prototype.consumeStringSlice = function(t) {
    for (var e = ""; t > 0; ) {
      var A = Math.min(5e4, t);
      e += zt.apply(void 0, this._value.splice(0, A)), t -= A;
    }
    return this._value.shift(), e;
  }, s.prototype.consumeStringToken = function(t) {
    for (var e = "", A = 0; ; ) {
      var r = this._value[A];
      if (r === kA || r === void 0 || r === t) return { type: 0, value: e += this.consumeStringSlice(A) };
      if (r === 10) return this._value.splice(0, A), m1;
      if (r === 92) {
        var n = this._value[A + 1];
        n !== kA && n !== void 0 && (n === 10 ? (e += this.consumeStringSlice(A), A = -1, this._value.shift()) : ws(r, n) && (e += this.consumeStringSlice(A), e += zt(this.consumeEscapedCodePoint()), A = -1));
      }
      A++;
    }
  }, s.prototype.consumeNumber = function() {
    var t = [], e = 4, A = this.peekCodePoint(0);
    for (A !== Xs && A !== Oe || t.push(this.consumeCodePoint()); ke(this.peekCodePoint(0)); ) t.push(this.consumeCodePoint());
    A = this.peekCodePoint(0);
    var r = this.peekCodePoint(1);
    if (A === 46 && ke(r)) for (t.push(this.consumeCodePoint(), this.consumeCodePoint()), e = 8; ke(this.peekCodePoint(0)); ) t.push(this.consumeCodePoint());
    A = this.peekCodePoint(0), r = this.peekCodePoint(1);
    var n = this.peekCodePoint(2);
    if ((A === 69 || A === 101) && ((r === Xs || r === Oe) && ke(n) || ke(r))) for (t.push(this.consumeCodePoint(), this.consumeCodePoint()), e = 8; ke(this.peekCodePoint(0)); ) t.push(this.consumeCodePoint());
    return [n1(t), e];
  }, s.prototype.consumeNumericToken = function() {
    var t = this.consumeNumber(), e = t[0], A = t[1], r = this.peekCodePoint(0), n = this.peekCodePoint(1), i = this.peekCodePoint(2);
    return Zi(r, n, i) ? { type: 15, number: e, flags: A, unit: this.consumeName() } : r === 37 ? (this.consumeCodePoint(), { type: 16, number: e, flags: A }) : { type: 17, number: e, flags: A };
  }, s.prototype.consumeEscapedCodePoint = function() {
    var t = this.consumeCodePoint();
    if (fr(t)) {
      for (var e = zt(t); fr(this.peekCodePoint(0)) && e.length < 6; ) e += zt(this.consumeCodePoint());
      zi(this.peekCodePoint(0)) && this.consumeCodePoint();
      var A = parseInt(e, 16);
      return A === 0 || function(r) {
        return r >= 55296 && r <= 57343;
      }(A) || A > 1114111 ? 65533 : A;
    }
    return t === kA ? 65533 : t;
  }, s.prototype.consumeName = function() {
    for (var t = ""; ; ) {
      var e = this.consumeCodePoint();
      if (Xp(e)) t += zt(e);
      else {
        if (!ws(e, this.peekCodePoint(0))) return this.reconsumeCodePoint(e), t;
        t += zt(this.consumeEscapedCodePoint());
      }
    }
  }, s;
}(), Jm = function() {
  function s(t) {
    this._tokens = t;
  }
  return s.create = function(t) {
    var e = new Ym();
    return e.write(t), new s(e.read());
  }, s.parseValue = function(t) {
    return s.create(t).parseComponentValue();
  }, s.parseValues = function(t) {
    return s.create(t).parseComponentValues();
  }, s.prototype.parseComponentValue = function() {
    for (var t = this.consumeToken(); t.type === 31; ) t = this.consumeToken();
    if (t.type === 32) throw new SyntaxError("Error parsing CSS component value, unexpected EOF");
    this.reconsumeToken(t);
    var e = this.consumeComponentValue();
    do
      t = this.consumeToken();
    while (t.type === 31);
    if (t.type === 32) return e;
    throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one");
  }, s.prototype.parseComponentValues = function() {
    for (var t = []; ; ) {
      var e = this.consumeComponentValue();
      if (e.type === 32) return t;
      t.push(e), t.push();
    }
  }, s.prototype.consumeComponentValue = function() {
    var t = this.consumeToken();
    switch (t.type) {
      case 11:
      case 28:
      case 2:
        return this.consumeSimpleBlock(t.type);
      case 19:
        return this.consumeFunction(t);
    }
    return t;
  }, s.prototype.consumeSimpleBlock = function(t) {
    for (var e = { type: t, values: [] }, A = this.consumeToken(); ; ) {
      if (A.type === 32 || S1(A, t)) return e;
      this.reconsumeToken(A), e.values.push(this.consumeComponentValue()), A = this.consumeToken();
    }
  }, s.prototype.consumeFunction = function(t) {
    for (var e = { name: t.value, values: [], type: 18 }; ; ) {
      var A = this.consumeToken();
      if (A.type === 32 || A.type === 3) return e;
      this.reconsumeToken(A), e.values.push(this.consumeComponentValue());
    }
  }, s.prototype.consumeToken = function() {
    var t = this._tokens.shift();
    return t === void 0 ? _h : t;
  }, s.prototype.reconsumeToken = function(t) {
    this._tokens.unshift(t);
  }, s;
}(), ui = function(s) {
  return s.type === 15;
}, Er = function(s) {
  return s.type === 17;
}, _t = function(s) {
  return s.type === 20;
}, x1 = function(s) {
  return s.type === 0;
}, Oh = function(s, t) {
  return _t(s) && s.value === t;
}, zp = function(s) {
  return s.type !== 31;
}, qr = function(s) {
  return s.type !== 31 && s.type !== 4;
}, TA = function(s) {
  var t = [], e = [];
  return s.forEach(function(A) {
    if (A.type === 4) {
      if (e.length === 0) throw new Error("Error parsing function args, zero tokens for arg");
      return t.push(e), void (e = []);
    }
    A.type !== 31 && e.push(A);
  }), e.length && t.push(e), t;
}, S1 = function(s, t) {
  return t === 11 && s.type === 12 || t === 28 && s.type === 29 || t === 2 && s.type === 3;
}, Qs = function(s) {
  return s.type === 17 || s.type === 15;
}, Ae = function(s) {
  return s.type === 16 || Qs(s);
}, Xm = function(s) {
  return s.length > 1 ? [s[0], s[1]] : [s[0]];
}, ge = { type: 17, number: 0, flags: 4 }, uu = { type: 16, number: 50, flags: 4 }, bs = { type: 16, number: 100, flags: 4 }, En = function(s, t, e) {
  var A = s[0], r = s[1];
  return [Lt(A, t), Lt(r !== void 0 ? r : A, e)];
}, Lt = function(s, t) {
  if (s.type === 16) return s.number / 100 * t;
  if (ui(s)) switch (s.unit) {
    case "rem":
    case "em":
      return 16 * s.number;
    default:
      return s.number;
  }
  return s.number;
}, zm = "grad", Zm = "turn", Ic = function(s, t) {
  if (t.type === 15) switch (t.unit) {
    case "deg":
      return Math.PI * t.number / 180;
    case zm:
      return Math.PI / 200 * t.number;
    case "rad":
      return t.number;
    case Zm:
      return 2 * Math.PI * t.number;
  }
  throw new Error("Unsupported angle type");
}, qm = function(s) {
  return s.type === 15 && (s.unit === "deg" || s.unit === zm || s.unit === "rad" || s.unit === Zm);
}, $m = function(s) {
  switch (s.filter(_t).map(function(t) {
    return t.value;
  }).join(" ")) {
    case "to bottom right":
    case "to right bottom":
    case "left top":
    case "top left":
      return [ge, ge];
    case "to top":
    case "bottom":
      return rA(0);
    case "to bottom left":
    case "to left bottom":
    case "right top":
    case "top right":
      return [ge, bs];
    case "to right":
    case "left":
      return rA(90);
    case "to top left":
    case "to left top":
    case "right bottom":
    case "bottom right":
      return [bs, bs];
    case "to bottom":
    case "top":
      return rA(180);
    case "to top right":
    case "to right top":
    case "left bottom":
    case "bottom left":
      return [bs, ge];
    case "to left":
    case "right":
      return rA(270);
  }
  return 0;
}, rA = function(s) {
  return Math.PI * s / 180;
}, ks = function(s, t) {
  if (t.type === 18) {
    var e = E1[t.name];
    if (e === void 0) throw new Error('Attempting to parse an unsupported color function "' + t.name + '"');
    return e(s, t.values);
  }
  if (t.type === 5) {
    if (t.value.length === 3) {
      var A = t.value.substring(0, 1), r = t.value.substring(1, 2), n = t.value.substring(2, 3);
      return vs(parseInt(A + A, 16), parseInt(r + r, 16), parseInt(n + n, 16), 1);
    }
    if (t.value.length === 4) {
      A = t.value.substring(0, 1), r = t.value.substring(1, 2), n = t.value.substring(2, 3);
      var i = t.value.substring(3, 4);
      return vs(parseInt(A + A, 16), parseInt(r + r, 16), parseInt(n + n, 16), parseInt(i + i, 16) / 255);
    }
    if (t.value.length === 6)
      return A = t.value.substring(0, 2), r = t.value.substring(2, 4), n = t.value.substring(4, 6), vs(parseInt(A, 16), parseInt(r, 16), parseInt(n, 16), 1);
    if (t.value.length === 8)
      return A = t.value.substring(0, 2), r = t.value.substring(2, 4), n = t.value.substring(4, 6), i = t.value.substring(6, 8), vs(parseInt(A, 16), parseInt(r, 16), parseInt(n, 16), parseInt(i, 16) / 255);
  }
  if (t.type === 20) {
    var o = ts[t.value.toUpperCase()];
    if (o !== void 0) return o;
  }
  return ts.TRANSPARENT;
}, xs = function(s) {
  return !(255 & s);
}, le = function(s) {
  var t = 255 & s, e = 255 & s >> 8, A = 255 & s >> 16, r = 255 & s >> 24;
  return t < 255 ? "rgba(" + r + "," + A + "," + e + "," + t / 255 + ")" : "rgb(" + r + "," + A + "," + e + ")";
}, vs = function(s, t, e, A) {
  return (s << 24 | t << 16 | e << 8 | Math.round(255 * A)) >>> 0;
}, Zp = function(s, t) {
  if (s.type === 17) return s.number;
  if (s.type === 16) {
    var e = t === 3 ? 1 : 255;
    return t === 3 ? s.number / 100 * e : Math.round(s.number / 100 * e);
  }
  return 0;
}, qp = function(s, t) {
  var e = t.filter(qr);
  if (e.length === 3) {
    var A = e.map(Zp), r = A[0], n = A[1], i = A[2];
    return vs(r, n, i, 1);
  }
  if (e.length === 4) {
    var o = e.map(Zp), a = (r = o[0], n = o[1], i = o[2], o[3]);
    return vs(r, n, i, a);
  }
  return 0;
};
function wl(s, t, e) {
  return e < 0 && (e += 1), e >= 1 && (e -= 1), e < 1 / 6 ? (t - s) * e * 6 + s : e < 0.5 ? t : e < 2 / 3 ? 6 * (t - s) * (2 / 3 - e) + s : s;
}
var $p = function(s, t) {
  var e = t.filter(qr), A = e[0], r = e[1], n = e[2], i = e[3], o = (A.type === 17 ? rA(A.number) : Ic(s, A)) / (2 * Math.PI), a = Ae(r) ? r.number / 100 : 0, c = Ae(n) ? n.number / 100 : 0, l = i !== void 0 && Ae(i) ? Lt(i, 1) : 1;
  if (a === 0) return vs(255 * c, 255 * c, 255 * c, 1);
  var h = c <= 0.5 ? c * (a + 1) : c + a - c * a, d = 2 * c - h, u = wl(d, h, o + 1 / 3), p = wl(d, h, o), g = wl(d, h, o - 1 / 3);
  return vs(255 * u, 255 * p, 255 * g, l);
}, E1 = { hsl: $p, hsla: $p, rgb: qp, rgba: qp }, ei = function(s, t) {
  return ks(s, Jm.create(t).parseComponentValue());
}, ts = { ALICEBLUE: 4042850303, ANTIQUEWHITE: 4209760255, AQUA: 16777215, AQUAMARINE: 2147472639, AZURE: 4043309055, BEIGE: 4126530815, BISQUE: 4293182719, BLACK: 255, BLANCHEDALMOND: 4293643775, BLUE: 65535, BLUEVIOLET: 2318131967, BROWN: 2771004159, BURLYWOOD: 3736635391, CADETBLUE: 1604231423, CHARTREUSE: 2147418367, CHOCOLATE: 3530104575, CORAL: 4286533887, CORNFLOWERBLUE: 1687547391, CORNSILK: 4294499583, CRIMSON: 3692313855, CYAN: 16777215, DARKBLUE: 35839, DARKCYAN: 9145343, DARKGOLDENROD: 3095837695, DARKGRAY: 2846468607, DARKGREEN: 6553855, DARKGREY: 2846468607, DARKKHAKI: 3182914559, DARKMAGENTA: 2332068863, DARKOLIVEGREEN: 1433087999, DARKORANGE: 4287365375, DARKORCHID: 2570243327, DARKRED: 2332033279, DARKSALMON: 3918953215, DARKSEAGREEN: 2411499519, DARKSLATEBLUE: 1211993087, DARKSLATEGRAY: 793726975, DARKSLATEGREY: 793726975, DARKTURQUOISE: 13554175, DARKVIOLET: 2483082239, DEEPPINK: 4279538687, DEEPSKYBLUE: 12582911, DIMGRAY: 1768516095, DIMGREY: 1768516095, DODGERBLUE: 512819199, FIREBRICK: 2988581631, FLORALWHITE: 4294635775, FORESTGREEN: 579543807, FUCHSIA: 4278255615, GAINSBORO: 3705462015, GHOSTWHITE: 4177068031, GOLD: 4292280575, GOLDENROD: 3668254975, GRAY: 2155905279, GREEN: 8388863, GREENYELLOW: 2919182335, GREY: 2155905279, HONEYDEW: 4043305215, HOTPINK: 4285117695, INDIANRED: 3445382399, INDIGO: 1258324735, IVORY: 4294963455, KHAKI: 4041641215, LAVENDER: 3873897215, LAVENDERBLUSH: 4293981695, LAWNGREEN: 2096890111, LEMONCHIFFON: 4294626815, LIGHTBLUE: 2916673279, LIGHTCORAL: 4034953471, LIGHTCYAN: 3774873599, LIGHTGOLDENRODYELLOW: 4210742015, LIGHTGRAY: 3553874943, LIGHTGREEN: 2431553791, LIGHTGREY: 3553874943, LIGHTPINK: 4290167295, LIGHTSALMON: 4288707327, LIGHTSEAGREEN: 548580095, LIGHTSKYBLUE: 2278488831, LIGHTSLATEGRAY: 2005441023, LIGHTSLATEGREY: 2005441023, LIGHTSTEELBLUE: 2965692159, LIGHTYELLOW: 4294959359, LIME: 16711935, LIMEGREEN: 852308735, LINEN: 4210091775, MAGENTA: 4278255615, MAROON: 2147483903, MEDIUMAQUAMARINE: 1724754687, MEDIUMBLUE: 52735, MEDIUMORCHID: 3126187007, MEDIUMPURPLE: 2473647103, MEDIUMSEAGREEN: 1018393087, MEDIUMSLATEBLUE: 2070474495, MEDIUMSPRINGGREEN: 16423679, MEDIUMTURQUOISE: 1221709055, MEDIUMVIOLETRED: 3340076543, MIDNIGHTBLUE: 421097727, MINTCREAM: 4127193855, MISTYROSE: 4293190143, MOCCASIN: 4293178879, NAVAJOWHITE: 4292783615, NAVY: 33023, OLDLACE: 4260751103, OLIVE: 2155872511, OLIVEDRAB: 1804477439, ORANGE: 4289003775, ORANGERED: 4282712319, ORCHID: 3664828159, PALEGOLDENROD: 4008225535, PALEGREEN: 2566625535, PALETURQUOISE: 2951671551, PALEVIOLETRED: 3681588223, PAPAYAWHIP: 4293907967, PEACHPUFF: 4292524543, PERU: 3448061951, PINK: 4290825215, PLUM: 3718307327, POWDERBLUE: 2967529215, PURPLE: 2147516671, REBECCAPURPLE: 1714657791, RED: 4278190335, ROSYBROWN: 3163525119, ROYALBLUE: 1097458175, SADDLEBROWN: 2336560127, SALMON: 4202722047, SANDYBROWN: 4104413439, SEAGREEN: 780883967, SEASHELL: 4294307583, SIENNA: 2689740287, SILVER: 3233857791, SKYBLUE: 2278484991, SLATEBLUE: 1784335871, SLATEGRAY: 1887473919, SLATEGREY: 1887473919, SNOW: 4294638335, SPRINGGREEN: 16744447, STEELBLUE: 1182971135, TAN: 3535047935, TEAL: 8421631, THISTLE: 3636451583, TOMATO: 4284696575, TRANSPARENT: 0, TURQUOISE: 1088475391, VIOLET: 4001558271, WHEAT: 4125012991, WHITE: 4294967295, WHITESMOKE: 4126537215, YELLOW: 4294902015, YELLOWGREEN: 2597139199 }, F1 = { name: "background-clip", initialValue: "border-box", prefix: !1, type: 1, parse: function(s, t) {
  return t.map(function(e) {
    if (_t(e)) switch (e.value) {
      case "padding-box":
        return 1;
      case "content-box":
        return 2;
    }
    return 0;
  });
} }, Q1 = { name: "background-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, Ka = function(s, t) {
  var e = ks(s, t[0]), A = t[1];
  return A && Ae(A) ? { color: e, stop: A } : { color: e, stop: null };
}, tg = function(s, t) {
  var e = s[0], A = s[s.length - 1];
  e.stop === null && (e.stop = ge), A.stop === null && (A.stop = bs);
  for (var r = [], n = 0, i = 0; i < s.length; i++) {
    var o = s[i].stop;
    if (o !== null) {
      var a = Lt(o, t);
      a > n ? r.push(a) : r.push(n), n = a;
    } else r.push(null);
  }
  var c = null;
  for (i = 0; i < r.length; i++) {
    var l = r[i];
    if (l === null) c === null && (c = i);
    else if (c !== null) {
      for (var h = i - c, d = (l - r[c - 1]) / (h + 1), u = 1; u <= h; u++) r[c + u - 1] = d * u;
      c = null;
    }
  }
  return s.map(function(p, g) {
    return { color: p.color, stop: Math.max(Math.min(1, r[g] / t), 0) };
  });
}, U1 = function(s, t, e) {
  var A = typeof s == "number" ? s : function(l, h, d) {
    var u = h / 2, p = d / 2, g = Lt(l[0], h) - u, m = p - Lt(l[1], d);
    return (Math.atan2(m, g) + 2 * Math.PI) % (2 * Math.PI);
  }(s, t, e), r = Math.abs(t * Math.sin(A)) + Math.abs(e * Math.cos(A)), n = t / 2, i = e / 2, o = r / 2, a = Math.sin(A - Math.PI / 2) * o, c = Math.cos(A - Math.PI / 2) * o;
  return [r, n - c, n + c, i - a, i + a];
}, oA = function(s, t) {
  return Math.sqrt(s * s + t * t);
}, eg = function(s, t, e, A, r) {
  return [[0, 0], [0, t], [s, 0], [s, t]].reduce(function(n, i) {
    var o = i[0], a = i[1], c = oA(e - o, A - a);
    return (r ? c < n.optimumDistance : c > n.optimumDistance) ? { optimumCorner: i, optimumDistance: c } : n;
  }, { optimumDistance: r ? 1 / 0 : -1 / 0, optimumCorner: null }).optimumCorner;
}, $i = function(s, t) {
  var e = rA(180), A = [];
  return TA(t).forEach(function(r, n) {
    if (n === 0) {
      var i = r[0];
      if (i.type === 20 && ["top", "left", "right", "bottom"].indexOf(i.value) !== -1) return void (e = $m(r));
      if (qm(i)) return void (e = (Ic(s, i) + rA(270)) % rA(360));
    }
    var o = Ka(s, r);
    A.push(o);
  }), { angle: e, stops: A, type: 1 };
}, tw = "closest-side", ew = "farthest-side", Aw = "closest-corner", sw = "farthest-corner", rw = "circle", nw = "ellipse", iw = "cover", ow = "contain", to = function(s, t) {
  var e = 0, A = 3, r = [], n = [];
  return TA(t).forEach(function(i, o) {
    var a = !0;
    if (o === 0 ? a = i.reduce(function(l, h) {
      if (_t(h)) switch (h.value) {
        case "center":
          return n.push(uu), !1;
        case "top":
        case "left":
          return n.push(ge), !1;
        case "right":
        case "bottom":
          return n.push(bs), !1;
      }
      else if (Ae(h) || Qs(h)) return n.push(h), !1;
      return l;
    }, a) : o === 1 && (a = i.reduce(function(l, h) {
      if (_t(h)) switch (h.value) {
        case rw:
          return e = 0, !1;
        case nw:
          return e = 1, !1;
        case ow:
        case tw:
          return A = 0, !1;
        case ew:
          return A = 1, !1;
        case Aw:
          return A = 2, !1;
        case iw:
        case sw:
          return A = 3, !1;
      }
      else if (Qs(h) || Ae(h)) return Array.isArray(A) || (A = []), A.push(h), !1;
      return l;
    }, a)), a) {
      var c = Ka(s, i);
      r.push(c);
    }
  }), { size: A, shape: e, stops: r, position: n, type: 2 };
}, pu = function(s, t) {
  if (t.type === 22) {
    var e = { url: t.value, type: 0 };
    return s.cache.addImage(t.value), e;
  }
  if (t.type === 18) {
    var A = aw[t.name];
    if (A === void 0) throw new Error('Attempting to parse an unsupported image function "' + t.name + '"');
    return A(s, t.values);
  }
  throw new Error("Unsupported image type " + t.type);
}, jr, aw = { "linear-gradient": function(s, t) {
  var e = rA(180), A = [];
  return TA(t).forEach(function(r, n) {
    if (n === 0) {
      var i = r[0];
      if (i.type === 20 && i.value === "to") return void (e = $m(r));
      if (qm(i)) return void (e = Ic(s, i));
    }
    var o = Ka(s, r);
    A.push(o);
  }), { angle: e, stops: A, type: 1 };
}, "-moz-linear-gradient": $i, "-ms-linear-gradient": $i, "-o-linear-gradient": $i, "-webkit-linear-gradient": $i, "radial-gradient": function(s, t) {
  var e = 0, A = 3, r = [], n = [];
  return TA(t).forEach(function(i, o) {
    var a = !0;
    if (o === 0) {
      var c = !1;
      a = i.reduce(function(h, d) {
        if (c) if (_t(d)) switch (d.value) {
          case "center":
            return n.push(uu), h;
          case "top":
          case "left":
            return n.push(ge), h;
          case "right":
          case "bottom":
            return n.push(bs), h;
        }
        else (Ae(d) || Qs(d)) && n.push(d);
        else if (_t(d)) switch (d.value) {
          case rw:
            return e = 0, !1;
          case nw:
            return e = 1, !1;
          case "at":
            return c = !0, !1;
          case tw:
            return A = 0, !1;
          case iw:
          case ew:
            return A = 1, !1;
          case ow:
          case Aw:
            return A = 2, !1;
          case sw:
            return A = 3, !1;
        }
        else if (Qs(d) || Ae(d)) return Array.isArray(A) || (A = []), A.push(d), !1;
        return h;
      }, a);
    }
    if (a) {
      var l = Ka(s, i);
      r.push(l);
    }
  }), { size: A, shape: e, stops: r, position: n, type: 2 };
}, "-moz-radial-gradient": to, "-ms-radial-gradient": to, "-o-radial-gradient": to, "-webkit-radial-gradient": to, "-webkit-gradient": function(s, t) {
  var e = rA(180), A = [], r = 1;
  return TA(t).forEach(function(n, i) {
    var o = n[0];
    if (i === 0) {
      if (_t(o) && o.value === "linear") return void (r = 1);
      if (_t(o) && o.value === "radial") return void (r = 2);
    }
    if (o.type === 18) {
      if (o.name === "from") {
        var a = ks(s, o.values[0]);
        A.push({ stop: ge, color: a });
      } else if (o.name === "to")
        a = ks(s, o.values[0]), A.push({ stop: bs, color: a });
      else if (o.name === "color-stop") {
        var c = o.values.filter(qr);
        if (c.length === 2) {
          a = ks(s, c[1]);
          var l = c[0];
          Er(l) && A.push({ stop: { type: 16, number: 100 * l.number, flags: l.flags }, color: a });
        }
      }
    }
  }), r === 1 ? { angle: (e + rA(180)) % rA(360), stops: A, type: r } : { size: 3, shape: 0, stops: A, position: [], type: r };
} }, I1 = { name: "background-image", initialValue: "none", type: 1, prefix: !1, parse: function(s, t) {
  if (t.length === 0) return [];
  var e = t[0];
  return e.type === 20 && e.value === "none" ? [] : t.filter(function(A) {
    return qr(A) && function(r) {
      return !(r.type === 20 && r.value === "none" || r.type === 18 && !aw[r.name]);
    }(A);
  }).map(function(A) {
    return pu(s, A);
  });
} }, T1 = { name: "background-origin", initialValue: "border-box", prefix: !1, type: 1, parse: function(s, t) {
  return t.map(function(e) {
    if (_t(e)) switch (e.value) {
      case "padding-box":
        return 1;
      case "content-box":
        return 2;
    }
    return 0;
  });
} }, _1 = { name: "background-position", initialValue: "0% 0%", type: 1, prefix: !1, parse: function(s, t) {
  return TA(t).map(function(e) {
    return e.filter(Ae);
  }).map(Xm);
} }, O1 = { name: "background-repeat", initialValue: "repeat", prefix: !1, type: 1, parse: function(s, t) {
  return TA(t).map(function(e) {
    return e.filter(_t).map(function(A) {
      return A.value;
    }).join(" ");
  }).map(L1);
} }, L1 = function(s) {
  switch (s) {
    case "no-repeat":
      return 1;
    case "repeat-x":
    case "repeat no-repeat":
      return 2;
    case "repeat-y":
    case "no-repeat repeat":
      return 3;
    default:
      return 0;
  }
};
(function(s) {
  s.AUTO = "auto", s.CONTAIN = "contain", s.COVER = "cover";
})(jr || (jr = {}));
var Na, M1 = { name: "background-size", initialValue: "0", prefix: !1, type: 1, parse: function(s, t) {
  return TA(t).map(function(e) {
    return e.filter(D1);
  });
} }, D1 = function(s) {
  return _t(s) || Ae(s);
}, Tc = function(s) {
  return { name: "border-" + s + "-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" };
}, R1 = Tc("top"), H1 = Tc("right"), P1 = Tc("bottom"), K1 = Tc("left"), _c = function(s) {
  return { name: "border-radius-" + s, initialValue: "0 0", prefix: !1, type: 1, parse: function(t, e) {
    return Xm(e.filter(Ae));
  } };
}, N1 = _c("top-left"), j1 = _c("top-right"), V1 = _c("bottom-right"), G1 = _c("bottom-left"), Oc = function(s) {
  return { name: "border-" + s + "-style", initialValue: "solid", prefix: !1, type: 2, parse: function(t, e) {
    switch (e) {
      case "none":
        return 0;
      case "dashed":
        return 2;
      case "dotted":
        return 3;
      case "double":
        return 4;
    }
    return 1;
  } };
}, W1 = Oc("top"), Y1 = Oc("right"), J1 = Oc("bottom"), X1 = Oc("left"), Lc = function(s) {
  return { name: "border-" + s + "-width", initialValue: "0", type: 0, prefix: !1, parse: function(t, e) {
    return ui(e) ? e.number : 0;
  } };
}, z1 = Lc("top"), Z1 = Lc("right"), q1 = Lc("bottom"), $1 = Lc("left"), tb = { name: "color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, eb = { name: "direction", initialValue: "ltr", prefix: !1, type: 2, parse: function(s, t) {
  return t === "rtl" ? 1 : 0;
} }, Ab = { name: "display", initialValue: "inline-block", prefix: !1, type: 1, parse: function(s, t) {
  return t.filter(_t).reduce(function(e, A) {
    return e | sb(A.value);
  }, 0);
} }, sb = function(s) {
  switch (s) {
    case "block":
    case "-webkit-box":
      return 2;
    case "inline":
      return 4;
    case "run-in":
      return 8;
    case "flow":
      return 16;
    case "flow-root":
      return 32;
    case "table":
      return 64;
    case "flex":
    case "-webkit-flex":
      return 128;
    case "grid":
    case "-ms-grid":
      return 256;
    case "ruby":
      return 512;
    case "subgrid":
      return 1024;
    case "list-item":
      return 2048;
    case "table-row-group":
      return 4096;
    case "table-header-group":
      return 8192;
    case "table-footer-group":
      return 16384;
    case "table-row":
      return 32768;
    case "table-cell":
      return 65536;
    case "table-column-group":
      return 131072;
    case "table-column":
      return 262144;
    case "table-caption":
      return 524288;
    case "ruby-base":
      return 1048576;
    case "ruby-text":
      return 2097152;
    case "ruby-base-container":
      return 4194304;
    case "ruby-text-container":
      return 8388608;
    case "contents":
      return 16777216;
    case "inline-block":
      return 33554432;
    case "inline-list-item":
      return 67108864;
    case "inline-table":
      return 134217728;
    case "inline-flex":
      return 268435456;
    case "inline-grid":
      return 536870912;
  }
  return 0;
}, rb = { name: "float", initialValue: "none", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "left":
      return 1;
    case "right":
      return 2;
    case "inline-start":
      return 3;
    case "inline-end":
      return 4;
  }
  return 0;
} }, nb = { name: "letter-spacing", initialValue: "0", prefix: !1, type: 0, parse: function(s, t) {
  return t.type === 20 && t.value === "normal" ? 0 : t.type === 17 || t.type === 15 ? t.number : 0;
} };
(function(s) {
  s.NORMAL = "normal", s.STRICT = "strict";
})(Na || (Na = {}));
var Ai, ib = { name: "line-break", initialValue: "normal", prefix: !1, type: 2, parse: function(s, t) {
  return t === "strict" ? Na.STRICT : Na.NORMAL;
} }, ob = { name: "line-height", initialValue: "normal", prefix: !1, type: 4 }, Ag = function(s, t) {
  return _t(s) && s.value === "normal" ? 1.2 * t : s.type === 17 ? t * s.number : Ae(s) ? Lt(s, t) : t;
}, ab = { name: "list-style-image", initialValue: "none", type: 0, prefix: !1, parse: function(s, t) {
  return t.type === 20 && t.value === "none" ? null : pu(s, t);
} }, cb = { name: "list-style-position", initialValue: "outside", prefix: !1, type: 2, parse: function(s, t) {
  return t === "inside" ? 0 : 1;
} }, Lh = { name: "list-style-type", initialValue: "none", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "disc":
      return 0;
    case "circle":
      return 1;
    case "square":
      return 2;
    case "decimal":
      return 3;
    case "cjk-decimal":
      return 4;
    case "decimal-leading-zero":
      return 5;
    case "lower-roman":
      return 6;
    case "upper-roman":
      return 7;
    case "lower-greek":
      return 8;
    case "lower-alpha":
      return 9;
    case "upper-alpha":
      return 10;
    case "arabic-indic":
      return 11;
    case "armenian":
      return 12;
    case "bengali":
      return 13;
    case "cambodian":
      return 14;
    case "cjk-earthly-branch":
      return 15;
    case "cjk-heavenly-stem":
      return 16;
    case "cjk-ideographic":
      return 17;
    case "devanagari":
      return 18;
    case "ethiopic-numeric":
      return 19;
    case "georgian":
      return 20;
    case "gujarati":
      return 21;
    case "gurmukhi":
    case "hebrew":
      return 22;
    case "hiragana":
      return 23;
    case "hiragana-iroha":
      return 24;
    case "japanese-formal":
      return 25;
    case "japanese-informal":
      return 26;
    case "kannada":
      return 27;
    case "katakana":
      return 28;
    case "katakana-iroha":
      return 29;
    case "khmer":
      return 30;
    case "korean-hangul-formal":
      return 31;
    case "korean-hanja-formal":
      return 32;
    case "korean-hanja-informal":
      return 33;
    case "lao":
      return 34;
    case "lower-armenian":
      return 35;
    case "malayalam":
      return 36;
    case "mongolian":
      return 37;
    case "myanmar":
      return 38;
    case "oriya":
      return 39;
    case "persian":
      return 40;
    case "simp-chinese-formal":
      return 41;
    case "simp-chinese-informal":
      return 42;
    case "tamil":
      return 43;
    case "telugu":
      return 44;
    case "thai":
      return 45;
    case "tibetan":
      return 46;
    case "trad-chinese-formal":
      return 47;
    case "trad-chinese-informal":
      return 48;
    case "upper-armenian":
      return 49;
    case "disclosure-open":
      return 50;
    case "disclosure-closed":
      return 51;
    default:
      return -1;
  }
} }, Mc = function(s) {
  return { name: "margin-" + s, initialValue: "0", prefix: !1, type: 4 };
}, lb = Mc("top"), hb = Mc("right"), db = Mc("bottom"), ub = Mc("left"), pb = { name: "overflow", initialValue: "visible", prefix: !1, type: 1, parse: function(s, t) {
  return t.filter(_t).map(function(e) {
    switch (e.value) {
      case "hidden":
        return 1;
      case "scroll":
        return 2;
      case "clip":
        return 3;
      case "auto":
        return 4;
      default:
        return 0;
    }
  });
} }, gb = { name: "overflow-wrap", initialValue: "normal", prefix: !1, type: 2, parse: function(s, t) {
  return t === "break-word" ? "break-word" : "normal";
} }, Dc = function(s) {
  return { name: "padding-" + s, initialValue: "0", prefix: !1, type: 3, format: "length-percentage" };
}, fb = Dc("top"), mb = Dc("right"), wb = Dc("bottom"), Bb = Dc("left"), yb = { name: "text-align", initialValue: "left", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "right":
      return 2;
    case "center":
    case "justify":
      return 1;
    default:
      return 0;
  }
} }, Cb = { name: "position", initialValue: "static", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "relative":
      return 1;
    case "absolute":
      return 2;
    case "fixed":
      return 3;
    case "sticky":
      return 4;
  }
  return 0;
} }, bb = { name: "text-shadow", initialValue: "none", type: 1, prefix: !1, parse: function(s, t) {
  return t.length === 1 && Oh(t[0], "none") ? [] : TA(t).map(function(e) {
    for (var A = { color: ts.TRANSPARENT, offsetX: ge, offsetY: ge, blur: ge }, r = 0, n = 0; n < e.length; n++) {
      var i = e[n];
      Qs(i) ? (r === 0 ? A.offsetX = i : r === 1 ? A.offsetY = i : A.blur = i, r++) : A.color = ks(s, i);
    }
    return A;
  });
} }, vb = { name: "text-transform", initialValue: "none", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "uppercase":
      return 2;
    case "lowercase":
      return 1;
    case "capitalize":
      return 3;
  }
  return 0;
} }, kb = { name: "transform", initialValue: "none", prefix: !0, type: 0, parse: function(s, t) {
  if (t.type === 20 && t.value === "none") return null;
  if (t.type === 18) {
    var e = xb[t.name];
    if (e === void 0) throw new Error('Attempting to parse an unsupported transform function "' + t.name + '"');
    return e(t.values);
  }
  return null;
} }, xb = { matrix: function(s) {
  var t = s.filter(function(e) {
    return e.type === 17;
  }).map(function(e) {
    return e.number;
  });
  return t.length === 6 ? t : null;
}, matrix3d: function(s) {
  var t = s.filter(function(a) {
    return a.type === 17;
  }).map(function(a) {
    return a.number;
  }), e = t[0], A = t[1];
  t[2], t[3];
  var r = t[4], n = t[5];
  t[6], t[7], t[8], t[9], t[10], t[11];
  var i = t[12], o = t[13];
  return t[14], t[15], t.length === 16 ? [e, A, r, n, i, o] : null;
} }, sg = { type: 16, number: 50, flags: 4 }, Sb = [sg, sg], Eb = { name: "transform-origin", initialValue: "50% 50%", prefix: !0, type: 1, parse: function(s, t) {
  var e = t.filter(Ae);
  return e.length !== 2 ? Sb : [e[0], e[1]];
} }, Fb = { name: "visible", initialValue: "none", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "hidden":
      return 1;
    case "collapse":
      return 2;
    default:
      return 0;
  }
} };
(function(s) {
  s.NORMAL = "normal", s.BREAK_ALL = "break-all", s.KEEP_ALL = "keep-all";
})(Ai || (Ai = {}));
for (var Qb = { name: "word-break", initialValue: "normal", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "break-all":
      return Ai.BREAK_ALL;
    case "keep-all":
      return Ai.KEEP_ALL;
    default:
      return Ai.NORMAL;
  }
} }, Ub = { name: "z-index", initialValue: "auto", prefix: !1, type: 0, parse: function(s, t) {
  if (t.type === 20) return { auto: !0, order: 0 };
  if (Er(t)) return { auto: !1, order: t.number };
  throw new Error("Invalid z-index number parsed");
} }, rg = function(s, t) {
  if (t.type === 15) switch (t.unit.toLowerCase()) {
    case "s":
      return 1e3 * t.number;
    case "ms":
      return t.number;
  }
  throw new Error("Unsupported time type");
}, Ib = { name: "opacity", initialValue: "1", type: 0, prefix: !1, parse: function(s, t) {
  return Er(t) ? t.number : 1;
} }, Tb = { name: "text-decoration-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, _b = { name: "text-decoration-line", initialValue: "none", prefix: !1, type: 1, parse: function(s, t) {
  return t.filter(_t).map(function(e) {
    switch (e.value) {
      case "underline":
        return 1;
      case "overline":
        return 2;
      case "line-through":
        return 3;
      case "none":
        return 4;
    }
    return 0;
  }).filter(function(e) {
    return e !== 0;
  });
} }, Ob = { name: "font-family", initialValue: "", prefix: !1, type: 1, parse: function(s, t) {
  var e = [], A = [];
  return t.forEach(function(r) {
    switch (r.type) {
      case 20:
      case 0:
        e.push(r.value);
        break;
      case 17:
        e.push(r.number.toString());
        break;
      case 4:
        A.push(e.join(" ")), e.length = 0;
    }
  }), e.length && A.push(e.join(" ")), A.map(function(r) {
    return r.indexOf(" ") === -1 ? r : "'" + r + "'";
  });
} }, Lb = { name: "font-size", initialValue: "0", prefix: !1, type: 3, format: "length" }, Mb = { name: "font-weight", initialValue: "normal", type: 0, prefix: !1, parse: function(s, t) {
  return Er(t) ? t.number : _t(t) && t.value === "bold" ? 700 : 400;
} }, Db = { name: "font-variant", initialValue: "none", type: 1, prefix: !1, parse: function(s, t) {
  return t.filter(_t).map(function(e) {
    return e.value;
  });
} }, Rb = { name: "font-style", initialValue: "normal", prefix: !1, type: 2, parse: function(s, t) {
  switch (t) {
    case "oblique":
      return "oblique";
    case "italic":
      return "italic";
    default:
      return "normal";
  }
} }, oe = function(s, t) {
  return !!(s & t);
}, Hb = { name: "content", initialValue: "none", type: 1, prefix: !1, parse: function(s, t) {
  if (t.length === 0) return [];
  var e = t[0];
  return e.type === 20 && e.value === "none" ? [] : t;
} }, Pb = { name: "counter-increment", initialValue: "none", prefix: !0, type: 1, parse: function(s, t) {
  if (t.length === 0) return null;
  var e = t[0];
  if (e.type === 20 && e.value === "none") return null;
  for (var A = [], r = t.filter(zp), n = 0; n < r.length; n++) {
    var i = r[n], o = r[n + 1];
    if (i.type === 20) {
      var a = o && Er(o) ? o.number : 1;
      A.push({ counter: i.value, increment: a });
    }
  }
  return A;
} }, Kb = { name: "counter-reset", initialValue: "none", prefix: !0, type: 1, parse: function(s, t) {
  if (t.length === 0) return [];
  for (var e = [], A = t.filter(zp), r = 0; r < A.length; r++) {
    var n = A[r], i = A[r + 1];
    if (_t(n) && n.value !== "none") {
      var o = i && Er(i) ? i.number : 0;
      e.push({ counter: n.value, reset: o });
    }
  }
  return e;
} }, Nb = { name: "duration", initialValue: "0s", prefix: !1, type: 1, parse: function(s, t) {
  return t.filter(ui).map(function(e) {
    return rg(s, e);
  });
} }, jb = { name: "quotes", initialValue: "none", prefix: !0, type: 1, parse: function(s, t) {
  if (t.length === 0) return null;
  var e = t[0];
  if (e.type === 20 && e.value === "none") return null;
  var A = [], r = t.filter(x1);
  if (r.length % 2 != 0) return null;
  for (var n = 0; n < r.length; n += 2) {
    var i = r[n].value, o = r[n + 1].value;
    A.push({ open: i, close: o });
  }
  return A;
} }, ng = function(s, t, e) {
  if (!s) return "";
  var A = s[Math.min(t, s.length - 1)];
  return A ? e ? A.open : A.close : "";
}, Vb = { name: "box-shadow", initialValue: "none", type: 1, prefix: !1, parse: function(s, t) {
  return t.length === 1 && Oh(t[0], "none") ? [] : TA(t).map(function(e) {
    for (var A = { color: 255, offsetX: ge, offsetY: ge, blur: ge, spread: ge, inset: !1 }, r = 0, n = 0; n < e.length; n++) {
      var i = e[n];
      Oh(i, "inset") ? A.inset = !0 : Qs(i) ? (r === 0 ? A.offsetX = i : r === 1 ? A.offsetY = i : r === 2 ? A.blur = i : A.spread = i, r++) : A.color = ks(s, i);
    }
    return A;
  });
} }, Gb = { name: "paint-order", initialValue: "normal", prefix: !1, type: 1, parse: function(s, t) {
  var e = [];
  return t.filter(_t).forEach(function(A) {
    switch (A.value) {
      case "stroke":
        e.push(1);
        break;
      case "fill":
        e.push(0);
        break;
      case "markers":
        e.push(2);
    }
  }), [0, 1, 2].forEach(function(A) {
    e.indexOf(A) === -1 && e.push(A);
  }), e;
} }, Wb = { name: "-webkit-text-stroke-color", initialValue: "currentcolor", prefix: !1, type: 3, format: "color" }, Yb = { name: "-webkit-text-stroke-width", initialValue: "0", type: 0, prefix: !1, parse: function(s, t) {
  return ui(t) ? t.number : 0;
} }, Jb = function() {
  function s(t, e) {
    var A, r;
    this.animationDuration = W(t, Nb, e.animationDuration), this.backgroundClip = W(t, F1, e.backgroundClip), this.backgroundColor = W(t, Q1, e.backgroundColor), this.backgroundImage = W(t, I1, e.backgroundImage), this.backgroundOrigin = W(t, T1, e.backgroundOrigin), this.backgroundPosition = W(t, _1, e.backgroundPosition), this.backgroundRepeat = W(t, O1, e.backgroundRepeat), this.backgroundSize = W(t, M1, e.backgroundSize), this.borderTopColor = W(t, R1, e.borderTopColor), this.borderRightColor = W(t, H1, e.borderRightColor), this.borderBottomColor = W(t, P1, e.borderBottomColor), this.borderLeftColor = W(t, K1, e.borderLeftColor), this.borderTopLeftRadius = W(t, N1, e.borderTopLeftRadius), this.borderTopRightRadius = W(t, j1, e.borderTopRightRadius), this.borderBottomRightRadius = W(t, V1, e.borderBottomRightRadius), this.borderBottomLeftRadius = W(t, G1, e.borderBottomLeftRadius), this.borderTopStyle = W(t, W1, e.borderTopStyle), this.borderRightStyle = W(t, Y1, e.borderRightStyle), this.borderBottomStyle = W(t, J1, e.borderBottomStyle), this.borderLeftStyle = W(t, X1, e.borderLeftStyle), this.borderTopWidth = W(t, z1, e.borderTopWidth), this.borderRightWidth = W(t, Z1, e.borderRightWidth), this.borderBottomWidth = W(t, q1, e.borderBottomWidth), this.borderLeftWidth = W(t, $1, e.borderLeftWidth), this.boxShadow = W(t, Vb, e.boxShadow), this.color = W(t, tb, e.color), this.direction = W(t, eb, e.direction), this.display = W(t, Ab, e.display), this.float = W(t, rb, e.cssFloat), this.fontFamily = W(t, Ob, e.fontFamily), this.fontSize = W(t, Lb, e.fontSize), this.fontStyle = W(t, Rb, e.fontStyle), this.fontVariant = W(t, Db, e.fontVariant), this.fontWeight = W(t, Mb, e.fontWeight), this.letterSpacing = W(t, nb, e.letterSpacing), this.lineBreak = W(t, ib, e.lineBreak), this.lineHeight = W(t, ob, e.lineHeight), this.listStyleImage = W(t, ab, e.listStyleImage), this.listStylePosition = W(t, cb, e.listStylePosition), this.listStyleType = W(t, Lh, e.listStyleType), this.marginTop = W(t, lb, e.marginTop), this.marginRight = W(t, hb, e.marginRight), this.marginBottom = W(t, db, e.marginBottom), this.marginLeft = W(t, ub, e.marginLeft), this.opacity = W(t, Ib, e.opacity);
    var n = W(t, pb, e.overflow);
    this.overflowX = n[0], this.overflowY = n[n.length > 1 ? 1 : 0], this.overflowWrap = W(t, gb, e.overflowWrap), this.paddingTop = W(t, fb, e.paddingTop), this.paddingRight = W(t, mb, e.paddingRight), this.paddingBottom = W(t, wb, e.paddingBottom), this.paddingLeft = W(t, Bb, e.paddingLeft), this.paintOrder = W(t, Gb, e.paintOrder), this.position = W(t, Cb, e.position), this.textAlign = W(t, yb, e.textAlign), this.textDecorationColor = W(t, Tb, (A = e.textDecorationColor) !== null && A !== void 0 ? A : e.color), this.textDecorationLine = W(t, _b, (r = e.textDecorationLine) !== null && r !== void 0 ? r : e.textDecoration), this.textShadow = W(t, bb, e.textShadow), this.textTransform = W(t, vb, e.textTransform), this.transform = W(t, kb, e.transform), this.transformOrigin = W(t, Eb, e.transformOrigin), this.visibility = W(t, Fb, e.visibility), this.webkitTextStrokeColor = W(t, Wb, e.webkitTextStrokeColor), this.webkitTextStrokeWidth = W(t, Yb, e.webkitTextStrokeWidth), this.wordBreak = W(t, Qb, e.wordBreak), this.zIndex = W(t, Ub, e.zIndex);
  }
  return s.prototype.isVisible = function() {
    return this.display > 0 && this.opacity > 0 && this.visibility === 0;
  }, s.prototype.isTransparent = function() {
    return xs(this.backgroundColor);
  }, s.prototype.isTransformed = function() {
    return this.transform !== null;
  }, s.prototype.isPositioned = function() {
    return this.position !== 0;
  }, s.prototype.isPositionedWithZIndex = function() {
    return this.isPositioned() && !this.zIndex.auto;
  }, s.prototype.isFloating = function() {
    return this.float !== 0;
  }, s.prototype.isInlineLevel = function() {
    return oe(this.display, 4) || oe(this.display, 33554432) || oe(this.display, 268435456) || oe(this.display, 536870912) || oe(this.display, 67108864) || oe(this.display, 134217728);
  }, s;
}(), Xb = function(s, t) {
  this.content = W(s, Hb, t.content), this.quotes = W(s, jb, t.quotes);
}, ig = function(s, t) {
  this.counterIncrement = W(s, Pb, t.counterIncrement), this.counterReset = W(s, Kb, t.counterReset);
}, W = function(s, t, e) {
  var A = new Ym(), r = e != null ? e.toString() : t.initialValue;
  A.write(r);
  var n = new Jm(A.read());
  switch (t.type) {
    case 2:
      var i = n.parseComponentValue();
      return t.parse(s, _t(i) ? i.value : t.initialValue);
    case 0:
      return t.parse(s, n.parseComponentValue());
    case 1:
      return t.parse(s, n.parseComponentValues());
    case 4:
      return n.parseComponentValue();
    case 3:
      switch (t.format) {
        case "angle":
          return Ic(s, n.parseComponentValue());
        case "color":
          return ks(s, n.parseComponentValue());
        case "image":
          return pu(s, n.parseComponentValue());
        case "length":
          var o = n.parseComponentValue();
          return Qs(o) ? o : ge;
        case "length-percentage":
          var a = n.parseComponentValue();
          return Ae(a) ? a : ge;
        case "time":
          return rg(s, n.parseComponentValue());
      }
  }
}, Mh = function(s, t) {
  var e = function(A) {
    switch (A.getAttribute("data-html2canvas-debug")) {
      case "all":
        return 1;
      case "clone":
        return 2;
      case "parse":
        return 3;
      case "render":
        return 4;
      default:
        return 0;
    }
  }(s);
  return e === 1 || t === e;
}, PA = function(s, t) {
  this.context = s, this.textNodes = [], this.elements = [], this.flags = 0, Mh(t, 3), this.styles = new Jb(s, window.getComputedStyle(t, null)), Hh(t) && (this.styles.animationDuration.some(function(e) {
    return e > 0;
  }) && (t.style.animationDuration = "0s"), this.styles.transform !== null && (t.style.transform = "none")), this.bounds = Uc(this.context, t), Mh(t, 4) && (this.flags |= 16);
}, zb = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Fn = typeof Uint8Array > "u" ? [] : new Uint8Array(256), eo = 0; eo < 64; eo++) Fn[zb.charCodeAt(eo)] = eo;
for (var og = function(s, t, e) {
  return s.slice ? s.slice(t, e) : new Uint16Array(Array.prototype.slice.call(s, t, e));
}, Zb = function() {
  function s(t, e, A, r, n, i) {
    this.initialValue = t, this.errorValue = e, this.highStart = A, this.highValueIndex = r, this.index = n, this.data = i;
  }
  return s.prototype.get = function(t) {
    var e;
    if (t >= 0) {
      if (t < 55296 || t > 56319 && t <= 65535) return e = ((e = this.index[t >> 5]) << 2) + (31 & t), this.data[e];
      if (t <= 65535) return e = ((e = this.index[2048 + (t - 55296 >> 5)]) << 2) + (31 & t), this.data[e];
      if (t < this.highStart) return e = 2080 + (t >> 11), e = this.index[e], e += t >> 5 & 63, e = ((e = this.index[e]) << 2) + (31 & t), this.data[e];
      if (t <= 1114111) return this.data[this.highValueIndex];
    }
    return this.errorValue;
  }, s;
}(), qb = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", $b = typeof Uint8Array > "u" ? [] : new Uint8Array(256), Ao = 0; Ao < 64; Ao++) $b[qb.charCodeAt(Ao)] = Ao;
var si, ag = 8, Bl = 9, cg = 11, lg = 12, tv = function() {
  for (var s = [], t = 0; t < arguments.length; t++) s[t] = arguments[t];
  if (String.fromCodePoint) return String.fromCodePoint.apply(String, s);
  var e = s.length;
  if (!e) return "";
  for (var A = [], r = -1, n = ""; ++r < e; ) {
    var i = s[r];
    i <= 65535 ? A.push(i) : (i -= 65536, A.push(55296 + (i >> 10), i % 1024 + 56320)), (r + 1 === e || A.length > 16384) && (n += String.fromCharCode.apply(String, A), A.length = 0);
  }
  return n;
}, ev = function(s) {
  var t, e, A, r = function(c) {
    var l, h, d, u, p, g = 0.75 * c.length, m = c.length, f = 0;
    c[c.length - 1] === "=" && (g--, c[c.length - 2] === "=" && g--);
    var w = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && Uint8Array.prototype.slice !== void 0 ? new ArrayBuffer(g) : new Array(g), B = Array.isArray(w) ? w : new Uint8Array(w);
    for (l = 0; l < m; l += 4) h = Fn[c.charCodeAt(l)], d = Fn[c.charCodeAt(l + 1)], u = Fn[c.charCodeAt(l + 2)], p = Fn[c.charCodeAt(l + 3)], B[f++] = h << 2 | d >> 4, B[f++] = (15 & d) << 4 | u >> 2, B[f++] = (3 & u) << 6 | 63 & p;
    return w;
  }(s), n = Array.isArray(r) ? function(c) {
    for (var l = c.length, h = [], d = 0; d < l; d += 4) h.push(c[d + 3] << 24 | c[d + 2] << 16 | c[d + 1] << 8 | c[d]);
    return h;
  }(r) : new Uint32Array(r), i = Array.isArray(r) ? function(c) {
    for (var l = c.length, h = [], d = 0; d < l; d += 2) h.push(c[d + 1] << 8 | c[d]);
    return h;
  }(r) : new Uint16Array(r), o = og(i, 12, n[4] / 2), a = n[5] === 2 ? og(i, (24 + n[4]) / 2) : (t = n, e = Math.ceil((24 + n[4]) / 4), t.slice ? t.slice(e, A) : new Uint32Array(Array.prototype.slice.call(t, e, A)));
  return new Zb(n[0], n[1], n[2], n[3], o, a);
}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="), qe = "ร", Av = function(s) {
  return ev.get(s);
}, sv = function(s, t, e) {
  var A = e - 2, r = t[A], n = t[e - 1], i = t[e];
  if (n === 2 && i === 3) return qe;
  if (n === 2 || n === 3 || n === 4 || i === 2 || i === 3 || i === 4) return "รท";
  if (n === ag && [ag, Bl, cg, lg].indexOf(i) !== -1 || !(n !== cg && n !== Bl || i !== Bl && i !== 10) || (n === lg || n === 10) && i === 10 || i === 13 || i === 5 || i === 7 || n === 1) return qe;
  if (n === 13 && i === 14) {
    for (; r === 5; ) r = t[--A];
    if (r === 14) return qe;
  }
  if (n === 15 && i === 15) {
    for (var o = 0; r === 15; ) o++, r = t[--A];
    if (o % 2 == 0) return qe;
  }
  return "รท";
}, rv = function(s) {
  var t = function(i) {
    for (var o = [], a = 0, c = i.length; a < c; ) {
      var l = i.charCodeAt(a++);
      if (l >= 55296 && l <= 56319 && a < c) {
        var h = i.charCodeAt(a++);
        (64512 & h) == 56320 ? o.push(((1023 & l) << 10) + (1023 & h) + 65536) : (o.push(l), a--);
      } else o.push(l);
    }
    return o;
  }(s), e = t.length, A = 0, r = 0, n = t.map(Av);
  return { next: function() {
    if (A >= e) return { done: !0, value: null };
    for (var i = qe; A < e && (i = sv(0, n, ++A)) === qe; ) ;
    if (i !== qe || A === e) {
      var o = tv.apply(null, t.slice(r, A));
      return r = A, { value: o, done: !1 };
    }
    return { done: !0, value: null };
  } };
}, hg = function(s) {
  return s[0] === 0 && s[1] === 255 && s[2] === 0 && s[3] === 255;
}, Dh = function(s, t, e, A, r) {
  var n = "http://www.w3.org/2000/svg", i = document.createElementNS(n, "svg"), o = document.createElementNS(n, "foreignObject");
  return i.setAttributeNS(null, "width", s.toString()), i.setAttributeNS(null, "height", t.toString()), o.setAttributeNS(null, "width", "100%"), o.setAttributeNS(null, "height", "100%"), o.setAttributeNS(null, "x", e.toString()), o.setAttributeNS(null, "y", A.toString()), o.setAttributeNS(null, "externalResourcesRequired", "true"), i.appendChild(o), o.appendChild(r), i;
}, dg = function(s) {
  return new Promise(function(t, e) {
    var A = new Image();
    A.onload = function() {
      return t(A);
    }, A.onerror = e, A.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(s));
  });
}, pe = { get SUPPORT_RANGE_BOUNDS() {
  var s = function(t) {
    if (t.createRange) {
      var e = t.createRange();
      if (e.getBoundingClientRect) {
        var A = t.createElement("boundtest");
        A.style.height = "123px", A.style.display = "block", t.body.appendChild(A), e.selectNode(A);
        var r = e.getBoundingClientRect(), n = Math.round(r.height);
        if (t.body.removeChild(A), n === 123) return !0;
      }
    }
    return !1;
  }(document);
  return Object.defineProperty(pe, "SUPPORT_RANGE_BOUNDS", { value: s }), s;
}, get SUPPORT_WORD_BREAKING() {
  var s = pe.SUPPORT_RANGE_BOUNDS && function(t) {
    var e = t.createElement("boundtest");
    e.style.width = "50px", e.style.display = "block", e.style.fontSize = "12px", e.style.letterSpacing = "0px", e.style.wordSpacing = "0px", t.body.appendChild(e);
    var A = t.createRange();
    e.innerHTML = typeof "".repeat == "function" ? "&#128104;".repeat(10) : "";
    var r = e.firstChild, n = Ha(r.data).map(function(c) {
      return zt(c);
    }), i = 0, o = {}, a = n.every(function(c, l) {
      A.setStart(r, i), A.setEnd(r, i + c.length);
      var h = A.getBoundingClientRect();
      i += c.length;
      var d = h.x > o.x || h.y > o.y;
      return o = h, l === 0 || d;
    });
    return t.body.removeChild(e), a;
  }(document);
  return Object.defineProperty(pe, "SUPPORT_WORD_BREAKING", { value: s }), s;
}, get SUPPORT_SVG_DRAWING() {
  var s = function(t) {
    var e = new Image(), A = t.createElement("canvas"), r = A.getContext("2d");
    if (!r) return !1;
    e.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";
    try {
      r.drawImage(e, 0, 0), A.toDataURL();
    } catch {
      return !1;
    }
    return !0;
  }(document);
  return Object.defineProperty(pe, "SUPPORT_SVG_DRAWING", { value: s }), s;
}, get SUPPORT_FOREIGNOBJECT_DRAWING() {
  var s = typeof Array.from == "function" && typeof window.fetch == "function" ? function(t) {
    var e = t.createElement("canvas"), A = 100;
    e.width = A, e.height = A;
    var r = e.getContext("2d");
    if (!r) return Promise.reject(!1);
    r.fillStyle = "rgb(0, 255, 0)", r.fillRect(0, 0, A, A);
    var n = new Image(), i = e.toDataURL();
    n.src = i;
    var o = Dh(A, A, 0, 0, n);
    return r.fillStyle = "red", r.fillRect(0, 0, A, A), dg(o).then(function(a) {
      r.drawImage(a, 0, 0);
      var c = r.getImageData(0, 0, A, A).data;
      r.fillStyle = "red", r.fillRect(0, 0, A, A);
      var l = t.createElement("div");
      return l.style.backgroundImage = "url(" + i + ")", l.style.height = A + "px", hg(c) ? dg(Dh(A, A, 0, 0, l)) : Promise.reject(!1);
    }).then(function(a) {
      return r.drawImage(a, 0, 0), hg(r.getImageData(0, 0, A, A).data);
    }).catch(function() {
      return !1;
    });
  }(document) : Promise.resolve(!1);
  return Object.defineProperty(pe, "SUPPORT_FOREIGNOBJECT_DRAWING", { value: s }), s;
}, get SUPPORT_CORS_IMAGES() {
  var s = new Image().crossOrigin !== void 0;
  return Object.defineProperty(pe, "SUPPORT_CORS_IMAGES", { value: s }), s;
}, get SUPPORT_RESPONSE_TYPE() {
  var s = typeof new XMLHttpRequest().responseType == "string";
  return Object.defineProperty(pe, "SUPPORT_RESPONSE_TYPE", { value: s }), s;
}, get SUPPORT_CORS_XHR() {
  var s = "withCredentials" in new XMLHttpRequest();
  return Object.defineProperty(pe, "SUPPORT_CORS_XHR", { value: s }), s;
}, get SUPPORT_NATIVE_TEXT_SEGMENTATION() {
  var s = !(typeof Intl > "u" || !Intl.Segmenter);
  return Object.defineProperty(pe, "SUPPORT_NATIVE_TEXT_SEGMENTATION", { value: s }), s;
} }, ri = function(s, t) {
  this.text = s, this.bounds = t;
}, nv = function(s, t) {
  var e = t.ownerDocument;
  if (e) {
    var A = e.createElement("html2canvaswrapper");
    A.appendChild(t.cloneNode(!0));
    var r = t.parentNode;
    if (r) {
      r.replaceChild(A, t);
      var n = Uc(s, A);
      return A.firstChild && r.replaceChild(A.firstChild, A), n;
    }
  }
  return ss.EMPTY;
}, ug = function(s, t, e) {
  var A = s.ownerDocument;
  if (!A) throw new Error("Node has no owner document");
  var r = A.createRange();
  return r.setStart(s, t), r.setEnd(s, t + e), r;
}, gu = function(s) {
  if (pe.SUPPORT_NATIVE_TEXT_SEGMENTATION) {
    var t = new Intl.Segmenter(void 0, { granularity: "grapheme" });
    return Array.from(t.segment(s)).map(function(e) {
      return e.segment;
    });
  }
  return function(e) {
    for (var A, r = rv(e), n = []; !(A = r.next()).done; ) A.value && n.push(A.value.slice());
    return n;
  }(s);
}, iv = function(s, t) {
  return t.letterSpacing !== 0 ? gu(s) : function(e, A) {
    if (pe.SUPPORT_NATIVE_TEXT_SEGMENTATION) {
      var r = new Intl.Segmenter(void 0, { granularity: "word" });
      return Array.from(r.segment(e)).map(function(n) {
        return n.segment;
      });
    }
    return av(e, A);
  }(s, t);
}, ov = [32, 160, 4961, 65792, 65793, 4153, 4241], av = function(s, t) {
  for (var e, A = function(i, o) {
    var a = Ha(i), c = A1(a, o), l = c[0], h = c[1], d = c[2], u = a.length, p = 0, g = 0;
    return { next: function() {
      if (g >= u) return { done: !0, value: null };
      for (var m = ft; g < u && (m = e1(a, h, l, ++g, d)) === ft; ) ;
      if (m !== ft || g === u) {
        var f = new s1(a, m, p, g);
        return p = g, { value: f, done: !1 };
      }
      return { done: !0, value: null };
    } };
  }(s, { lineBreak: t.lineBreak, wordBreak: t.overflowWrap === "break-word" ? "break-word" : t.wordBreak }), r = [], n = function() {
    if (e.value) {
      var i = e.value.slice(), o = Ha(i), a = "";
      o.forEach(function(c) {
        ov.indexOf(c) === -1 ? a += zt(c) : (a.length && r.push(a), r.push(zt(c)), a = "");
      }), a.length && r.push(a);
    }
  }; !(e = A.next()).done; ) n();
  return r;
}, cv = function(s, t, e) {
  this.text = lv(t.data, e.textTransform), this.textBounds = function(A, r, n, i) {
    var o = iv(r, n), a = [], c = 0;
    return o.forEach(function(l) {
      if (n.textDecorationLine.length || l.trim().length > 0) if (pe.SUPPORT_RANGE_BOUNDS) {
        var h = ug(i, c, l.length).getClientRects();
        if (h.length > 1) {
          var d = gu(l), u = 0;
          d.forEach(function(g) {
            a.push(new ri(g, ss.fromDOMRectList(A, ug(i, u + c, g.length).getClientRects()))), u += g.length;
          });
        } else a.push(new ri(l, ss.fromDOMRectList(A, h)));
      } else {
        var p = i.splitText(l.length);
        a.push(new ri(l, nv(A, i))), i = p;
      }
      else pe.SUPPORT_RANGE_BOUNDS || (i = i.splitText(l.length));
      c += l.length;
    }), a;
  }(s, this.text, e, t);
}, lv = function(s, t) {
  switch (t) {
    case 1:
      return s.toLowerCase();
    case 3:
      return s.replace(hv, dv);
    case 2:
      return s.toUpperCase();
    default:
      return s;
  }
}, hv = /(^|\s|:|-|\(|\))([a-z])/g, dv = function(s, t, e) {
  return s.length > 0 ? t + e.toUpperCase() : s;
}, cw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.src = A.currentSrc || A.src, r.intrinsicWidth = A.naturalWidth, r.intrinsicHeight = A.naturalHeight, r.context.cache.addImage(r.src), r;
  }
  return yA(t, s), t;
}(PA), lw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.canvas = A, r.intrinsicWidth = A.width, r.intrinsicHeight = A.height, r;
  }
  return yA(t, s), t;
}(PA), hw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this, n = new XMLSerializer(), i = Uc(e, A);
    return A.setAttribute("width", i.width + "px"), A.setAttribute("height", i.height + "px"), r.svg = "data:image/svg+xml," + encodeURIComponent(n.serializeToString(A)), r.intrinsicWidth = A.width.baseVal.value, r.intrinsicHeight = A.height.baseVal.value, r.context.cache.addImage(r.svg), r;
  }
  return yA(t, s), t;
}(PA), dw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.value = A.value, r;
  }
  return yA(t, s), t;
}(PA), Rh = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.start = A.start, r.reversed = typeof A.reversed == "boolean" && A.reversed === !0, r;
  }
  return yA(t, s), t;
}(PA), uv = [{ type: 15, flags: 0, unit: "px", number: 3 }], pv = [{ type: 16, flags: 0, number: 50 }], ja = "checkbox", Va = "radio", gv = "password", pg = 707406591, fu = function(s) {
  function t(e, A) {
    var r, n = s.call(this, e, A) || this;
    switch (n.type = A.type.toLowerCase(), n.checked = A.checked, n.value = function(i) {
      var o = i.type === gv ? new Array(i.value.length + 1).join("โข") : i.value;
      return o.length === 0 ? i.placeholder || "" : o;
    }(A), n.type !== ja && n.type !== Va || (n.styles.backgroundColor = 3739148031, n.styles.borderTopColor = n.styles.borderRightColor = n.styles.borderBottomColor = n.styles.borderLeftColor = 2779096575, n.styles.borderTopWidth = n.styles.borderRightWidth = n.styles.borderBottomWidth = n.styles.borderLeftWidth = 1, n.styles.borderTopStyle = n.styles.borderRightStyle = n.styles.borderBottomStyle = n.styles.borderLeftStyle = 1, n.styles.backgroundClip = [0], n.styles.backgroundOrigin = [0], n.bounds = (r = n.bounds).width > r.height ? new ss(r.left + (r.width - r.height) / 2, r.top, r.height, r.height) : r.width < r.height ? new ss(r.left, r.top + (r.height - r.width) / 2, r.width, r.width) : r), n.type) {
      case ja:
        n.styles.borderTopRightRadius = n.styles.borderTopLeftRadius = n.styles.borderBottomRightRadius = n.styles.borderBottomLeftRadius = uv;
        break;
      case Va:
        n.styles.borderTopRightRadius = n.styles.borderTopLeftRadius = n.styles.borderBottomRightRadius = n.styles.borderBottomLeftRadius = pv;
    }
    return n;
  }
  return yA(t, s), t;
}(PA), uw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this, n = A.options[A.selectedIndex || 0];
    return r.value = n && n.text || "", r;
  }
  return yA(t, s), t;
}(PA), pw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.value = A.value, r;
  }
  return yA(t, s), t;
}(PA), gw = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    r.src = A.src, r.width = parseInt(A.width, 10) || 0, r.height = parseInt(A.height, 10) || 0, r.backgroundColor = r.styles.backgroundColor;
    try {
      if (A.contentWindow && A.contentWindow.document && A.contentWindow.document.documentElement) {
        r.tree = mw(e, A.contentWindow.document.documentElement);
        var n = A.contentWindow.document.documentElement ? ei(e, getComputedStyle(A.contentWindow.document.documentElement).backgroundColor) : ts.TRANSPARENT, i = A.contentWindow.document.body ? ei(e, getComputedStyle(A.contentWindow.document.body).backgroundColor) : ts.TRANSPARENT;
        r.backgroundColor = xs(n) ? xs(i) ? r.styles.backgroundColor : i : n;
      }
    } catch {
    }
    return r;
  }
  return yA(t, s), t;
}(PA), fv = ["OL", "UL", "MENU"], sa = function(s, t, e, A) {
  for (var r = t.firstChild, n = void 0; r; r = n) if (n = r.nextSibling, ww(r) && r.data.trim().length > 0) e.textNodes.push(new cv(s, r, e.styles));
  else if (Mr(r)) if (bw(r) && r.assignedNodes) r.assignedNodes().forEach(function(o) {
    return sa(s, o, e, A);
  });
  else {
    var i = fw(s, r);
    i.styles.isVisible() && (mv(r, i, A) ? i.flags |= 4 : wv(i.styles) && (i.flags |= 2), fv.indexOf(r.tagName) !== -1 && (i.flags |= 8), e.elements.push(i), r.slot, r.shadowRoot ? sa(s, r.shadowRoot, i, A) : Ga(r) || Bw(r) || Wa(r) || sa(s, r, i, A));
  }
}, fw = function(s, t) {
  return Ph(t) ? new cw(s, t) : yw(t) ? new lw(s, t) : Bw(t) ? new hw(s, t) : Bv(t) ? new dw(s, t) : yv(t) ? new Rh(s, t) : Cv(t) ? new fu(s, t) : Wa(t) ? new uw(s, t) : Ga(t) ? new pw(s, t) : Cw(t) ? new gw(s, t) : new PA(s, t);
}, mw = function(s, t) {
  var e = fw(s, t);
  return e.flags |= 4, sa(s, t, e, e), e;
}, mv = function(s, t, e) {
  return t.styles.isPositionedWithZIndex() || t.styles.opacity < 1 || t.styles.isTransformed() || mu(s) && e.styles.isTransparent();
}, wv = function(s) {
  return s.isPositioned() || s.isFloating();
}, ww = function(s) {
  return s.nodeType === Node.TEXT_NODE;
}, Mr = function(s) {
  return s.nodeType === Node.ELEMENT_NODE;
}, Hh = function(s) {
  return Mr(s) && s.style !== void 0 && !ra(s);
}, ra = function(s) {
  return typeof s.className == "object";
}, Bv = function(s) {
  return s.tagName === "LI";
}, yv = function(s) {
  return s.tagName === "OL";
}, Cv = function(s) {
  return s.tagName === "INPUT";
}, Bw = function(s) {
  return s.tagName === "svg";
}, mu = function(s) {
  return s.tagName === "BODY";
}, yw = function(s) {
  return s.tagName === "CANVAS";
}, gg = function(s) {
  return s.tagName === "VIDEO";
}, Ph = function(s) {
  return s.tagName === "IMG";
}, Cw = function(s) {
  return s.tagName === "IFRAME";
}, fg = function(s) {
  return s.tagName === "STYLE";
}, Ga = function(s) {
  return s.tagName === "TEXTAREA";
}, Wa = function(s) {
  return s.tagName === "SELECT";
}, bw = function(s) {
  return s.tagName === "SLOT";
}, mg = function(s) {
  return s.tagName.indexOf("-") > 0;
}, bv = function() {
  function s() {
    this.counters = {};
  }
  return s.prototype.getCounterValue = function(t) {
    var e = this.counters[t];
    return e && e.length ? e[e.length - 1] : 1;
  }, s.prototype.getCounterValues = function(t) {
    var e = this.counters[t];
    return e || [];
  }, s.prototype.pop = function(t) {
    var e = this;
    t.forEach(function(A) {
      return e.counters[A].pop();
    });
  }, s.prototype.parse = function(t) {
    var e = this, A = t.counterIncrement, r = t.counterReset, n = !0;
    A !== null && A.forEach(function(o) {
      var a = e.counters[o.counter];
      a && o.increment !== 0 && (n = !1, a.length || a.push(1), a[Math.max(0, a.length - 1)] += o.increment);
    });
    var i = [];
    return n && r.forEach(function(o) {
      var a = e.counters[o.counter];
      i.push(o.counter), a || (a = e.counters[o.counter] = []), a.push(o.reset);
    }), i;
  }, s;
}(), wg = { integers: [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1], values: ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"] }, Bg = { integers: [9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ี", "ิฟ", "ิพ", "ิฝ", "ิผ", "ิป", "ิบ", "ิน", "ิธ", "ิท", "ิถ", "ิต", "ิด", "ิณ", "ิฒ", "ิฑ"] }, vv = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืืณ", "ืช", "ืฉ", "ืจ", "ืง", "ืฆ", "ืค", "ืข", "ืก", "ื", "ื", "ื", "ื", "ืื", "ืื", "ืื", "ืื", "ืื", "ื", "ื", "ื", "ื", "ื", "ื", "ื", "ื", "ื", "ื"] }, kv = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["แต", "แฐ", "แฏ", "แด", "แฎ", "แญ", "แฌ", "แซ", "แช", "แฉ", "แจ", "แง", "แฆ", "แฅ", "แค", "แณ", "แข", "แก", "แ", "แ", "แ", "แ", "แฒ", "แ", "แ", "แ", "แ", "แ", "แ", "แฑ", "แ", "แ", "แ", "แ", "แ", "แ", "แ"] }, mr = function(s, t, e, A, r, n) {
  return s < t || s > e ? pi(s, r, n.length > 0) : A.integers.reduce(function(i, o, a) {
    for (; s >= o; ) s -= o, i += A.values[a];
    return i;
  }, "") + n;
}, vw = function(s, t, e, A) {
  var r = "";
  do
    e || s--, r = A(s) + r, s /= t;
  while (s * t >= t);
  return r;
}, Jt = function(s, t, e, A, r) {
  var n = e - t + 1;
  return (s < 0 ? "-" : "") + (vw(Math.abs(s), n, A, function(i) {
    return zt(Math.floor(i % n) + t);
  }) + r);
}, Hs = function(s, t, e) {
  e === void 0 && (e = ". ");
  var A = t.length;
  return vw(Math.abs(s), A, !1, function(r) {
    return t[Math.floor(r % A)];
  }) + e;
}, jA = function(s, t, e, A, r, n) {
  if (s < -9999 || s > 9999) return pi(s, 4, r.length > 0);
  var i = Math.abs(s), o = r;
  if (i === 0) return t[0] + o;
  for (var a = 0; i > 0 && a <= 4; a++) {
    var c = i % 10;
    c === 0 && oe(n, 1) && o !== "" ? o = t[c] + o : c > 1 || c === 1 && a === 0 || c === 1 && a === 1 && oe(n, 2) || c === 1 && a === 1 && oe(n, 4) && s > 100 || c === 1 && a > 1 && oe(n, 8) ? o = t[c] + (a > 0 ? e[a - 1] : "") + o : c === 1 && a > 0 && (o = e[a - 1] + o), i = Math.floor(i / 10);
  }
  return (s < 0 ? A : "") + o;
}, yg = "ๅ็พๅ่ฌ", Cg = "ๆพไฝฐไป่ฌ", bg = "ใใคใใน", yl = "๋ง์ด๋์ค", pi = function(s, t, e) {
  var A = e ? ". " : "", r = e ? "ใ" : "", n = e ? ", " : "", i = e ? " " : "";
  switch (t) {
    case 0:
      return "โข" + i;
    case 1:
      return "โฆ" + i;
    case 2:
      return "โพ" + i;
    case 5:
      var o = Jt(s, 48, 57, !0, A);
      return o.length < 4 ? "0" + o : o;
    case 4:
      return Hs(s, "ใไธไบไธๅไบๅญไธๅซไน", r);
    case 6:
      return mr(s, 1, 3999, wg, 3, A).toLowerCase();
    case 7:
      return mr(s, 1, 3999, wg, 3, A);
    case 8:
      return Jt(s, 945, 969, !1, A);
    case 9:
      return Jt(s, 97, 122, !1, A);
    case 10:
      return Jt(s, 65, 90, !1, A);
    case 11:
      return Jt(s, 1632, 1641, !0, A);
    case 12:
    case 49:
      return mr(s, 1, 9999, Bg, 3, A);
    case 35:
      return mr(s, 1, 9999, Bg, 3, A).toLowerCase();
    case 13:
      return Jt(s, 2534, 2543, !0, A);
    case 14:
    case 30:
      return Jt(s, 6112, 6121, !0, A);
    case 15:
      return Hs(s, "ๅญไธๅฏๅฏ่พฐๅทณๅๆช็ณ้ๆไบฅ", r);
    case 16:
      return Hs(s, "็ฒไนไธไธๆๅทฑๅบ่พๅฃฌ็ธ", r);
    case 17:
    case 48:
      return jA(s, "้ถไธไบไธๅไบๅญไธๅซไน", yg, "่ฒ", r, 14);
    case 47:
      return jA(s, "้ถๅฃน่ฒณๅ่ไผ้ธๆๆ็", Cg, "่ฒ", r, 15);
    case 42:
      return jA(s, "้ถไธไบไธๅไบๅญไธๅซไน", yg, "่ด", r, 14);
    case 41:
      return jA(s, "้ถๅฃน่ดฐๅ่ไผ้ๆๆ็", Cg, "่ด", r, 15);
    case 26:
      return jA(s, "ใไธไบไธๅไบๅญไธๅซไน", "ๅ็พๅไธ", bg, r, 0);
    case 25:
      return jA(s, "้ถๅฃฑๅผๅๅไผๅญไธๅซไน", "ๆพ็พๅไธ", bg, r, 7);
    case 31:
      return jA(s, "์์ผ์ด์ผ์ฌ์ค์ก์นํ๊ตฌ", "์ญ๋ฐฑ์ฒ๋ง", yl, n, 7);
    case 33:
      return jA(s, "้ถไธไบไธๅไบๅญไธๅซไน", "ๅ็พๅ่ฌ", yl, n, 0);
    case 32:
      return jA(s, "้ถๅฃน่ฒณๅๅไบๅญไธๅซไน", "ๆพ็พๅ", yl, n, 7);
    case 18:
      return Jt(s, 2406, 2415, !0, A);
    case 20:
      return mr(s, 1, 19999, kv, 3, A);
    case 21:
      return Jt(s, 2790, 2799, !0, A);
    case 22:
      return Jt(s, 2662, 2671, !0, A);
    case 22:
      return mr(s, 1, 10999, vv, 3, A);
    case 23:
      return Hs(s, "ใใใใใใใใใใใใใใใใใกใคใฆใจใชใซใฌใญใฎใฏใฒใตใธใปใพใฟใใใใใใใใใใใใใใใใ");
    case 24:
      return Hs(s, "ใใใฏใซใปใธใจใกใใฌใใใใใใใใใคใญใชใใใใใฎใใใใพใใตใใใฆใใใใใใฟใใใฒใใใ");
    case 27:
      return Jt(s, 3302, 3311, !0, A);
    case 28:
      return Hs(s, "ใขใคใฆใจใชใซใญใฏใฑใณใตใทในใปใฝใฟใใใใใใใใใใใใใใใใใใกใขใคใฆใจใฉใชใซใฌใญใฏใฐใฑใฒใณ", r);
    case 29:
      return Hs(s, "ใคใญใใใใใใใชใใซใฒใฏใซใจใฟใฌใฝใใใใฉใใฆใฐใใชใฏใคใใฑใใณใจใใขใตใญใฆใกใใทใฑใใขใปใน", r);
    case 34:
      return Jt(s, 3792, 3801, !0, A);
    case 37:
      return Jt(s, 6160, 6169, !0, A);
    case 38:
      return Jt(s, 4160, 4169, !0, A);
    case 39:
      return Jt(s, 2918, 2927, !0, A);
    case 40:
      return Jt(s, 1776, 1785, !0, A);
    case 43:
      return Jt(s, 3046, 3055, !0, A);
    case 44:
      return Jt(s, 3174, 3183, !0, A);
    case 45:
      return Jt(s, 3664, 3673, !0, A);
    case 46:
      return Jt(s, 3872, 3881, !0, A);
    default:
      return Jt(s, 48, 57, !0, A);
  }
}, kw = "data-html2canvas-ignore", vg = function() {
  function s(t, e, A) {
    if (this.context = t, this.options = A, this.scrolledElements = [], this.referenceElement = e, this.counters = new bv(), this.quoteDepth = 0, !e.ownerDocument) throw new Error("Cloned element does not have an owner document");
    this.documentElement = this.cloneNode(e.ownerDocument.documentElement, !1);
  }
  return s.prototype.toIFrame = function(t, e) {
    var A = this, r = xv(t, e);
    if (!r.contentWindow) return Promise.reject("Unable to find iframe window");
    var n = t.defaultView.pageXOffset, i = t.defaultView.pageYOffset, o = r.contentWindow, a = o.document, c = Fv(r).then(function() {
      return Ce(A, 0, void 0, function() {
        var l, h;
        return we(this, function(d) {
          switch (d.label) {
            case 0:
              return this.scrolledElements.forEach(Tv), o && (o.scrollTo(e.left, e.top), !/(iPad|iPhone|iPod)/g.test(navigator.userAgent) || o.scrollY === e.top && o.scrollX === e.left || (this.context.logger.warn("Unable to restore scroll position for cloned document"), this.context.windowBounds = this.context.windowBounds.add(o.scrollX - e.left, o.scrollY - e.top, 0, 0))), l = this.options.onclone, (h = this.clonedReferenceElement) === void 0 ? [2, Promise.reject("Error finding the " + this.referenceElement.nodeName + " in the cloned document")] : a.fonts && a.fonts.ready ? [4, a.fonts.ready] : [3, 2];
            case 1:
              d.sent(), d.label = 2;
            case 2:
              return /(AppleWebKit)/g.test(navigator.userAgent) ? [4, Ev(a)] : [3, 4];
            case 3:
              d.sent(), d.label = 4;
            case 4:
              return typeof l == "function" ? [2, Promise.resolve().then(function() {
                return l(a, h);
              }).then(function() {
                return r;
              })] : [2, r];
          }
        });
      });
    });
    return a.open(), a.write(Uv(document.doctype) + "<html></html>"), Iv(this.referenceElement.ownerDocument, n, i), a.replaceChild(a.adoptNode(this.documentElement), a.documentElement), a.close(), c;
  }, s.prototype.createElementClone = function(t) {
    if (Mh(t, 2), yw(t)) return this.createCanvasClone(t);
    if (gg(t)) return this.createVideoClone(t);
    if (fg(t)) return this.createStyleClone(t);
    var e = t.cloneNode(!1);
    return Ph(e) && (Ph(t) && t.currentSrc && t.currentSrc !== t.src && (e.src = t.currentSrc, e.srcset = ""), e.loading === "lazy" && (e.loading = "eager")), mg(e) ? this.createCustomElementClone(e) : e;
  }, s.prototype.createCustomElementClone = function(t) {
    var e = document.createElement("html2canvascustomelement");
    return Cl(t.style, e), e;
  }, s.prototype.createStyleClone = function(t) {
    try {
      var e = t.sheet;
      if (e && e.cssRules) {
        var A = [].slice.call(e.cssRules, 0).reduce(function(n, i) {
          return i && typeof i.cssText == "string" ? n + i.cssText : n;
        }, ""), r = t.cloneNode(!1);
        return r.textContent = A, r;
      }
    } catch (n) {
      if (this.context.logger.error("Unable to access cssRules property", n), n.name !== "SecurityError") throw n;
    }
    return t.cloneNode(!1);
  }, s.prototype.createCanvasClone = function(t) {
    var e;
    if (this.options.inlineImages && t.ownerDocument) {
      var A = t.ownerDocument.createElement("img");
      try {
        return A.src = t.toDataURL(), A;
      } catch {
        this.context.logger.info("Unable to inline canvas contents, canvas is tainted", t);
      }
    }
    var r = t.cloneNode(!1);
    try {
      r.width = t.width, r.height = t.height;
      var n = t.getContext("2d"), i = r.getContext("2d");
      if (i) if (!this.options.allowTaint && n) i.putImageData(n.getImageData(0, 0, t.width, t.height), 0, 0);
      else {
        var o = (e = t.getContext("webgl2")) !== null && e !== void 0 ? e : t.getContext("webgl");
        if (o) {
          var a = o.getContextAttributes();
          (a == null ? void 0 : a.preserveDrawingBuffer) === !1 && this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false", t);
        }
        i.drawImage(t, 0, 0);
      }
      return r;
    } catch {
      this.context.logger.info("Unable to clone canvas as it is tainted", t);
    }
    return r;
  }, s.prototype.createVideoClone = function(t) {
    var e = t.ownerDocument.createElement("canvas");
    e.width = t.offsetWidth, e.height = t.offsetHeight;
    var A = e.getContext("2d");
    try {
      return A && (A.drawImage(t, 0, 0, e.width, e.height), this.options.allowTaint || A.getImageData(0, 0, e.width, e.height)), e;
    } catch {
      this.context.logger.info("Unable to clone video as it is tainted", t);
    }
    var r = t.ownerDocument.createElement("canvas");
    return r.width = t.offsetWidth, r.height = t.offsetHeight, r;
  }, s.prototype.appendChildNode = function(t, e, A) {
    Mr(e) && (function(r) {
      return r.tagName === "SCRIPT";
    }(e) || e.hasAttribute(kw) || typeof this.options.ignoreElements == "function" && this.options.ignoreElements(e)) || this.options.copyStyles && Mr(e) && fg(e) || t.appendChild(this.cloneNode(e, A));
  }, s.prototype.cloneChildNodes = function(t, e, A) {
    for (var r = this, n = t.shadowRoot ? t.shadowRoot.firstChild : t.firstChild; n; n = n.nextSibling) if (Mr(n) && bw(n) && typeof n.assignedNodes == "function") {
      var i = n.assignedNodes();
      i.length && i.forEach(function(o) {
        return r.appendChildNode(e, o, A);
      });
    } else this.appendChildNode(e, n, A);
  }, s.prototype.cloneNode = function(t, e) {
    if (ww(t)) return document.createTextNode(t.data);
    if (!t.ownerDocument) return t.cloneNode(!1);
    var A = t.ownerDocument.defaultView;
    if (A && Mr(t) && (Hh(t) || ra(t))) {
      var r = this.createElementClone(t);
      r.style.transitionProperty = "none";
      var n = A.getComputedStyle(t), i = A.getComputedStyle(t, ":before"), o = A.getComputedStyle(t, ":after");
      this.referenceElement === t && Hh(r) && (this.clonedReferenceElement = r), mu(r) && _v(r);
      var a = this.counters.parse(new ig(this.context, n)), c = this.resolvePseudoContent(t, r, i, si.BEFORE);
      mg(t) && (e = !0), gg(t) || this.cloneChildNodes(t, r, e), c && r.insertBefore(c, r.firstChild);
      var l = this.resolvePseudoContent(t, r, o, si.AFTER);
      return l && r.appendChild(l), this.counters.pop(a), (n && (this.options.copyStyles || ra(t)) && !Cw(t) || e) && Cl(n, r), t.scrollTop === 0 && t.scrollLeft === 0 || this.scrolledElements.push([r, t.scrollLeft, t.scrollTop]), (Ga(t) || Wa(t)) && (Ga(r) || Wa(r)) && (r.value = t.value), r;
    }
    return t.cloneNode(!1);
  }, s.prototype.resolvePseudoContent = function(t, e, A, r) {
    var n = this;
    if (A) {
      var i = A.content, o = e.ownerDocument;
      if (o && i && i !== "none" && i !== "-moz-alt-content" && A.display !== "none") {
        this.counters.parse(new ig(this.context, A));
        var a = new Xb(this.context, A), c = o.createElement("html2canvaspseudoelement");
        Cl(A, c), a.content.forEach(function(h) {
          if (h.type === 0) c.appendChild(o.createTextNode(h.value));
          else if (h.type === 22) {
            var d = o.createElement("img");
            d.src = h.value, d.style.opacity = "1", c.appendChild(d);
          } else if (h.type === 18) {
            if (h.name === "attr") {
              var u = h.values.filter(_t);
              u.length && c.appendChild(o.createTextNode(t.getAttribute(u[0].value) || ""));
            } else if (h.name === "counter") {
              var p = h.values.filter(qr), g = p[0], m = p[1];
              if (g && _t(g)) {
                var f = n.counters.getCounterValue(g.value), w = m && _t(m) ? Lh.parse(n.context, m.value) : 3;
                c.appendChild(o.createTextNode(pi(f, w, !1)));
              }
            } else if (h.name === "counters") {
              var B = h.values.filter(qr), C = (g = B[0], B[1]);
              if (m = B[2], g && _t(g)) {
                var v = n.counters.getCounterValues(g.value), F = m && _t(m) ? Lh.parse(n.context, m.value) : 3, Q = C && C.type === 0 ? C.value : "", E = v.map(function(_) {
                  return pi(_, F, !1);
                }).join(Q);
                c.appendChild(o.createTextNode(E));
              }
            }
          } else if (h.type === 20) switch (h.value) {
            case "open-quote":
              c.appendChild(o.createTextNode(ng(a.quotes, n.quoteDepth++, !0)));
              break;
            case "close-quote":
              c.appendChild(o.createTextNode(ng(a.quotes, --n.quoteDepth, !1)));
              break;
            default:
              c.appendChild(o.createTextNode(h.value));
          }
        }), c.className = Kh + " " + Nh;
        var l = r === si.BEFORE ? " " + Kh : " " + Nh;
        return ra(e) ? e.className.baseValue += l : e.className += l, c;
      }
    }
  }, s.destroy = function(t) {
    return !!t.parentNode && (t.parentNode.removeChild(t), !0);
  }, s;
}();
(function(s) {
  s[s.BEFORE = 0] = "BEFORE", s[s.AFTER = 1] = "AFTER";
})(si || (si = {}));
var St, xv = function(s, t) {
  var e = s.createElement("iframe");
  return e.className = "html2canvas-container", e.style.visibility = "hidden", e.style.position = "fixed", e.style.left = "-10000px", e.style.top = "0px", e.style.border = "0", e.width = t.width.toString(), e.height = t.height.toString(), e.scrolling = "no", e.setAttribute(kw, "true"), s.body.appendChild(e), e;
}, Sv = function(s) {
  return new Promise(function(t) {
    s.complete ? t() : s.src ? (s.onload = t, s.onerror = t) : t();
  });
}, Ev = function(s) {
  return Promise.all([].slice.call(s.images, 0).map(Sv));
}, Fv = function(s) {
  return new Promise(function(t, e) {
    var A = s.contentWindow;
    if (!A) return e("No window assigned for iframe");
    var r = A.document;
    A.onload = s.onload = function() {
      A.onload = s.onload = null;
      var n = setInterval(function() {
        r.body.childNodes.length > 0 && r.readyState === "complete" && (clearInterval(n), t(s));
      }, 50);
    };
  });
}, Qv = ["all", "d", "content"], Cl = function(s, t) {
  for (var e = s.length - 1; e >= 0; e--) {
    var A = s.item(e);
    Qv.indexOf(A) === -1 && t.style.setProperty(A, s.getPropertyValue(A));
  }
  return t;
}, Uv = function(s) {
  var t = "";
  return s && (t += "<!DOCTYPE ", s.name && (t += s.name), s.internalSubset && (t += s.internalSubset), s.publicId && (t += '"' + s.publicId + '"'), s.systemId && (t += '"' + s.systemId + '"'), t += ">"), t;
}, Iv = function(s, t, e) {
  s && s.defaultView && (t !== s.defaultView.pageXOffset || e !== s.defaultView.pageYOffset) && s.defaultView.scrollTo(t, e);
}, Tv = function(s) {
  var t = s[0], e = s[1], A = s[2];
  t.scrollLeft = e, t.scrollTop = A;
}, Kh = "___html2canvas___pseudoelement_before", Nh = "___html2canvas___pseudoelement_after", kg = `{
    content: "" !important;
    display: none !important;
}`, _v = function(s) {
  Ov(s, "." + Kh + ":before" + kg + `
         .` + Nh + ":after" + kg);
}, Ov = function(s, t) {
  var e = s.ownerDocument;
  if (e) {
    var A = e.createElement("style");
    A.textContent = t, s.appendChild(A);
  }
}, xw = function() {
  function s() {
  }
  return s.getOrigin = function(t) {
    var e = s._link;
    return e ? (e.href = t, e.href = e.href, e.protocol + e.hostname + e.port) : "about:blank";
  }, s.isSameOrigin = function(t) {
    return s.getOrigin(t) === s._origin;
  }, s.setContext = function(t) {
    s._link = t.document.createElement("a"), s._origin = s.getOrigin(t.location.href);
  }, s._origin = "about:blank", s;
}(), Lv = function() {
  function s(t, e) {
    this.context = t, this._options = e, this._cache = {};
  }
  return s.prototype.addImage = function(t) {
    var e = Promise.resolve();
    return this.has(t) || (vl(t) || Hv(t)) && (this._cache[t] = this.loadImage(t)).catch(function() {
    }), e;
  }, s.prototype.match = function(t) {
    return this._cache[t];
  }, s.prototype.loadImage = function(t) {
    return Ce(this, 0, void 0, function() {
      var e, A, r, n, i = this;
      return we(this, function(o) {
        switch (o.label) {
          case 0:
            return e = xw.isSameOrigin(t), A = !bl(t) && this._options.useCORS === !0 && pe.SUPPORT_CORS_IMAGES && !e, r = !bl(t) && !e && !vl(t) && typeof this._options.proxy == "string" && pe.SUPPORT_CORS_XHR && !A, e || this._options.allowTaint !== !1 || bl(t) || vl(t) || r || A ? (n = t, r ? [4, this.proxy(n)] : [3, 2]) : [2];
          case 1:
            n = o.sent(), o.label = 2;
          case 2:
            return this.context.logger.debug("Added image " + t.substring(0, 256)), [4, new Promise(function(a, c) {
              var l = new Image();
              l.onload = function() {
                return a(l);
              }, l.onerror = c, (Pv(n) || A) && (l.crossOrigin = "anonymous"), l.src = n, l.complete === !0 && setTimeout(function() {
                return a(l);
              }, 500), i._options.imageTimeout > 0 && setTimeout(function() {
                return c("Timed out (" + i._options.imageTimeout + "ms) loading image");
              }, i._options.imageTimeout);
            })];
          case 3:
            return [2, o.sent()];
        }
      });
    });
  }, s.prototype.has = function(t) {
    return this._cache[t] !== void 0;
  }, s.prototype.keys = function() {
    return Promise.resolve(Object.keys(this._cache));
  }, s.prototype.proxy = function(t) {
    var e = this, A = this._options.proxy;
    if (!A) throw new Error("No proxy defined");
    var r = t.substring(0, 256);
    return new Promise(function(n, i) {
      var o = pe.SUPPORT_RESPONSE_TYPE ? "blob" : "text", a = new XMLHttpRequest();
      a.onload = function() {
        if (a.status === 200) if (o === "text") n(a.response);
        else {
          var h = new FileReader();
          h.addEventListener("load", function() {
            return n(h.result);
          }, !1), h.addEventListener("error", function(d) {
            return i(d);
          }, !1), h.readAsDataURL(a.response);
        }
        else i("Failed to proxy resource " + r + " with status code " + a.status);
      }, a.onerror = i;
      var c = A.indexOf("?") > -1 ? "&" : "?";
      if (a.open("GET", "" + A + c + "url=" + encodeURIComponent(t) + "&responseType=" + o), o !== "text" && a instanceof XMLHttpRequest && (a.responseType = o), e._options.imageTimeout) {
        var l = e._options.imageTimeout;
        a.timeout = l, a.ontimeout = function() {
          return i("Timed out (" + l + "ms) proxying " + r);
        };
      }
      a.send();
    });
  }, s;
}(), Mv = /^data:image\/svg\+xml/i, Dv = /^data:image\/.*;base64,/i, Rv = /^data:image\/.*/i, Hv = function(s) {
  return pe.SUPPORT_SVG_DRAWING || !Kv(s);
}, bl = function(s) {
  return Rv.test(s);
}, Pv = function(s) {
  return Dv.test(s);
}, vl = function(s) {
  return s.substr(0, 4) === "blob";
}, Kv = function(s) {
  return s.substr(-3).toLowerCase() === "svg" || Mv.test(s);
}, G = function() {
  function s(t, e) {
    this.type = 0, this.x = t, this.y = e;
  }
  return s.prototype.add = function(t, e) {
    return new s(this.x + t, this.y + e);
  }, s;
}(), wr = function(s, t, e) {
  return new G(s.x + (t.x - s.x) * e, s.y + (t.y - s.y) * e);
}, so = function() {
  function s(t, e, A, r) {
    this.type = 1, this.start = t, this.startControl = e, this.endControl = A, this.end = r;
  }
  return s.prototype.subdivide = function(t, e) {
    var A = wr(this.start, this.startControl, t), r = wr(this.startControl, this.endControl, t), n = wr(this.endControl, this.end, t), i = wr(A, r, t), o = wr(r, n, t), a = wr(i, o, t);
    return e ? new s(this.start, A, i, a) : new s(a, o, n, this.end);
  }, s.prototype.add = function(t, e) {
    return new s(this.start.add(t, e), this.startControl.add(t, e), this.endControl.add(t, e), this.end.add(t, e));
  }, s.prototype.reverse = function() {
    return new s(this.end, this.endControl, this.startControl, this.start);
  }, s;
}(), tA = function(s) {
  return s.type === 1;
}, Nv = function(s) {
  var t = s.styles, e = s.bounds, A = En(t.borderTopLeftRadius, e.width, e.height), r = A[0], n = A[1], i = En(t.borderTopRightRadius, e.width, e.height), o = i[0], a = i[1], c = En(t.borderBottomRightRadius, e.width, e.height), l = c[0], h = c[1], d = En(t.borderBottomLeftRadius, e.width, e.height), u = d[0], p = d[1], g = [];
  g.push((r + o) / e.width), g.push((u + l) / e.width), g.push((n + p) / e.height), g.push((a + h) / e.height);
  var m = Math.max.apply(Math, g);
  m > 1 && (r /= m, n /= m, o /= m, a /= m, l /= m, h /= m, u /= m, p /= m);
  var f = e.width - o, w = e.height - h, B = e.width - l, C = e.height - p, v = t.borderTopWidth, F = t.borderRightWidth, Q = t.borderBottomWidth, E = t.borderLeftWidth, _ = Lt(t.paddingTop, s.bounds.width), P = Lt(t.paddingRight, s.bounds.width), K = Lt(t.paddingBottom, s.bounds.width), T = Lt(t.paddingLeft, s.bounds.width);
  this.topLeftBorderDoubleOuterBox = r > 0 || n > 0 ? Pt(e.left + E / 3, e.top + v / 3, r - E / 3, n - v / 3, St.TOP_LEFT) : new G(e.left + E / 3, e.top + v / 3), this.topRightBorderDoubleOuterBox = r > 0 || n > 0 ? Pt(e.left + f, e.top + v / 3, o - F / 3, a - v / 3, St.TOP_RIGHT) : new G(e.left + e.width - F / 3, e.top + v / 3), this.bottomRightBorderDoubleOuterBox = l > 0 || h > 0 ? Pt(e.left + B, e.top + w, l - F / 3, h - Q / 3, St.BOTTOM_RIGHT) : new G(e.left + e.width - F / 3, e.top + e.height - Q / 3), this.bottomLeftBorderDoubleOuterBox = u > 0 || p > 0 ? Pt(e.left + E / 3, e.top + C, u - E / 3, p - Q / 3, St.BOTTOM_LEFT) : new G(e.left + E / 3, e.top + e.height - Q / 3), this.topLeftBorderDoubleInnerBox = r > 0 || n > 0 ? Pt(e.left + 2 * E / 3, e.top + 2 * v / 3, r - 2 * E / 3, n - 2 * v / 3, St.TOP_LEFT) : new G(e.left + 2 * E / 3, e.top + 2 * v / 3), this.topRightBorderDoubleInnerBox = r > 0 || n > 0 ? Pt(e.left + f, e.top + 2 * v / 3, o - 2 * F / 3, a - 2 * v / 3, St.TOP_RIGHT) : new G(e.left + e.width - 2 * F / 3, e.top + 2 * v / 3), this.bottomRightBorderDoubleInnerBox = l > 0 || h > 0 ? Pt(e.left + B, e.top + w, l - 2 * F / 3, h - 2 * Q / 3, St.BOTTOM_RIGHT) : new G(e.left + e.width - 2 * F / 3, e.top + e.height - 2 * Q / 3), this.bottomLeftBorderDoubleInnerBox = u > 0 || p > 0 ? Pt(e.left + 2 * E / 3, e.top + C, u - 2 * E / 3, p - 2 * Q / 3, St.BOTTOM_LEFT) : new G(e.left + 2 * E / 3, e.top + e.height - 2 * Q / 3), this.topLeftBorderStroke = r > 0 || n > 0 ? Pt(e.left + E / 2, e.top + v / 2, r - E / 2, n - v / 2, St.TOP_LEFT) : new G(e.left + E / 2, e.top + v / 2), this.topRightBorderStroke = r > 0 || n > 0 ? Pt(e.left + f, e.top + v / 2, o - F / 2, a - v / 2, St.TOP_RIGHT) : new G(e.left + e.width - F / 2, e.top + v / 2), this.bottomRightBorderStroke = l > 0 || h > 0 ? Pt(e.left + B, e.top + w, l - F / 2, h - Q / 2, St.BOTTOM_RIGHT) : new G(e.left + e.width - F / 2, e.top + e.height - Q / 2), this.bottomLeftBorderStroke = u > 0 || p > 0 ? Pt(e.left + E / 2, e.top + C, u - E / 2, p - Q / 2, St.BOTTOM_LEFT) : new G(e.left + E / 2, e.top + e.height - Q / 2), this.topLeftBorderBox = r > 0 || n > 0 ? Pt(e.left, e.top, r, n, St.TOP_LEFT) : new G(e.left, e.top), this.topRightBorderBox = o > 0 || a > 0 ? Pt(e.left + f, e.top, o, a, St.TOP_RIGHT) : new G(e.left + e.width, e.top), this.bottomRightBorderBox = l > 0 || h > 0 ? Pt(e.left + B, e.top + w, l, h, St.BOTTOM_RIGHT) : new G(e.left + e.width, e.top + e.height), this.bottomLeftBorderBox = u > 0 || p > 0 ? Pt(e.left, e.top + C, u, p, St.BOTTOM_LEFT) : new G(e.left, e.top + e.height), this.topLeftPaddingBox = r > 0 || n > 0 ? Pt(e.left + E, e.top + v, Math.max(0, r - E), Math.max(0, n - v), St.TOP_LEFT) : new G(e.left + E, e.top + v), this.topRightPaddingBox = o > 0 || a > 0 ? Pt(e.left + Math.min(f, e.width - F), e.top + v, f > e.width + F ? 0 : Math.max(0, o - F), Math.max(0, a - v), St.TOP_RIGHT) : new G(e.left + e.width - F, e.top + v), this.bottomRightPaddingBox = l > 0 || h > 0 ? Pt(e.left + Math.min(B, e.width - E), e.top + Math.min(w, e.height - Q), Math.max(0, l - F), Math.max(0, h - Q), St.BOTTOM_RIGHT) : new G(e.left + e.width - F, e.top + e.height - Q), this.bottomLeftPaddingBox = u > 0 || p > 0 ? Pt(e.left + E, e.top + Math.min(C, e.height - Q), Math.max(0, u - E), Math.max(0, p - Q), St.BOTTOM_LEFT) : new G(e.left + E, e.top + e.height - Q), this.topLeftContentBox = r > 0 || n > 0 ? Pt(e.left + E + T, e.top + v + _, Math.max(0, r - (E + T)), Math.max(0, n - (v + _)), St.TOP_LEFT) : new G(e.left + E + T, e.top + v + _), this.topRightContentBox = o > 0 || a > 0 ? Pt(e.left + Math.min(f, e.width + E + T), e.top + v + _, f > e.width + E + T ? 0 : o - E + T, a - (v + _), St.TOP_RIGHT) : new G(e.left + e.width - (F + P), e.top + v + _), this.bottomRightContentBox = l > 0 || h > 0 ? Pt(e.left + Math.min(B, e.width - (E + T)), e.top + Math.min(w, e.height + v + _), Math.max(0, l - (F + P)), h - (Q + K), St.BOTTOM_RIGHT) : new G(e.left + e.width - (F + P), e.top + e.height - (Q + K)), this.bottomLeftContentBox = u > 0 || p > 0 ? Pt(e.left + E + T, e.top + C, Math.max(0, u - (E + T)), p - (Q + K), St.BOTTOM_LEFT) : new G(e.left + E + T, e.top + e.height - (Q + K));
};
(function(s) {
  s[s.TOP_LEFT = 0] = "TOP_LEFT", s[s.TOP_RIGHT = 1] = "TOP_RIGHT", s[s.BOTTOM_RIGHT = 2] = "BOTTOM_RIGHT", s[s.BOTTOM_LEFT = 3] = "BOTTOM_LEFT";
})(St || (St = {}));
var Pt = function(s, t, e, A, r) {
  var n = (Math.sqrt(2) - 1) / 3 * 4, i = e * n, o = A * n, a = s + e, c = t + A;
  switch (r) {
    case St.TOP_LEFT:
      return new so(new G(s, c), new G(s, c - o), new G(a - i, t), new G(a, t));
    case St.TOP_RIGHT:
      return new so(new G(s, t), new G(s + i, t), new G(a, c - o), new G(a, c));
    case St.BOTTOM_RIGHT:
      return new so(new G(a, t), new G(a, t + o), new G(s + i, c), new G(s, c));
    case St.BOTTOM_LEFT:
    default:
      return new so(new G(a, c), new G(a - i, c), new G(s, t + o), new G(s, t));
  }
}, Ya = function(s) {
  return [s.topLeftBorderBox, s.topRightBorderBox, s.bottomRightBorderBox, s.bottomLeftBorderBox];
}, Ja = function(s) {
  return [s.topLeftPaddingBox, s.topRightPaddingBox, s.bottomRightPaddingBox, s.bottomLeftPaddingBox];
}, jv = function(s, t, e) {
  this.offsetX = s, this.offsetY = t, this.matrix = e, this.type = 0, this.target = 6;
}, ro = function(s, t) {
  this.path = s, this.target = t, this.type = 1;
}, Vv = function(s) {
  this.opacity = s, this.type = 2, this.target = 6;
}, Sw = function(s) {
  return s.type === 1;
}, xg = function(s, t) {
  return s.length === t.length && s.some(function(e, A) {
    return e === t[A];
  });
}, Ew = function(s) {
  this.element = s, this.inlineLevel = [], this.nonInlineLevel = [], this.negativeZIndex = [], this.zeroOrAutoZIndexOrTransformedOrOpacity = [], this.positiveZIndex = [], this.nonPositionedFloats = [], this.nonPositionedInlineLevel = [];
}, Fw = function() {
  function s(t, e) {
    if (this.container = t, this.parent = e, this.effects = [], this.curves = new Nv(this.container), this.container.styles.opacity < 1 && this.effects.push(new Vv(this.container.styles.opacity)), this.container.styles.transform !== null) {
      var A = this.container.bounds.left + this.container.styles.transformOrigin[0].number, r = this.container.bounds.top + this.container.styles.transformOrigin[1].number, n = this.container.styles.transform;
      this.effects.push(new jv(A, r, n));
    }
    if (this.container.styles.overflowX !== 0) {
      var i = Ya(this.curves), o = Ja(this.curves);
      xg(i, o) ? this.effects.push(new ro(i, 6)) : (this.effects.push(new ro(i, 2)), this.effects.push(new ro(o, 4)));
    }
  }
  return s.prototype.getEffects = function(t) {
    for (var e = [2, 3].indexOf(this.container.styles.position) === -1, A = this.parent, r = this.effects.slice(0); A; ) {
      var n = A.effects.filter(function(a) {
        return !Sw(a);
      });
      if (e || A.container.styles.position !== 0 || !A.parent) {
        if (r.unshift.apply(r, n), e = [2, 3].indexOf(A.container.styles.position) === -1, A.container.styles.overflowX !== 0) {
          var i = Ya(A.curves), o = Ja(A.curves);
          xg(i, o) || r.unshift(new ro(o, 6));
        }
      } else r.unshift.apply(r, n);
      A = A.parent;
    }
    return r.filter(function(a) {
      return oe(a.target, t);
    });
  }, s;
}(), jh = function(s, t, e, A) {
  s.container.elements.forEach(function(r) {
    var n = oe(r.flags, 4), i = oe(r.flags, 2), o = new Fw(r, s);
    oe(r.styles.display, 2048) && A.push(o);
    var a = oe(r.flags, 8) ? [] : A;
    if (n || i) {
      var c = n || r.styles.isPositioned() ? e : t, l = new Ew(o);
      if (r.styles.isPositioned() || r.styles.opacity < 1 || r.styles.isTransformed()) {
        var h = r.styles.zIndex.order;
        if (h < 0) {
          var d = 0;
          c.negativeZIndex.some(function(p, g) {
            return h > p.element.container.styles.zIndex.order ? (d = g, !1) : d > 0;
          }), c.negativeZIndex.splice(d, 0, l);
        } else if (h > 0) {
          var u = 0;
          c.positiveZIndex.some(function(p, g) {
            return h >= p.element.container.styles.zIndex.order ? (u = g + 1, !1) : u > 0;
          }), c.positiveZIndex.splice(u, 0, l);
        } else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l);
      } else r.styles.isFloating() ? c.nonPositionedFloats.push(l) : c.nonPositionedInlineLevel.push(l);
      jh(o, l, n ? l : e, a);
    } else r.styles.isInlineLevel() ? t.inlineLevel.push(o) : t.nonInlineLevel.push(o), jh(o, t, e, a);
    oe(r.flags, 8) && Qw(r, a);
  });
}, Qw = function(s, t) {
  for (var e = s instanceof Rh ? s.start : 1, A = s instanceof Rh && s.reversed, r = 0; r < t.length; r++) {
    var n = t[r];
    n.container instanceof dw && typeof n.container.value == "number" && n.container.value !== 0 && (e = n.container.value), n.listValue = pi(e, n.container.styles.listStyleType, !0), e += A ? -1 : 1;
  }
}, Sg = function(s, t) {
  switch (t) {
    case 0:
      return $e(s.topLeftBorderBox, s.topLeftPaddingBox, s.topRightBorderBox, s.topRightPaddingBox);
    case 1:
      return $e(s.topRightBorderBox, s.topRightPaddingBox, s.bottomRightBorderBox, s.bottomRightPaddingBox);
    case 2:
      return $e(s.bottomRightBorderBox, s.bottomRightPaddingBox, s.bottomLeftBorderBox, s.bottomLeftPaddingBox);
    default:
      return $e(s.bottomLeftBorderBox, s.bottomLeftPaddingBox, s.topLeftBorderBox, s.topLeftPaddingBox);
  }
}, no = function(s, t) {
  var e = [];
  return tA(s) ? e.push(s.subdivide(0.5, !1)) : e.push(s), tA(t) ? e.push(t.subdivide(0.5, !0)) : e.push(t), e;
}, $e = function(s, t, e, A) {
  var r = [];
  return tA(s) ? r.push(s.subdivide(0.5, !1)) : r.push(s), tA(e) ? r.push(e.subdivide(0.5, !0)) : r.push(e), tA(A) ? r.push(A.subdivide(0.5, !0).reverse()) : r.push(A), tA(t) ? r.push(t.subdivide(0.5, !1).reverse()) : r.push(t), r;
}, Eg = function(s) {
  var t = s.bounds, e = s.styles;
  return t.add(e.borderLeftWidth, e.borderTopWidth, -(e.borderRightWidth + e.borderLeftWidth), -(e.borderTopWidth + e.borderBottomWidth));
}, Xa = function(s) {
  var t = s.styles, e = s.bounds, A = Lt(t.paddingLeft, e.width), r = Lt(t.paddingRight, e.width), n = Lt(t.paddingTop, e.width), i = Lt(t.paddingBottom, e.width);
  return e.add(A + t.borderLeftWidth, n + t.borderTopWidth, -(t.borderRightWidth + t.borderLeftWidth + A + r), -(t.borderTopWidth + t.borderBottomWidth + n + i));
}, kl = function(s, t, e) {
  var A = function(c, l) {
    return c === 0 ? l.bounds : c === 2 ? Xa(l) : Eg(l);
  }(Fr(s.styles.backgroundOrigin, t), s), r = function(c, l) {
    return c === 0 ? l.bounds : c === 2 ? Xa(l) : Eg(l);
  }(Fr(s.styles.backgroundClip, t), s), n = Gv(Fr(s.styles.backgroundSize, t), e, A), i = n[0], o = n[1], a = En(Fr(s.styles.backgroundPosition, t), A.width - i, A.height - o);
  return [Wv(Fr(s.styles.backgroundRepeat, t), a, n, A, r), Math.round(A.left + a[0]), Math.round(A.top + a[1]), i, o];
}, Br = function(s) {
  return _t(s) && s.value === jr.AUTO;
}, io = function(s) {
  return typeof s == "number";
}, Gv = function(s, t, e) {
  var A = t[0], r = t[1], n = t[2], i = s[0], o = s[1];
  if (!i) return [0, 0];
  if (Ae(i) && o && Ae(o)) return [Lt(i, e.width), Lt(o, e.height)];
  var a = io(n);
  if (_t(i) && (i.value === jr.CONTAIN || i.value === jr.COVER)) return io(n) ? e.width / e.height < n != (i.value === jr.COVER) ? [e.width, e.width / n] : [e.height * n, e.height] : [e.width, e.height];
  var c = io(A), l = io(r), h = c || l;
  if (Br(i) && (!o || Br(o))) return c && l ? [A, r] : a || h ? h && a ? [c ? A : r * n, l ? r : A / n] : [c ? A : e.width, l ? r : e.height] : [e.width, e.height];
  if (a) {
    var d = 0, u = 0;
    return Ae(i) ? d = Lt(i, e.width) : Ae(o) && (u = Lt(o, e.height)), Br(i) ? d = u * n : o && !Br(o) || (u = d / n), [d, u];
  }
  var p = null, g = null;
  if (Ae(i) ? p = Lt(i, e.width) : o && Ae(o) && (g = Lt(o, e.height)), p === null || o && !Br(o) || (g = c && l ? p / A * r : e.height), g !== null && Br(i) && (p = c && l ? g / r * A : e.width), p !== null && g !== null) return [p, g];
  throw new Error("Unable to calculate background-size for element");
}, Fr = function(s, t) {
  var e = s[t];
  return e === void 0 ? s[0] : e;
}, Wv = function(s, t, e, A, r) {
  var n = t[0], i = t[1], o = e[0], a = e[1];
  switch (s) {
    case 2:
      return [new G(Math.round(A.left), Math.round(A.top + i)), new G(Math.round(A.left + A.width), Math.round(A.top + i)), new G(Math.round(A.left + A.width), Math.round(a + A.top + i)), new G(Math.round(A.left), Math.round(a + A.top + i))];
    case 3:
      return [new G(Math.round(A.left + n), Math.round(A.top)), new G(Math.round(A.left + n + o), Math.round(A.top)), new G(Math.round(A.left + n + o), Math.round(A.height + A.top)), new G(Math.round(A.left + n), Math.round(A.height + A.top))];
    case 1:
      return [new G(Math.round(A.left + n), Math.round(A.top + i)), new G(Math.round(A.left + n + o), Math.round(A.top + i)), new G(Math.round(A.left + n + o), Math.round(A.top + i + a)), new G(Math.round(A.left + n), Math.round(A.top + i + a))];
    default:
      return [new G(Math.round(r.left), Math.round(r.top)), new G(Math.round(r.left + r.width), Math.round(r.top)), new G(Math.round(r.left + r.width), Math.round(r.height + r.top)), new G(Math.round(r.left), Math.round(r.height + r.top))];
  }
}, Fg = "Hidden Text", Yv = function() {
  function s(t) {
    this._data = {}, this._document = t;
  }
  return s.prototype.parseMetrics = function(t, e) {
    var A = this._document.createElement("div"), r = this._document.createElement("img"), n = this._document.createElement("span"), i = this._document.body;
    A.style.visibility = "hidden", A.style.fontFamily = t, A.style.fontSize = e, A.style.margin = "0", A.style.padding = "0", A.style.whiteSpace = "nowrap", i.appendChild(A), r.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", r.width = 1, r.height = 1, r.style.margin = "0", r.style.padding = "0", r.style.verticalAlign = "baseline", n.style.fontFamily = t, n.style.fontSize = e, n.style.margin = "0", n.style.padding = "0", n.appendChild(this._document.createTextNode(Fg)), A.appendChild(n), A.appendChild(r);
    var o = r.offsetTop - n.offsetTop + 2;
    A.removeChild(n), A.appendChild(this._document.createTextNode(Fg)), A.style.lineHeight = "normal", r.style.verticalAlign = "super";
    var a = r.offsetTop - A.offsetTop + 2;
    return i.removeChild(A), { baseline: o, middle: a };
  }, s.prototype.getMetrics = function(t, e) {
    var A = t + " " + e;
    return this._data[A] === void 0 && (this._data[A] = this.parseMetrics(t, e)), this._data[A];
  }, s;
}(), Uw = function(s, t) {
  this.context = s, this.options = t;
}, Jv = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r._activeEffects = [], r.canvas = A.canvas ? A.canvas : document.createElement("canvas"), r.ctx = r.canvas.getContext("2d"), A.canvas || (r.canvas.width = Math.floor(A.width * A.scale), r.canvas.height = Math.floor(A.height * A.scale), r.canvas.style.width = A.width + "px", r.canvas.style.height = A.height + "px"), r.fontMetrics = new Yv(document), r.ctx.scale(r.options.scale, r.options.scale), r.ctx.translate(-A.x, -A.y), r.ctx.textBaseline = "bottom", r._activeEffects = [], r.context.logger.debug("Canvas renderer initialized (" + A.width + "x" + A.height + ") with scale " + A.scale), r;
  }
  return yA(t, s), t.prototype.applyEffects = function(e) {
    for (var A = this; this._activeEffects.length; ) this.popEffect();
    e.forEach(function(r) {
      return A.applyEffect(r);
    });
  }, t.prototype.applyEffect = function(e) {
    this.ctx.save(), function(A) {
      return A.type === 2;
    }(e) && (this.ctx.globalAlpha = e.opacity), function(A) {
      return A.type === 0;
    }(e) && (this.ctx.translate(e.offsetX, e.offsetY), this.ctx.transform(e.matrix[0], e.matrix[1], e.matrix[2], e.matrix[3], e.matrix[4], e.matrix[5]), this.ctx.translate(-e.offsetX, -e.offsetY)), Sw(e) && (this.path(e.path), this.ctx.clip()), this._activeEffects.push(e);
  }, t.prototype.popEffect = function() {
    this._activeEffects.pop(), this.ctx.restore();
  }, t.prototype.renderStack = function(e) {
    return Ce(this, 0, void 0, function() {
      return we(this, function(A) {
        switch (A.label) {
          case 0:
            return e.element.container.styles.isVisible() ? [4, this.renderStackContent(e)] : [3, 2];
          case 1:
            A.sent(), A.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, t.prototype.renderNode = function(e) {
    return Ce(this, 0, void 0, function() {
      return we(this, function(A) {
        switch (A.label) {
          case 0:
            return oe(e.container.flags, 16), e.container.styles.isVisible() ? [4, this.renderNodeBackgroundAndBorders(e)] : [3, 3];
          case 1:
            return A.sent(), [4, this.renderNodeContent(e)];
          case 2:
            A.sent(), A.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, t.prototype.renderTextWithLetterSpacing = function(e, A, r) {
    var n = this;
    A === 0 ? this.ctx.fillText(e.text, e.bounds.left, e.bounds.top + r) : gu(e.text).reduce(function(i, o) {
      return n.ctx.fillText(o, i, e.bounds.top + r), i + n.ctx.measureText(o).width;
    }, e.bounds.left);
  }, t.prototype.createFontStyle = function(e) {
    var A = e.fontVariant.filter(function(i) {
      return i === "normal" || i === "small-caps";
    }).join(""), r = $v(e.fontFamily).join(", "), n = ui(e.fontSize) ? "" + e.fontSize.number + e.fontSize.unit : e.fontSize.number + "px";
    return [[e.fontStyle, A, e.fontWeight, n, r].join(" "), r, n];
  }, t.prototype.renderTextNode = function(e, A) {
    return Ce(this, 0, void 0, function() {
      var r, n, i, o, a, c, l, h, d = this;
      return we(this, function(u) {
        return r = this.createFontStyle(A), n = r[0], i = r[1], o = r[2], this.ctx.font = n, this.ctx.direction = A.direction === 1 ? "rtl" : "ltr", this.ctx.textAlign = "left", this.ctx.textBaseline = "alphabetic", a = this.fontMetrics.getMetrics(i, o), c = a.baseline, l = a.middle, h = A.paintOrder, e.textBounds.forEach(function(p) {
          h.forEach(function(g) {
            switch (g) {
              case 0:
                d.ctx.fillStyle = le(A.color), d.renderTextWithLetterSpacing(p, A.letterSpacing, c);
                var m = A.textShadow;
                m.length && p.text.trim().length && (m.slice(0).reverse().forEach(function(f) {
                  d.ctx.shadowColor = le(f.color), d.ctx.shadowOffsetX = f.offsetX.number * d.options.scale, d.ctx.shadowOffsetY = f.offsetY.number * d.options.scale, d.ctx.shadowBlur = f.blur.number, d.renderTextWithLetterSpacing(p, A.letterSpacing, c);
                }), d.ctx.shadowColor = "", d.ctx.shadowOffsetX = 0, d.ctx.shadowOffsetY = 0, d.ctx.shadowBlur = 0), A.textDecorationLine.length && (d.ctx.fillStyle = le(A.textDecorationColor || A.color), A.textDecorationLine.forEach(function(f) {
                  switch (f) {
                    case 1:
                      d.ctx.fillRect(p.bounds.left, Math.round(p.bounds.top + c), p.bounds.width, 1);
                      break;
                    case 2:
                      d.ctx.fillRect(p.bounds.left, Math.round(p.bounds.top), p.bounds.width, 1);
                      break;
                    case 3:
                      d.ctx.fillRect(p.bounds.left, Math.ceil(p.bounds.top + l), p.bounds.width, 1);
                  }
                }));
                break;
              case 1:
                A.webkitTextStrokeWidth && p.text.trim().length && (d.ctx.strokeStyle = le(A.webkitTextStrokeColor), d.ctx.lineWidth = A.webkitTextStrokeWidth, d.ctx.lineJoin = window.chrome ? "miter" : "round", d.ctx.strokeText(p.text, p.bounds.left, p.bounds.top + c)), d.ctx.strokeStyle = "", d.ctx.lineWidth = 0, d.ctx.lineJoin = "miter";
            }
          });
        }), [2];
      });
    });
  }, t.prototype.renderReplacedElement = function(e, A, r) {
    if (r && e.intrinsicWidth > 0 && e.intrinsicHeight > 0) {
      var n = Xa(e), i = Ja(A);
      this.path(i), this.ctx.save(), this.ctx.clip(), this.ctx.drawImage(r, 0, 0, e.intrinsicWidth, e.intrinsicHeight, n.left, n.top, n.width, n.height), this.ctx.restore();
    }
  }, t.prototype.renderNodeContent = function(e) {
    return Ce(this, 0, void 0, function() {
      var A, r, n, i, o, a, c, l, h, d, u, p, g, m, f, w, B, C;
      return we(this, function(v) {
        switch (v.label) {
          case 0:
            this.applyEffects(e.getEffects(4)), A = e.container, r = e.curves, n = A.styles, i = 0, o = A.textNodes, v.label = 1;
          case 1:
            return i < o.length ? (a = o[i], [4, this.renderTextNode(a, n)]) : [3, 4];
          case 2:
            v.sent(), v.label = 3;
          case 3:
            return i++, [3, 1];
          case 4:
            if (!(A instanceof cw)) return [3, 8];
            v.label = 5;
          case 5:
            return v.trys.push([5, 7, , 8]), [4, this.context.cache.match(A.src)];
          case 6:
            return f = v.sent(), this.renderReplacedElement(A, r, f), [3, 8];
          case 7:
            return v.sent(), this.context.logger.error("Error loading image " + A.src), [3, 8];
          case 8:
            if (A instanceof lw && this.renderReplacedElement(A, r, A.canvas), !(A instanceof hw)) return [3, 12];
            v.label = 9;
          case 9:
            return v.trys.push([9, 11, , 12]), [4, this.context.cache.match(A.svg)];
          case 10:
            return f = v.sent(), this.renderReplacedElement(A, r, f), [3, 12];
          case 11:
            return v.sent(), this.context.logger.error("Error loading svg " + A.svg.substring(0, 255)), [3, 12];
          case 12:
            return A instanceof gw && A.tree ? [4, new t(this.context, { scale: this.options.scale, backgroundColor: A.backgroundColor, x: 0, y: 0, width: A.width, height: A.height }).render(A.tree)] : [3, 14];
          case 13:
            c = v.sent(), A.width && A.height && this.ctx.drawImage(c, 0, 0, A.width, A.height, A.bounds.left, A.bounds.top, A.bounds.width, A.bounds.height), v.label = 14;
          case 14:
            if (A instanceof fu && (l = Math.min(A.bounds.width, A.bounds.height), A.type === ja ? A.checked && (this.ctx.save(), this.path([new G(A.bounds.left + 0.39363 * l, A.bounds.top + 0.79 * l), new G(A.bounds.left + 0.16 * l, A.bounds.top + 0.5549 * l), new G(A.bounds.left + 0.27347 * l, A.bounds.top + 0.44071 * l), new G(A.bounds.left + 0.39694 * l, A.bounds.top + 0.5649 * l), new G(A.bounds.left + 0.72983 * l, A.bounds.top + 0.23 * l), new G(A.bounds.left + 0.84 * l, A.bounds.top + 0.34085 * l), new G(A.bounds.left + 0.39363 * l, A.bounds.top + 0.79 * l)]), this.ctx.fillStyle = le(pg), this.ctx.fill(), this.ctx.restore()) : A.type === Va && A.checked && (this.ctx.save(), this.ctx.beginPath(), this.ctx.arc(A.bounds.left + l / 2, A.bounds.top + l / 2, l / 4, 0, 2 * Math.PI, !0), this.ctx.fillStyle = le(pg), this.ctx.fill(), this.ctx.restore())), Xv(A) && A.value.length) {
              switch (h = this.createFontStyle(n), B = h[0], d = h[1], u = this.fontMetrics.getMetrics(B, d).baseline, this.ctx.font = B, this.ctx.fillStyle = le(n.color), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = Zv(A.styles.textAlign), C = Xa(A), p = 0, A.styles.textAlign) {
                case 1:
                  p += C.width / 2;
                  break;
                case 2:
                  p += C.width;
              }
              g = C.add(p, 0, 0, -C.height / 2 + 1), this.ctx.save(), this.path([new G(C.left, C.top), new G(C.left + C.width, C.top), new G(C.left + C.width, C.top + C.height), new G(C.left, C.top + C.height)]), this.ctx.clip(), this.renderTextWithLetterSpacing(new ri(A.value, g), n.letterSpacing, u), this.ctx.restore(), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = "left";
            }
            if (!oe(A.styles.display, 2048)) return [3, 20];
            if (A.styles.listStyleImage === null) return [3, 19];
            if ((m = A.styles.listStyleImage).type !== 0) return [3, 18];
            f = void 0, w = m.url, v.label = 15;
          case 15:
            return v.trys.push([15, 17, , 18]), [4, this.context.cache.match(w)];
          case 16:
            return f = v.sent(), this.ctx.drawImage(f, A.bounds.left - (f.width + 10), A.bounds.top), [3, 18];
          case 17:
            return v.sent(), this.context.logger.error("Error loading list-style-image " + w), [3, 18];
          case 18:
            return [3, 20];
          case 19:
            e.listValue && A.styles.listStyleType !== -1 && (B = this.createFontStyle(n)[0], this.ctx.font = B, this.ctx.fillStyle = le(n.color), this.ctx.textBaseline = "middle", this.ctx.textAlign = "right", C = new ss(A.bounds.left, A.bounds.top + Lt(A.styles.paddingTop, A.bounds.width), A.bounds.width, Ag(n.lineHeight, n.fontSize.number) / 2 + 1), this.renderTextWithLetterSpacing(new ri(e.listValue, C), n.letterSpacing, Ag(n.lineHeight, n.fontSize.number) / 2 + 2), this.ctx.textBaseline = "bottom", this.ctx.textAlign = "left"), v.label = 20;
          case 20:
            return [2];
        }
      });
    });
  }, t.prototype.renderStackContent = function(e) {
    return Ce(this, 0, void 0, function() {
      var A, r, n, i, o, a, c, l, h, d, u, p, g, m, f;
      return we(this, function(w) {
        switch (w.label) {
          case 0:
            return oe(e.element.container.flags, 16), [4, this.renderNodeBackgroundAndBorders(e.element)];
          case 1:
            w.sent(), A = 0, r = e.negativeZIndex, w.label = 2;
          case 2:
            return A < r.length ? (f = r[A], [4, this.renderStack(f)]) : [3, 5];
          case 3:
            w.sent(), w.label = 4;
          case 4:
            return A++, [3, 2];
          case 5:
            return [4, this.renderNodeContent(e.element)];
          case 6:
            w.sent(), n = 0, i = e.nonInlineLevel, w.label = 7;
          case 7:
            return n < i.length ? (f = i[n], [4, this.renderNode(f)]) : [3, 10];
          case 8:
            w.sent(), w.label = 9;
          case 9:
            return n++, [3, 7];
          case 10:
            o = 0, a = e.nonPositionedFloats, w.label = 11;
          case 11:
            return o < a.length ? (f = a[o], [4, this.renderStack(f)]) : [3, 14];
          case 12:
            w.sent(), w.label = 13;
          case 13:
            return o++, [3, 11];
          case 14:
            c = 0, l = e.nonPositionedInlineLevel, w.label = 15;
          case 15:
            return c < l.length ? (f = l[c], [4, this.renderStack(f)]) : [3, 18];
          case 16:
            w.sent(), w.label = 17;
          case 17:
            return c++, [3, 15];
          case 18:
            h = 0, d = e.inlineLevel, w.label = 19;
          case 19:
            return h < d.length ? (f = d[h], [4, this.renderNode(f)]) : [3, 22];
          case 20:
            w.sent(), w.label = 21;
          case 21:
            return h++, [3, 19];
          case 22:
            u = 0, p = e.zeroOrAutoZIndexOrTransformedOrOpacity, w.label = 23;
          case 23:
            return u < p.length ? (f = p[u], [4, this.renderStack(f)]) : [3, 26];
          case 24:
            w.sent(), w.label = 25;
          case 25:
            return u++, [3, 23];
          case 26:
            g = 0, m = e.positiveZIndex, w.label = 27;
          case 27:
            return g < m.length ? (f = m[g], [4, this.renderStack(f)]) : [3, 30];
          case 28:
            w.sent(), w.label = 29;
          case 29:
            return g++, [3, 27];
          case 30:
            return [2];
        }
      });
    });
  }, t.prototype.mask = function(e) {
    this.ctx.beginPath(), this.ctx.moveTo(0, 0), this.ctx.lineTo(this.canvas.width, 0), this.ctx.lineTo(this.canvas.width, this.canvas.height), this.ctx.lineTo(0, this.canvas.height), this.ctx.lineTo(0, 0), this.formatPath(e.slice(0).reverse()), this.ctx.closePath();
  }, t.prototype.path = function(e) {
    this.ctx.beginPath(), this.formatPath(e), this.ctx.closePath();
  }, t.prototype.formatPath = function(e) {
    var A = this;
    e.forEach(function(r, n) {
      var i = tA(r) ? r.start : r;
      n === 0 ? A.ctx.moveTo(i.x, i.y) : A.ctx.lineTo(i.x, i.y), tA(r) && A.ctx.bezierCurveTo(r.startControl.x, r.startControl.y, r.endControl.x, r.endControl.y, r.end.x, r.end.y);
    });
  }, t.prototype.renderRepeat = function(e, A, r, n) {
    this.path(e), this.ctx.fillStyle = A, this.ctx.translate(r, n), this.ctx.fill(), this.ctx.translate(-r, -n);
  }, t.prototype.resizeImage = function(e, A, r) {
    var n;
    if (e.width === A && e.height === r) return e;
    var i = ((n = this.canvas.ownerDocument) !== null && n !== void 0 ? n : document).createElement("canvas");
    return i.width = Math.max(1, A), i.height = Math.max(1, r), i.getContext("2d").drawImage(e, 0, 0, e.width, e.height, 0, 0, A, r), i;
  }, t.prototype.renderBackgroundImage = function(e) {
    return Ce(this, 0, void 0, function() {
      var A, r, n, i, o, a;
      return we(this, function(c) {
        switch (c.label) {
          case 0:
            A = e.styles.backgroundImage.length - 1, r = function(l) {
              var h, d, u, p, g, m, f, w, B, C, v, F, Q, E, _, P, K, T, D, I, y, S, M, R, H, L, j, Z, $, nt, wt;
              return we(this, function(At) {
                switch (At.label) {
                  case 0:
                    if (l.type !== 0) return [3, 5];
                    h = void 0, d = l.url, At.label = 1;
                  case 1:
                    return At.trys.push([1, 3, , 4]), [4, n.context.cache.match(d)];
                  case 2:
                    return h = At.sent(), [3, 4];
                  case 3:
                    return At.sent(), n.context.logger.error("Error loading background-image " + d), [3, 4];
                  case 4:
                    return h && (u = kl(e, A, [h.width, h.height, h.width / h.height]), P = u[0], S = u[1], M = u[2], D = u[3], I = u[4], E = n.ctx.createPattern(n.resizeImage(h, D, I), "repeat"), n.renderRepeat(P, E, S, M)), [3, 6];
                  case 5:
                    l.type === 1 ? (p = kl(e, A, [null, null, null]), P = p[0], S = p[1], M = p[2], D = p[3], I = p[4], g = U1(l.angle, D, I), m = g[0], f = g[1], w = g[2], B = g[3], C = g[4], (v = document.createElement("canvas")).width = D, v.height = I, F = v.getContext("2d"), Q = F.createLinearGradient(f, B, w, C), tg(l.stops, m).forEach(function(tt) {
                      return Q.addColorStop(tt.stop, le(tt.color));
                    }), F.fillStyle = Q, F.fillRect(0, 0, D, I), D > 0 && I > 0 && (E = n.ctx.createPattern(v, "repeat"), n.renderRepeat(P, E, S, M))) : function(tt) {
                      return tt.type === 2;
                    }(l) && (_ = kl(e, A, [null, null, null]), P = _[0], K = _[1], T = _[2], D = _[3], I = _[4], y = l.position.length === 0 ? [uu] : l.position, S = Lt(y[0], D), M = Lt(y[y.length - 1], I), R = function(tt, gt, ct, X, It) {
                      var ht = 0, st = 0;
                      switch (tt.size) {
                        case 0:
                          tt.shape === 0 ? ht = st = Math.min(Math.abs(gt), Math.abs(gt - X), Math.abs(ct), Math.abs(ct - It)) : tt.shape === 1 && (ht = Math.min(Math.abs(gt), Math.abs(gt - X)), st = Math.min(Math.abs(ct), Math.abs(ct - It)));
                          break;
                        case 2:
                          if (tt.shape === 0) ht = st = Math.min(oA(gt, ct), oA(gt, ct - It), oA(gt - X, ct), oA(gt - X, ct - It));
                          else if (tt.shape === 1) {
                            var Dt = Math.min(Math.abs(ct), Math.abs(ct - It)) / Math.min(Math.abs(gt), Math.abs(gt - X)), pt = eg(X, It, gt, ct, !0), ut = pt[0], bt = pt[1];
                            st = Dt * (ht = oA(ut - gt, (bt - ct) / Dt));
                          }
                          break;
                        case 1:
                          tt.shape === 0 ? ht = st = Math.max(Math.abs(gt), Math.abs(gt - X), Math.abs(ct), Math.abs(ct - It)) : tt.shape === 1 && (ht = Math.max(Math.abs(gt), Math.abs(gt - X)), st = Math.max(Math.abs(ct), Math.abs(ct - It)));
                          break;
                        case 3:
                          if (tt.shape === 0) ht = st = Math.max(oA(gt, ct), oA(gt, ct - It), oA(gt - X, ct), oA(gt - X, ct - It));
                          else if (tt.shape === 1) {
                            Dt = Math.max(Math.abs(ct), Math.abs(ct - It)) / Math.max(Math.abs(gt), Math.abs(gt - X));
                            var ot = eg(X, It, gt, ct, !1);
                            ut = ot[0], bt = ot[1], st = Dt * (ht = oA(ut - gt, (bt - ct) / Dt));
                          }
                      }
                      return Array.isArray(tt.size) && (ht = Lt(tt.size[0], X), st = tt.size.length === 2 ? Lt(tt.size[1], It) : ht), [ht, st];
                    }(l, S, M, D, I), H = R[0], L = R[1], H > 0 && L > 0 && (j = n.ctx.createRadialGradient(K + S, T + M, 0, K + S, T + M, H), tg(l.stops, 2 * H).forEach(function(tt) {
                      return j.addColorStop(tt.stop, le(tt.color));
                    }), n.path(P), n.ctx.fillStyle = j, H !== L ? (Z = e.bounds.left + 0.5 * e.bounds.width, $ = e.bounds.top + 0.5 * e.bounds.height, wt = 1 / (nt = L / H), n.ctx.save(), n.ctx.translate(Z, $), n.ctx.transform(1, 0, 0, nt, 0, 0), n.ctx.translate(-Z, -$), n.ctx.fillRect(K, wt * (T - $) + $, D, I * wt), n.ctx.restore()) : n.ctx.fill())), At.label = 6;
                  case 6:
                    return A--, [2];
                }
              });
            }, n = this, i = 0, o = e.styles.backgroundImage.slice(0).reverse(), c.label = 1;
          case 1:
            return i < o.length ? (a = o[i], [5, r(a)]) : [3, 4];
          case 2:
            c.sent(), c.label = 3;
          case 3:
            return i++, [3, 1];
          case 4:
            return [2];
        }
      });
    });
  }, t.prototype.renderSolidBorder = function(e, A, r) {
    return Ce(this, 0, void 0, function() {
      return we(this, function(n) {
        return this.path(Sg(r, A)), this.ctx.fillStyle = le(e), this.ctx.fill(), [2];
      });
    });
  }, t.prototype.renderDoubleBorder = function(e, A, r, n) {
    return Ce(this, 0, void 0, function() {
      var i, o;
      return we(this, function(a) {
        switch (a.label) {
          case 0:
            return A < 3 ? [4, this.renderSolidBorder(e, r, n)] : [3, 2];
          case 1:
            return a.sent(), [2];
          case 2:
            return i = function(c, l) {
              switch (l) {
                case 0:
                  return $e(c.topLeftBorderBox, c.topLeftBorderDoubleOuterBox, c.topRightBorderBox, c.topRightBorderDoubleOuterBox);
                case 1:
                  return $e(c.topRightBorderBox, c.topRightBorderDoubleOuterBox, c.bottomRightBorderBox, c.bottomRightBorderDoubleOuterBox);
                case 2:
                  return $e(c.bottomRightBorderBox, c.bottomRightBorderDoubleOuterBox, c.bottomLeftBorderBox, c.bottomLeftBorderDoubleOuterBox);
                default:
                  return $e(c.bottomLeftBorderBox, c.bottomLeftBorderDoubleOuterBox, c.topLeftBorderBox, c.topLeftBorderDoubleOuterBox);
              }
            }(n, r), this.path(i), this.ctx.fillStyle = le(e), this.ctx.fill(), o = function(c, l) {
              switch (l) {
                case 0:
                  return $e(c.topLeftBorderDoubleInnerBox, c.topLeftPaddingBox, c.topRightBorderDoubleInnerBox, c.topRightPaddingBox);
                case 1:
                  return $e(c.topRightBorderDoubleInnerBox, c.topRightPaddingBox, c.bottomRightBorderDoubleInnerBox, c.bottomRightPaddingBox);
                case 2:
                  return $e(c.bottomRightBorderDoubleInnerBox, c.bottomRightPaddingBox, c.bottomLeftBorderDoubleInnerBox, c.bottomLeftPaddingBox);
                default:
                  return $e(c.bottomLeftBorderDoubleInnerBox, c.bottomLeftPaddingBox, c.topLeftBorderDoubleInnerBox, c.topLeftPaddingBox);
              }
            }(n, r), this.path(o), this.ctx.fill(), [2];
        }
      });
    });
  }, t.prototype.renderNodeBackgroundAndBorders = function(e) {
    return Ce(this, 0, void 0, function() {
      var A, r, n, i, o, a, c, l, h = this;
      return we(this, function(d) {
        switch (d.label) {
          case 0:
            return this.applyEffects(e.getEffects(2)), A = e.container.styles, r = !xs(A.backgroundColor) || A.backgroundImage.length, n = [{ style: A.borderTopStyle, color: A.borderTopColor, width: A.borderTopWidth }, { style: A.borderRightStyle, color: A.borderRightColor, width: A.borderRightWidth }, { style: A.borderBottomStyle, color: A.borderBottomColor, width: A.borderBottomWidth }, { style: A.borderLeftStyle, color: A.borderLeftColor, width: A.borderLeftWidth }], i = zv(Fr(A.backgroundClip, 0), e.curves), r || A.boxShadow.length ? (this.ctx.save(), this.path(i), this.ctx.clip(), xs(A.backgroundColor) || (this.ctx.fillStyle = le(A.backgroundColor), this.ctx.fill()), [4, this.renderBackgroundImage(e.container)]) : [3, 2];
          case 1:
            d.sent(), this.ctx.restore(), A.boxShadow.slice(0).reverse().forEach(function(u) {
              h.ctx.save();
              var p, g, m, f, w, B = Ya(e.curves), C = u.inset ? 0 : 1e4, v = (p = B, g = -C + (u.inset ? 1 : -1) * u.spread.number, m = (u.inset ? 1 : -1) * u.spread.number, f = u.spread.number * (u.inset ? -2 : 2), w = u.spread.number * (u.inset ? -2 : 2), p.map(function(F, Q) {
                switch (Q) {
                  case 0:
                    return F.add(g, m);
                  case 1:
                    return F.add(g + f, m);
                  case 2:
                    return F.add(g + f, m + w);
                  case 3:
                    return F.add(g, m + w);
                }
                return F;
              }));
              u.inset ? (h.path(B), h.ctx.clip(), h.mask(v)) : (h.mask(B), h.ctx.clip(), h.path(v)), h.ctx.shadowOffsetX = u.offsetX.number + C, h.ctx.shadowOffsetY = u.offsetY.number, h.ctx.shadowColor = le(u.color), h.ctx.shadowBlur = u.blur.number, h.ctx.fillStyle = u.inset ? le(u.color) : "rgba(0,0,0,1)", h.ctx.fill(), h.ctx.restore();
            }), d.label = 2;
          case 2:
            o = 0, a = 0, c = n, d.label = 3;
          case 3:
            return a < c.length ? (l = c[a]).style !== 0 && !xs(l.color) && l.width > 0 ? l.style !== 2 ? [3, 5] : [4, this.renderDashedDottedBorder(l.color, l.width, o, e.curves, 2)] : [3, 11] : [3, 13];
          case 4:
            return d.sent(), [3, 11];
          case 5:
            return l.style !== 3 ? [3, 7] : [4, this.renderDashedDottedBorder(l.color, l.width, o, e.curves, 3)];
          case 6:
            return d.sent(), [3, 11];
          case 7:
            return l.style !== 4 ? [3, 9] : [4, this.renderDoubleBorder(l.color, l.width, o, e.curves)];
          case 8:
            return d.sent(), [3, 11];
          case 9:
            return [4, this.renderSolidBorder(l.color, o, e.curves)];
          case 10:
            d.sent(), d.label = 11;
          case 11:
            o++, d.label = 12;
          case 12:
            return a++, [3, 3];
          case 13:
            return [2];
        }
      });
    });
  }, t.prototype.renderDashedDottedBorder = function(e, A, r, n, i) {
    return Ce(this, 0, void 0, function() {
      var o, a, c, l, h, d, u, p, g, m, f, w, B, C, v, F;
      return we(this, function(Q) {
        return this.ctx.save(), o = function(E, _) {
          switch (_) {
            case 0:
              return no(E.topLeftBorderStroke, E.topRightBorderStroke);
            case 1:
              return no(E.topRightBorderStroke, E.bottomRightBorderStroke);
            case 2:
              return no(E.bottomRightBorderStroke, E.bottomLeftBorderStroke);
            default:
              return no(E.bottomLeftBorderStroke, E.topLeftBorderStroke);
          }
        }(n, r), a = Sg(n, r), i === 2 && (this.path(a), this.ctx.clip()), tA(a[0]) ? (c = a[0].start.x, l = a[0].start.y) : (c = a[0].x, l = a[0].y), tA(a[1]) ? (h = a[1].end.x, d = a[1].end.y) : (h = a[1].x, d = a[1].y), u = Math.abs(r === 0 || r === 2 ? c - h : l - d), this.ctx.beginPath(), i === 3 ? this.formatPath(o) : this.formatPath(a.slice(0, 2)), p = A < 3 ? 3 * A : 2 * A, g = A < 3 ? 2 * A : A, i === 3 && (p = A, g = A), m = !0, u <= 2 * p ? m = !1 : u <= 2 * p + g ? (p *= f = u / (2 * p + g), g *= f) : (w = Math.floor((u + g) / (p + g)), B = (u - w * p) / (w - 1), g = (C = (u - (w + 1) * p) / w) <= 0 || Math.abs(g - B) < Math.abs(g - C) ? B : C), m && (i === 3 ? this.ctx.setLineDash([0, p + g]) : this.ctx.setLineDash([p, g])), i === 3 ? (this.ctx.lineCap = "round", this.ctx.lineWidth = A) : this.ctx.lineWidth = 2 * A + 1.1, this.ctx.strokeStyle = le(e), this.ctx.stroke(), this.ctx.setLineDash([]), i === 2 && (tA(a[0]) && (v = a[3], F = a[0], this.ctx.beginPath(), this.formatPath([new G(v.end.x, v.end.y), new G(F.start.x, F.start.y)]), this.ctx.stroke()), tA(a[1]) && (v = a[1], F = a[2], this.ctx.beginPath(), this.formatPath([new G(v.end.x, v.end.y), new G(F.start.x, F.start.y)]), this.ctx.stroke())), this.ctx.restore(), [2];
      });
    });
  }, t.prototype.render = function(e) {
    return Ce(this, 0, void 0, function() {
      var A;
      return we(this, function(r) {
        switch (r.label) {
          case 0:
            return this.options.backgroundColor && (this.ctx.fillStyle = le(this.options.backgroundColor), this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height)), A = function(n) {
              var i = new Fw(n, null), o = new Ew(i), a = [];
              return jh(i, o, o, a), Qw(i.container, a), o;
            }(e), [4, this.renderStack(A)];
          case 1:
            return r.sent(), this.applyEffects([]), [2, this.canvas];
        }
      });
    });
  }, t;
}(Uw), Xv = function(s) {
  return s instanceof pw || s instanceof uw || s instanceof fu && s.type !== Va && s.type !== ja;
}, zv = function(s, t) {
  switch (s) {
    case 0:
      return Ya(t);
    case 2:
      return function(e) {
        return [e.topLeftContentBox, e.topRightContentBox, e.bottomRightContentBox, e.bottomLeftContentBox];
      }(t);
    default:
      return Ja(t);
  }
}, Zv = function(s) {
  switch (s) {
    case 1:
      return "center";
    case 2:
      return "right";
    default:
      return "left";
  }
}, qv = ["-apple-system", "system-ui"], $v = function(s) {
  return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent) ? s.filter(function(t) {
    return qv.indexOf(t) === -1;
  }) : s;
}, tk = function(s) {
  function t(e, A) {
    var r = s.call(this, e, A) || this;
    return r.canvas = A.canvas ? A.canvas : document.createElement("canvas"), r.ctx = r.canvas.getContext("2d"), r.options = A, r.canvas.width = Math.floor(A.width * A.scale), r.canvas.height = Math.floor(A.height * A.scale), r.canvas.style.width = A.width + "px", r.canvas.style.height = A.height + "px", r.ctx.scale(r.options.scale, r.options.scale), r.ctx.translate(-A.x, -A.y), r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized (" + A.width + "x" + A.height + " at " + A.x + "," + A.y + ") with scale " + A.scale), r;
  }
  return yA(t, s), t.prototype.render = function(e) {
    return Ce(this, 0, void 0, function() {
      var A, r;
      return we(this, function(n) {
        switch (n.label) {
          case 0:
            return A = Dh(this.options.width * this.options.scale, this.options.height * this.options.scale, this.options.scale, this.options.scale, e), [4, ek(A)];
          case 1:
            return r = n.sent(), this.options.backgroundColor && (this.ctx.fillStyle = le(this.options.backgroundColor), this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale)), this.ctx.drawImage(r, -this.options.x * this.options.scale, -this.options.y * this.options.scale), [2, this.canvas];
        }
      });
    });
  }, t;
}(Uw), ek = function(s) {
  return new Promise(function(t, e) {
    var A = new Image();
    A.onload = function() {
      t(A);
    }, A.onerror = e, A.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(s));
  });
}, Ak = function() {
  function s(t) {
    var e = t.id, A = t.enabled;
    this.id = e, this.enabled = A, this.start = Date.now();
  }
  return s.prototype.debug = function() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    this.enabled && (typeof window < "u" && window.console && typeof console.debug == "function" ? console.debug.apply(console, Ni([this.id, this.getTime() + "ms"], t)) : this.info.apply(this, t));
  }, s.prototype.getTime = function() {
    return Date.now() - this.start;
  }, s.prototype.info = function() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    this.enabled && typeof window < "u" && window.console && typeof console.info == "function" && console.info.apply(console, Ni([this.id, this.getTime() + "ms"], t));
  }, s.prototype.warn = function() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    this.enabled && (typeof window < "u" && window.console && typeof console.warn == "function" ? console.warn.apply(console, Ni([this.id, this.getTime() + "ms"], t)) : this.info.apply(this, t));
  }, s.prototype.error = function() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    this.enabled && (typeof window < "u" && window.console && typeof console.error == "function" ? console.error.apply(console, Ni([this.id, this.getTime() + "ms"], t)) : this.info.apply(this, t));
  }, s.instances = {}, s;
}(), sk = function() {
  function s(t, e) {
    var A;
    this.windowBounds = e, this.instanceName = "#" + s.instanceCount++, this.logger = new Ak({ id: this.instanceName, enabled: t.logging }), this.cache = (A = t.cache) !== null && A !== void 0 ? A : new Lv(this, t);
  }
  return s.instanceCount = 1, s;
}();
typeof window < "u" && xw.setContext(window);
var rk = function(s, t) {
  return Ce(void 0, 0, void 0, function() {
    var e, A, r, n, i, o, a, c, l, h, d, u, p, g, m, f, w, B, C, v, F, Q, E, _, P, K, T, D, I, y, S, M, R, H, L, j, Z, $;
    return we(this, function(nt) {
      switch (nt.label) {
        case 0:
          if (!s || typeof s != "object") return [2, Promise.reject("Invalid element provided as first argument")];
          if (!(e = s.ownerDocument)) throw new Error("Element is not attached to a Document");
          if (!(A = e.defaultView)) throw new Error("Document is not attached to a Window");
          return r = { allowTaint: (Q = t.allowTaint) !== null && Q !== void 0 && Q, imageTimeout: (E = t.imageTimeout) !== null && E !== void 0 ? E : 15e3, proxy: t.proxy, useCORS: (_ = t.useCORS) !== null && _ !== void 0 && _ }, n = xh({ logging: (P = t.logging) === null || P === void 0 || P, cache: t.cache }, r), i = { windowWidth: (K = t.windowWidth) !== null && K !== void 0 ? K : A.innerWidth, windowHeight: (T = t.windowHeight) !== null && T !== void 0 ? T : A.innerHeight, scrollX: (D = t.scrollX) !== null && D !== void 0 ? D : A.pageXOffset, scrollY: (I = t.scrollY) !== null && I !== void 0 ? I : A.pageYOffset }, o = new ss(i.scrollX, i.scrollY, i.windowWidth, i.windowHeight), a = new sk(n, o), c = (y = t.foreignObjectRendering) !== null && y !== void 0 && y, l = { allowTaint: (S = t.allowTaint) !== null && S !== void 0 && S, onclone: t.onclone, ignoreElements: t.ignoreElements, inlineImages: c, copyStyles: c }, a.logger.debug("Starting document clone with size " + o.width + "x" + o.height + " scrolled to " + -o.left + "," + -o.top), h = new vg(a, s, l), (d = h.clonedReferenceElement) ? [4, h.toIFrame(e, o)] : [2, Promise.reject("Unable to find element in cloned iframe")];
        case 1:
          return u = nt.sent(), p = mu(d) || function(wt) {
            return wt.tagName === "HTML";
          }(d) ? function(wt) {
            var At = wt.body, tt = wt.documentElement;
            if (!At || !tt) throw new Error("Unable to get document size");
            var gt = Math.max(Math.max(At.scrollWidth, tt.scrollWidth), Math.max(At.offsetWidth, tt.offsetWidth), Math.max(At.clientWidth, tt.clientWidth)), ct = Math.max(Math.max(At.scrollHeight, tt.scrollHeight), Math.max(At.offsetHeight, tt.offsetHeight), Math.max(At.clientHeight, tt.clientHeight));
            return new ss(0, 0, gt, ct);
          }(d.ownerDocument) : Uc(a, d), g = p.width, m = p.height, f = p.left, w = p.top, B = nk(a, d, t.backgroundColor), C = { canvas: t.canvas, backgroundColor: B, scale: (R = (M = t.scale) !== null && M !== void 0 ? M : A.devicePixelRatio) !== null && R !== void 0 ? R : 1, x: ((H = t.x) !== null && H !== void 0 ? H : 0) + f, y: ((L = t.y) !== null && L !== void 0 ? L : 0) + w, width: (j = t.width) !== null && j !== void 0 ? j : Math.ceil(g), height: (Z = t.height) !== null && Z !== void 0 ? Z : Math.ceil(m) }, c ? (a.logger.debug("Document cloned, using foreign object rendering"), [4, new tk(a, C).render(d)]) : [3, 3];
        case 2:
          return v = nt.sent(), [3, 5];
        case 3:
          return a.logger.debug("Document cloned, element located at " + f + "," + w + " with size " + g + "x" + m + " using computed rendering"), a.logger.debug("Starting DOM parsing"), F = mw(a, d), B === F.styles.backgroundColor && (F.styles.backgroundColor = ts.TRANSPARENT), a.logger.debug("Starting renderer for element at " + C.x + "," + C.y + " with size " + C.width + "x" + C.height), [4, new Jv(a, C).render(F)];
        case 4:
          v = nt.sent(), nt.label = 5;
        case 5:
          return (($ = t.removeContainer) === null || $ === void 0 || $) && (vg.destroy(u) || a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")), a.logger.debug("Finished rendering"), [2, v];
      }
    });
  });
}, nk = function(s, t, e) {
  var A = t.ownerDocument, r = A.documentElement ? ei(s, getComputedStyle(A.documentElement).backgroundColor) : ts.TRANSPARENT, n = A.body ? ei(s, getComputedStyle(A.body).backgroundColor) : ts.TRANSPARENT, i = typeof e == "string" ? ei(s, e) : e === null ? ts.TRANSPARENT : 4294967295;
  return t === A.documentElement ? xs(r) ? xs(n) ? i : n : r : i;
};
const wu = "shakeSdk: ", Qg = (s) => {
  console.info(`${wu} ${s}`);
}, qt = (s) => {
  console.warn(`${wu} ${s}`);
}, Rc = (s) => {
  console.error(`${wu} ${s}`);
};
class Iw {
  constructor() {
    b(this, "captureScreenshot", async (t) => {
      try {
        const e = window.innerWidth, A = window.innerHeight, r = window.scrollX, n = window.scrollY, i = await function(o, a) {
          return a === void 0 && (a = {}), rk(o, a);
        }(t, { x: r, y: n, width: e, height: A, scrollX: 0, scrollY: 0, allowTaint: !0, useCORS: !0, backgroundColor: "transparent", logging: !1 });
        return await this.getBlobFromCanvas(i);
      } catch (e) {
        Rc(e.message);
      }
      return null;
    });
    b(this, "getBlobFromCanvas", (t) => new Promise((e) => {
      t.toBlob((A) => {
        e(A);
      });
    }));
  }
}
var Mt = ((s) => (s[s.IMAGE = 0] = "IMAGE", s[s.VIDEO = 1] = "VIDEO", s[s.FILE = 2] = "FILE", s))(Mt || {});
function na(s) {
  const t = new Date(s);
  return `${t.getUTCFullYear()}-${(t.getUTCMonth() + 1).toString().padStart(2, "0")}-${t.getUTCDate().toString().padStart(2, "0")}T${t.getUTCHours().toString().padStart(2, "0")}:${t.getUTCMinutes().toString().padStart(2, "0")}:${t.getUTCSeconds().toString().padStart(2, "0")}.${t.getUTCMilliseconds().toString().padStart(3, "0")}Z`;
}
const Bu = (s, t) => s === Mt.IMAGE ? `image_${na((/* @__PURE__ */ new Date()).toString())}.${t}` : s === Mt.VIDEO ? `video_${na((/* @__PURE__ */ new Date()).toString())}.${t}` : s === Mt.FILE ? `file_${na((/* @__PURE__ */ new Date()).toString())}.${t}` : "", Tw = (s) => {
  const t = { "video/webm": "webm", "video/mp4": "mp4", "video/x-matroska": "mkv", "image/png": "png", "image/jpeg": "jpg", "image/gif": "gif", "image/webp": "webp" };
  for (const e in t) if (s.includes(e)) return t[e];
  return "";
}, Ug = (s) => {
  const [t, e] = s.split(","), A = t.match(/:(.*?);/);
  if (!A) throw new Error("Invalid data URL format");
  const r = A[1], n = atob(e), i = new Uint8Array(n.length);
  for (let o = 0; o < n.length; o++) i[o] = n.charCodeAt(o);
  return new Blob([i], { type: r });
};
function za(s, t) {
  t || (t = Tw(s.type));
  const e = Bu(Mt.IMAGE, t);
  return yu(s, Mt.IMAGE, e);
}
function _w(s, t) {
  t || (t = Tw(s.type));
  const e = Bu(Mt.VIDEO, t);
  return yu(s, Mt.VIDEO, e);
}
function yu(s, t, e) {
  const A = { type: t, name: e, data: s, dataUrl: URL.createObjectURL(s), preview: s, previewUrl: URL.createObjectURL(s), timestamp: (/* @__PURE__ */ new Date()).getTime() };
  return N.attachmentsManager.addAttachment(A), A;
}
class ik {
  constructor() {
    b(this, "screenCapture", new Iw());
    b(this, "captureScreenshot", async () => {
      const t = await this.screenCapture.captureScreenshot(document.body);
      t && await za(t);
    });
  }
}
const Ti = "data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='15'%20height='15'%20viewBox='0%200%2035%2035'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-34,%20-89)'%3e%3cpath%20style='fill:%23EB5757'%20d='m%2067.852325,106.23797%20a%2016,16%200%200%201%20-16,16%2016,16%200%200%201%20-16,-16%2016,16%200%200%201%2016,-15.999997%2016,16%200%200%201%2016,15.999997%20z'/%3e%3c/g%3e%3c/svg%3e";
let Be = "shake_sdk";
const yr = "activity_history", sr = "users", fA = "chat_messages", rr = "chat_participants", rs = "tickets", Cr = "files", xl = "report", Fe = (s) => {
  const t = s.target.result;
  s.oldVersion < 1 && t.createObjectStore(Cr, { keyPath: "name" }), s.oldVersion < 2 && t.createObjectStore(yr, { keyPath: "id", autoIncrement: !0 }), s.oldVersion < 3 && t.createObjectStore(xl, { autoIncrement: !0 }), s.oldVersion < 4 && (t.createObjectStore(sr, { keyPath: "id", autoIncrement: !0 }), t.createObjectStore(fA, { keyPath: "id", autoIncrement: !0 }), t.createObjectStore(rr, { keyPath: "id", autoIncrement: !0 }), t.createObjectStore(rs, { keyPath: "id", autoIncrement: !0 })), s.oldVersion < 5 && (t.objectStoreNames.contains(yr) && t.deleteObjectStore(yr), t.createObjectStore(yr, { keyPath: "id", autoIncrement: !0 }).createIndex("timestampIndex", "timestamp", { unique: !1 })), s.oldVersion < 6 && (t.objectStoreNames.contains(Cr) && t.deleteObjectStore(Cr), t.createObjectStore(Cr, { keyPath: "name" })), s.oldVersion < 7 && (t.objectStoreNames.contains(Cr) && t.deleteObjectStore(Cr), t.objectStoreNames.contains(xl) && t.deleteObjectStore(xl), t.objectStoreNames.contains(yr) && t.deleteObjectStore(yr));
}, Qe = (s) => () => {
  s("Error opening database");
}, Us = new Nr();
function Ig() {
  return new Promise((s, t) => {
    const e = [], A = indexedDB.open(Be, 7);
    A.onsuccess = function(r) {
      const n = r.target.result.transaction([rs], "readonly").objectStore(rs).openCursor();
      n.onsuccess = function(i) {
        const o = i.target.result;
        o ? (e.push({ id: o.value.id, screenshot: o.value.screenshot, created: o.value.created, title: o.value.title, type: o.value.type, lastActivity: o.value.lastActivity, syncedRead: o.value.syncedRead }), o.continue()) : s(e);
      }, n.onerror = function() {
        t("Error retrieving tickets from IndexedDB");
      };
    }, A.onerror = Qe(t), A.onupgradeneeded = Fe;
  });
}
function Qn(s) {
  return new Promise((t, e) => {
    const A = indexedDB.open(Be, 7);
    A.onsuccess = function(r) {
      const n = r.target.result.transaction([rs], "readonly").objectStore(rs).get(s);
      n.onsuccess = function(i) {
        const o = i.target.result;
        t(o);
      }, n.onerror = function() {
        e("Error retrieving ticket from IndexedDB");
      };
    }, A.onerror = Qe(e), A.onupgradeneeded = Fe;
  });
}
const oo = (s) => new Promise((t, e) => {
  const A = indexedDB.open(Be, 7);
  A.onsuccess = function(r) {
    const n = r.target.result.transaction([rs], "readwrite"), i = n.objectStore(rs);
    s.forEach((o) => i.put(o)), n.oncomplete = () => {
      Us.notifyChange(!0), t("Tickets written successfully to IndexedDB");
    }, n.onerror = () => {
      e("Error writing tickets to IndexedDB");
    };
  }, A.onerror = Qe(e), A.onupgradeneeded = Fe;
}), De = (s) => {
  const t = document.createElement("img");
  return t.draggable = !1, t.classList.add("shake-sdk-image"), s && (t.src = s), t;
}, Is = (s) => {
  const t = document.createElement("p");
  return t.classList.add("shake-sdk-text-p1"), t.innerText = s, t;
}, es = (s) => {
  const t = document.createElement("p");
  return t.classList.add("shake-sdk-text-p3"), t.innerText = s, t;
}, Hc = (s) => {
  const t = document.createElement("p");
  return t.classList.add("shake-sdk-text-h2"), t.innerText = s, t;
}, Tg = (s) => {
  const t = document.createElement("p");
  return t.classList.add("shake-sdk-text-button"), t.innerText = s, t;
}, Ow = (s) => {
  const t = document.createElement("p");
  return t.classList.add("shake-sdk-text-accent-button"), t.innerText = s, t;
}, et = async (s) => new CSSStyleSheet().replace(s), os = (s) => {
  (async () => await Promise.all([et(".shake-sdk-bubble{padding:0;border-radius:100px;border-width:0;cursor:pointer;display:flex;align-items:center;justify-content:center;position:fixed;background:#fff;width:50px;height:50px;z-index:2147483647;transition:none}"), et(".shake-sdk-button-accent{background:var(--shake-sdk-button-accent-color);border:var(--shake-sdk-button-accent-border);border-radius:var(--shake-sdk-button-accent-border-radius);padding:9px 20px 11px;display:flex;justify-content:center;align-items:center;cursor:pointer}.shake-sdk-button-accent:disabled{cursor:not-allowed;opacity:.3}.shake-sdk-button{background:var(--shake-sdk-button-color);border:var(--shake-sdk-button-border);border-radius:var(--shake-sdk-button-border-radius);padding:9px 20px 11px;display:flex;justify-content:center;align-items:center;cursor:pointer}.shake-sdk-button:disabled{cursor:not-allowed;opacity:.3}"), et(".shake-sdk-card{flex:1;background:var(--shake-sdk-background-color-primary);border-radius:var(--shake-sdk-border-radius-medium)}"), et(".shake-sdk-circle-button{padding:0;border-radius:100px;border-width:0;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:5}.shake-sdk-circle-button *{width:32px;height:32px}.shake-sdk-circle-button *:hover{opacity:.5}"), et(".shake-sdk-bottom-navigation{display:flex;flex-direction:row;align-items:center;justify-content:center;border-top:1px solid var(--shake-sdk-bottom-navigation-separator-color);padding-top:8px}.shake-sdk-bottom-navigation-hidden{display:none}.shake-sdk-bottom-navigation-button{position:relative;display:flex;flex-direction:column;background:transparent;border:none;cursor:pointer;align-items:center;justify-content:center;height:72px;width:72px;margin-right:24px;margin-left:24px;margin-bottom:2px}.shake-sdk-bottom-navigation-button:hover{opacity:.7}.shake-sdk-bottom-navigation-button-text{font-size:11px;font-weight:500;line-height:16px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-bottom-navigation-notification-icon{position:absolute;left:22px;top:13px;width:13px;height:13px;visibility:hidden}.shake-sdk-bottom-navigation-button svg path,.shake-sdk-bottom-navigation-button p{stroke:var(--shake-sdk-bottom-navigation-unselected-color);color:var(--shake-sdk-bottom-navigation-unselected-color)}.selected svg path,.selected p{stroke:var(--shake-sdk-bottom-navigation-selected-color);color:var(--shake-sdk-bottom-navigation-selected-color)}@media only screen and (max-width: 1024px){.shake-sdk-bottom-navigation{display:none}}"), et(""), et(".shake-sdk-divider-vertical{height:100%;width:1px;background:var(--shake-sdk-outline-color-secondary);margin:6px 10px}.shake-sdk-divider-horizontal{width:100%;height:1px;background:var(--shake-sdk-outline-color-secondary);margin:6px 10px}"), et(""), et(".shake-sdk-link{display:flex;flex-direction:row;cursor:pointer}.shake-sdk-link:hover{opacity:.7}.shake-sdk-link-text{font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-rainbow);-webkit-font-smoothing:antialiased;margin:0}"), et(".shake-sdk-list,.shake-sdk-list-items{display:flex;flex-direction:column;flex:1;overflow-y:scroll}.shake-sdk-list-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;opacity:.5}.shake-sdk-list-empty svg path{stroke:var(--shake-sdk-text-color-primary-subtitle)}.shake-sdk-list-empty-text{font-size:14px;font-weight:500;line-height:18px;text-align:center;color:var(--shake-sdk-text-color-primary-subtitle)}"), et(".shake-sdk-context-menu{position:fixed;display:none;width:260px;z-index:2147483647;background:var(--shake-sdk-context-menu-backgroud);border-radius:var(--shake-sdk-context-menu-border-radius);border:var(--shake-sdk-context-menu-border);padding:8px 0;overflow:hidden}"), et(".shake-sdk-context-menu-header{background:transparent;border:0;display:flex;width:100%;padding:8px 20px;cursor:pointer}.shake-sdk-context-menu-header-text{color:var(--shake-sdk-text-color-primary-subtitle);font-size:12px}"), et(".shake-sdk-context-menu-item{background:transparent;border:0;display:flex;width:100%;padding:8px 20px;cursor:pointer}.shake-sdk-context-menu-item:hover{background:var(--shake-sdk-context-menu-hover-color)}.shake-sdk-context-menu-item svg path{stroke:var(--shake-sdk-context-menu-icon-color)}.shake-sdk-context-menu-item p{padding-left:10px;color:var(--shake-sdk-context-menu-text-color)}"), et(".shake-sdk-select-dropdown{border:var(--shake-sdk-picker-border);border-radius:var(--shake-sdk-picker-border-radius);background:var(--shake-sdk-picker-background-color);padding:9px 18px 12px 12px;display:flex;flex-direction:column;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none;margin-bottom:12px}.shake-sdk-select-dropdown.active{border:var(--shake-sdk-picker-border-selected)}.shake-sdk-dropdown-icon{position:absolute;right:16px;top:16px;cursor:pointer;pointer-events:none!important}.shake-sdk-select-dropdown-label{font-family:var(--shake-sdk-font-family);font-size:12px;font-weight:500;line-height:16px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-picker-title-color);cursor:pointer;pointer-events:none!important}.shake-sdk-select-dropdown-chosen{font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;color:var(--shake-sdk-picker-text-color);-webkit-font-smoothing:antialiased;margin:0 20px 0 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.shake-sdk-select-options{border:var(--shake-sdk-picker-border);border-radius:var(--shake-sdk-picker-border-radius);background:var(--shake-sdk-picker-background-color);padding:8px 0;list-style-type:none;display:none;position:absolute;width:328px;z-index:1;margin:0;transform:translate(3px) translateY(-8px);max-height:400px;overflow-y:auto}.shake-sdk-picker-option{display:flex;flex-direction:row;list-style-type:none;cursor:pointer;justify-content:space-between;padding:10px 20px 12px 12px}.shake-sdk-picker-option:hover{background:var(--shake-sdk-picker-hover-color)}.shake-sdk-picker-option-text{color:var(--shake-sdk-picker-text-color);font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.shake-sdk-picker-button{flex-direction:row;display:flex;list-style-type:none;cursor:pointer;justify-content:space-between;padding:10px 20px 12px 12px}.shake-sdk-picker-button:hover{background:var(--shake-sdk-picker-hover-color)}.shake-sdk-picker-button-text{color:var(--shake-sdk-picker-text-color);font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.shake-sdk-picker-group-title{font-family:var(--shake-sdk-font-family);font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-text-color-primary-subtitle);padding:8px 12px}.shake-sdk-picker-group-separator{height:1px;width:100%;background-color:var(--shake-sdk-outline-color-primary)}"), et(".shake-sdk-palette{width:100%;display:flex;flex-direction:row;justify-content:space-between;padding:0 12px}.shake-sdk-palette-close{outline:none;border:none;background:transparent;height:20px;width:20px;padding:0;cursor:pointer;display:flex;justify-content:center;align-items:center}.shake-sdk-palette-close:hover{opacity:.7}"), et(".shake-sdk-color-button{outline:none;border:none;background:transparent;border-radius:50%;height:20px;width:20px;padding:0;cursor:pointer}.shake-sdk-color-button:hover{opacity:.7}"), et(".shake-sdk-sheet-background{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2147483647;display:flex;flex-direction:column-reverse;background:#000000b3;box-sizing:border-box}.shake-sdk-sheet{padding:40px;display:flex;flex-direction:column;background:var(--shake-sdk-sheet-backgroud);border-radius:var(--shake-sdk-sheet-border-radius);border:var(--shake-sdk-sheet-border)}.shake-sdk-sheet>p{text-align:center;margin-bottom:25px;color:var(--shake-sdk-sheet-text-color)}.shake-sdk-sheet-list{max-height:400px;overflow-y:auto}.shake-sdk-sheet-group-title{font-family:var(--shake-sdk-font-family);font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-text-color-primary-subtitle);padding:8px 12px}.shake-sdk-sheet-group-separator{height:1px;width:100%;background-color:var(--shake-sdk-outline-color-primary)}.shake-sdk-sheet-item{cursor:pointer;display:flex;flex-direction:row;background:transparent;border:0;padding:12px;margin:0;width:100%}.shake-sdk-sheet-item:hover{background:var(--shake-sdk-sheet-hover-color)}.shake-sdk-sheet-item img{text-align:center;margin-right:12px;width:27px;height:27px}.shake-sdk-sheet-item-text{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"), et(".shake-sdk-text-p1{font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;color:var(--shake-sdk-text-color-primary-title);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-p2{font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-text-color-primary-subtitle);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-p3{color:var(--shake-sdk-text-color-primary-subtitle);font-size:12px;font-weight:500;line-height:16px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-h2{font-size:24px;font-weight:700;line-height:32px;letter-spacing:0;color:var(--shake-sdk-text-color-primary-title);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-button{font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-button-text-color);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-accent-button{font-size:14px;font-weight:700;line-height:20px;letter-spacing:0;color:var(--shake-sdk-button-accent-text-color);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-text-tooltip{font-size:14px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-tooltip-text-color);-webkit-font-smoothing:antialiased;margin:0}"), et(".shake-sdk-textarea-container{width:100%;flex-direction:column;position:relative;z-index:0;margin-bottom:12px}.shake-sdk-textarea{font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-text-color-primary-title);border:var(--shake-sdk-textarea-border);border-radius:var(--shake-sdk-textarea-border-radius);background:var(--shake-sdk-textarea-background-color);width:100%;padding:28px 12px 12px;resize:none;overflow:hidden;cursor:text;box-sizing:border-box}.shake-sdk-textarea:focus-visible{outline:none;border:var(--shake-sdk-textarea-border-selected)}.shake-sdk-textarea::placeholder{color:var(--shake-sdk-text-color-primary-subtitle)}.shake-sdk-textarea-error{border:1px solid var(--shake-sdk-red)!important}.shake-sdk-textarea-label{font-family:var(--shake-sdk-font-family);font-size:12px;font-weight:500;line-height:16px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-textarea-title-color);position:absolute;top:16px;left:2px;pointer-events:none;transform-origin:top left;transform:translateY(-50%) translate(10px)}.shake-sdk-textarea-error-text{font-family:var(--shake-sdk-font-family);font-size:12px;font-weight:500;line-height:16px;letter-spacing:0;-webkit-font-smoothing:antialiased;margin:0;color:var(--shake-sdk-red);padding-left:10px;pointer-events:none;display:none}.shake-sdk-textarea-required-icon{position:absolute;top:10px;right:10px;width:10px;height:10px;padding:5px;cursor:help}"), et(".toast-notification{width:320px;max-height:min-content;margin-bottom:20px;opacity:1;margin-left:0;top:20px;right:20px;position:fixed;z-index:2147483647;display:flex;flex-direction:row;border:var(--shake-sdk-toast-border);border-radius:var(--shake-sdk-toast-border-radius);background:var(--shake-sdk-toast-background-color);cursor:default;padding:20px;box-sizing:border-box}.message-container{position:relative;width:88%;opacity:.7;font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;color:var(--shake-sdk-toast-message-color);-webkit-font-smoothing:antialiased;margin:5px 0 0}.title-container{width:88%;font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-toast-title-color);-webkit-font-smoothing:antialiased;margin:0}.content-container{width:88%;display:flex;flex-direction:column;font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:18px;letter-spacing:0;color:var(--shake-sdk-toast-message-color);-webkit-font-smoothing:antialiased;margin:0}.shake-sdk-toast-close-button{width:12%;height:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;position:absolute;top:10px;right:10px}.shake-sdk-toast-close-icon *{stroke:var(--shake-sdk-toast-close-color);opacity:.5}.shake-sdk-toast-loader{margin-right:15px}"), et(".shake-sdk-toolbar{width:100%;height:32px;background:transparent;display:flex;flex-direction:row;justify-content:space-between;padding-bottom:10px}.shake-sdk-toolbar-only-close{width:100%;height:32px;background:transparent;display:flex;flex-direction:row;justify-content:end}.shake-sdk-toolbar-back-container{position:relative}.shake-sdk-toolbar-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;vertical-align:middle;line-height:2;color:var(--shake-sdk-toolbar-text-color)}.shake-sdk-toolbar-notification-icon{position:absolute;left:13px;top:2px;visibility:hidden}.shake-sdk-toolbar-button{display:flex;align-items:center;justify-content:center;cursor:pointer;width:32px;height:32px;border:none;padding:0;margin:0;background:transparent}.shake-sdk-toolbar-button:hover{opacity:.7}.shake-sdk-toolbar-button *{object-fit:contain;width:32px;height:32px;stroke:var(--shake-sdk-toolbar-icon-color)}@media only screen and (min-width: 1025px){.shake-sdk-toolbar-hideable{display:none}.shake-sdk-toolbar-close-button{visibility:hidden}}"), et(".lds-ring,.lds-ring div{box-sizing:border-box}.lds-ring{color:var(--shake-sdk-icon-color-secondary);position:relative;width:38px;height:38px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:24px;height:24px;margin:8px;border:2px solid currentColor;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:currentColor transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"), et(".shake-sdk-tooltip{position:fixed;display:none;z-index:5;padding:6px 12px 8px;border-radius:var(--shake-sdk-tooltip-border-radius);border:var(--shake-sdk-tooltip-border);background:var(--shake-sdk-tooltip-background);opacity:.9}.shake-sdk-tooltip-text{color:var(--shake-sdk-tooltip-text-color)}"), et(".shake-sdk-video{width:100%}"), et(".shake-sdk-floating-button{position:fixed;top:50%;right:-32px;height:28px;min-width:138px;z-index:2147483647;transform:rotate(-90deg);cursor:pointer}.shake-sdk-floating-button:hover{opacity:.7}.shake-sdk-floating-button-inner-div{display:flex;flex-direction:row;background:var(--shake-sdk-floating-button-background-color);border-radius:var(--shake-sdk-floating-button-border-radius);padding:var(--shake-sdk-floating-button-content-padding-vertical) var(--shake-sdk-floating-button-content-padding-horizontal)}.shake-sdk-floating-button-outter-div{background:var(--shake-sdk-floating-button-border-color);border-radius:var(--shake-sdk-floating-button-border-radius);padding:var(--shake-sdk-floating-button-border-size);box-shadow:var(--shake-sdk-floating-button-shadow)}.shake-sdk-floating-button-text{color:var(--shake-sdk-floating-button-text-color);font-size:var(--shake-sdk-floating-button-font-size);font-family:var(--shake-sdk-floating-button-font-family);font-weight:var(--shake-sdk-floating-button-font-weight);letter-spacing:var(--shake-sdk-floating-button-letter-spacing)}.shake-sdk-floating-button-icon-left{content:var(--shake-sdk-floating-button-icon-left);margin-right:6px;width:24px;height:24px;display:var(--shake-sdk-floating-button-icon-left-visibility)}.shake-sdk-floating-button-icon-right{content:var(--shake-sdk-floating-button-icon-right);margin-left:6px;width:24px;height:24px;display:var(--shake-sdk-floating-button-icon-right-visibility)}.shake-sdk-floating-button-notification{position:absolute;left:-2px;top:-2px;visibility:hidden}"), et("#shake-sdk-overlay{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;z-index:2147483647;overflow:hidden;pointer-events:none;padding:40px;flex:1;min-width:0;justify-content:end;box-sizing:border-box}.shake-sdk-show-overlay-color{animation:shakeSdkShowOverlay .2s forwards}#shake-sdk-content{display:flex;flex-direction:row;width:100%;height:100%}.shake-sdk-content-left{flex:1;display:flex;margin-right:20px;position:relative;min-width:0}.shake-sdk-content-right{display:flex;flex:0 0 376px;min-width:0}.shake-sdk-content-right *,.shake-sdk-content-left *{pointer-events:auto}@media only screen and (max-width: 1024px){#shake-sdk-overlay{padding:0}.shake-sdk-content-left{display:none}.shake-sdk-content-right{flex:1}}#shake-sdk-content p,h1,h2,h3,ul,li,label,div,#shake-sdk-sheet p{font-family:var(--shake-sdk-font-family)}#shake-sdk-content *{scrollbar-width:thin;scrollbar-color:var(--shake-sdk-attachments-card-scroll-bar) transparent}#shake-sdk-content *::-webkit-scrollbar{width:6px}#shake-sdk-content *::-webkit-scrollbar-track{background:none}#shake-sdk-content *::-webkit-scrollbar-thumb{background:var(--shake-sdk-attachments-card-scroll-bar);border-radius:var(--shake-sdk-border-radius-small)}#shake-sdk-content ::-webkit-scrollbar-corner{background:transparent}@keyframes shakeFadeIn{0%{opacity:0}to{opacity:1}}@keyframes shakeSdkShowOverlay{0%{background:transparent;pointer-events:none}to{background:var(--shake-sdk-overlay);pointer-events:auto}}"), et(".shake-sdk-main-card{padding:32px 20px 10px;display:flex;flex-direction:column;flex:1;min-width:0;position:relative;box-sizing:border-box;background:var(--shake-sdk-main-card-background);border:var(--shake-sdk-main-card-border);border-radius:var(--shake-sdk-main-card-border-radius);box-shadow:var(--shake-sdk-main-card-box-shadow)}.shake-sdk-main-card-content{display:flex;flex-direction:column;flex:1;overflow:hidden;min-width:0}.shake-sdk-close-button{position:absolute;top:-10px;right:-10px;width:40px;height:40px;background:var(--shake-sdk-close-button-background-color);box-shadow:var(--shake-sdk-close-button-box-shadow)}.shake-sdk-close-button *{stroke:var(--shake-sdk-close-button-icon-color)}.shake-sdk-main-card-links{display:flex;flex-direction:row;justify-content:end;align-items:center;border-top:1px solid var(--shake-sdk-bottom-navigation-separator-color);padding-top:20px;padding-bottom:10px}@media only screen and (max-width: 1024px){.shake-sdk-close-button{display:none}.shake-sdk-main-card{border-radius:0}}.shake-sdk-main-card *{scrollbar-color:var(--shake-sdk-main-card-scroll-bar) transparent!important}.shake-sdk-main-card *::-webkit-scrollbar-thumb{background:var(--shake-sdk-main-card-scroll-bar)!important}"), et(".shake-sdk-new-ticket{display:flex;flex-direction:column;flex:1;animation:shakeFadeIn .2s ease-in-out;height:100%}.shake-sdk-new-ticket-form{display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden}.shake-sdk-new-ticket-title{padding-bottom:32px;color:var(--shake-sdk-heading-text-color)}.shake-sdk-styled-textarea{padding-top:12px;margin-bottom:12px}.shake-sdk-submit-button{background:var(--shake-sdk-submit-button-color);border:var(--shake-sdk-submit-button-border);border-radius:var(--shake-sdk-submit-button-border-radius)}.shake-sdk-submit-button p{color:var(--shake-sdk-submit-button-text-color)}"), et(".shake-sdk-home-screen{display:flex;flex-direction:column;flex:1;animation:shakeFadeIn .2s ease-in-out;height:100%}.shake-sdk-home-screen-title{padding-bottom:32px;color:var(--shake-sdk-heading-text-color)}.shake-sdk-home-screen-subtitle{padding-bottom:32px;color:var(--shake-sdk-subtitle-text-color)}"), et(".shake-sdk-ticket-item{display:flex;flex-direction:row;height:50px;cursor:pointer;margin-bottom:10px}.shake-sdk-ticket-item:hover{opacity:.7}.shake-sdk-ticket-item-thumbnail{display:flex;flex-direction:column;width:40px;border-radius:var(--shake-sdk-ticket-item-image-border-radius);border:var(--shake-sdk-ticket-item-image-border);margin-right:10px}.shake-sdk-ticket-item-text-container{display:flex;flex-direction:column;flex:1;margin-right:10px;min-width:0}.shake-sdk-ticket-item-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-lines:1;min-width:0;color:var(--shake-sdk-ticket-item-title-color)}.shake-sdk-ticket-item-subtitle{color:var(--shake-sdk-ticket-item-subtitle-color)}.shake-sdk-ticket-item-time-container{display:flex;flex-direction:column;width:30px}.shake-sdk-ticket-item-time-container p{text-align:end;color:var(--shake-sdk-ticket-item-time-color)}.shake-sdk-ticket-item-time-container img{width:12px;height:12px;align-self:end;margin-top:3px}"), et(".shake-sdk-chat-screen{display:flex;flex-direction:column;flex:1;animation:shakeFadeIn .2s ease-in-out;height:100%;padding-bottom:22px;box-sizing:border-box}.shake-sdk-chat-screen-message-list{flex-direction:column-reverse;margin-bottom:20px}"), et(".shake-sdk-chat-message-sender{display:flex;flex-direction:column;margin-bottom:3px;align-items:end}.shake-sdk-chat-message-sender-error-state{cursor:pointer!important}.shake-sdk-chat-message-sender-error-state:hover{opacity:.7}.shake-sdk-chat-message-sender-bubble-container{display:flex;flex-direction:row}.shake-sdk-chat-message-sender-bubble-container img{width:20px;height:20px;align-self:center;margin-right:3px}.shake-sdk-chat-message-sender-bubble{border-radius:var(--shake-sdk-chat-bubble-sender-border-radius) 0 0 var(--shake-sdk-chat-bubble-sender-border-radius);background:var(--shake-sdk-chat-bubble-sender-background);padding:10px;width:fit-content;max-width:200px}.shake-sdk-chat-message-sender-bubble-rounded{border-radius:var(--shake-sdk-chat-bubble-sender-border-radius) var(--shake-sdk-chat-bubble-sender-border-radius) 0 var(--shake-sdk-chat-bubble-sender-border-radius)}.shake-sdk-chat-message-sender-bubble-text{color:var(--shake-sdk-chat-bubble-sender-text-color);word-wrap:break-word}.shake-sdk-chat-message-sender-info{margin-top:3px}.shake-sdk-chat-message-sender-error-text{color:var(--shake-sdk-red)}.shake-sdk-chat-message-sender-info-text{color:var(--shake-sdk-chat-bubble-info-text-color)}"), et(".shake-sdk-chat-message-recipient{display:flex;flex-direction:column;margin-bottom:3px}.shake-sdk-chat-message-recipient-bubble{border-radius:0 var(--shake-sdk-chat-bubble-recipient-border-radius) var(--shake-sdk-chat-bubble-recipient-border-radius) 0;background:var(--shake-sdk-chat-bubble-recipient-background);padding:10px;width:fit-content;max-width:200px}.shake-sdk-chat-message-recipient-bubble-rounded{border-radius:var(--shake-sdk-chat-bubble-recipient-border-radius) var(--shake-sdk-chat-bubble-recipient-border-radius) var(--shake-sdk-chat-bubble-recipient-border-radius) 0}.shake-sdk-chat-message-recipient-bubble-text{color:var(--shake-sdk-chat-bubble-recipient-text-color);word-wrap:break-word}.shake-sdk-chat-message-recipient-bubble p{word-wrap:break-word}.shake-sdk-chat-message-recipient-info{margin-top:3px}"), et(".shake-sdk-chat-message-input{display:flex;flex-direction:row}.shake-sdk-chat-message-input-text{flex:1;font-family:var(--shake-sdk-font-family);font-size:16px;font-weight:500;line-height:20px;letter-spacing:0;border:var(--shake-sdk-chat-message-input-border);border-radius:var(--shake-sdk-chat-message-input-border-radius);background:var(--shake-sdk-chat-message-input-background);color:var(--shake-sdk-chat-message-input-text-color);padding:10px 15px;margin-right:20px;cursor:text;outline:none;resize:none;box-sizing:border-box}.shake-sdk-chat-message-input-text::placeholder{color:var(--shake-sdk-chat-message-input-hint-color);opacity:1}.shake-sdk-chat-message-send-container{display:flex;flex-direction:column;justify-content:end}.shake-sdk-chat-message-input-send{border-radius:100px;outline:none;border:none;background:var(--shake-sdk-chat-message-send-button-color);width:40px;height:40px;cursor:pointer;padding:0}.shake-sdk-chat-message-input-send-icon{width:25px;height:25px;object-fit:fill;transform:rotate(-90deg)}.shake-sdk-chat-message-input-send-icon *{stroke:var(--shake-sdk-chat-message-send-icon-color)}.shake-sdk-chat-message-input-send:disabled{cursor:not-allowed;opacity:.7}"), et(".shake-sdk-attachments-items-small{display:flex;flex-direction:row;min-height:210px;width:100%;overflow-x:auto;overflow-y:hidden}@media only screen and (min-width: 1025px){.shake-sdk-attachments-items-small{display:none}}"), et(".shake-sdk-attachment-item-small{display:flex;min-width:100px;max-width:100px;height:200px;margin-right:10px;cursor:pointer;overflow:hidden;position:relative}.shake-sdk-attachment-item-remove-small{position:absolute;top:15px;right:15px;width:30px;height:30px;background:var(--shake-sdk-background-color-primary);opacity:.7}.shake-sdk-attachment-item-remove-small *{stroke:var(--shake-sdk-icon-color-primary)}.shake-sdk-attachment-item-thumbnail-small{background:#000;height:100%;width:100%;object-fit:cover;border-radius:var(--shake-sdk-border-radius-small)}.shake-sdk-file-thumbnail-small{box-sizing:border-box;padding:10px;border:2px solid var(--shake-sdk-outline-color-primary);background:var(--shake-sdk-background-color-primary);overflow:hidden;word-wrap:break-word;justify-content:end;flex-direction:column;display:flex}"), et(".shake-sdk-attachments-add-item-small{display:flex;min-width:100px;max-width:100px;height:200px;margin-right:10px;align-items:center;justify-content:center;overflow:hidden;position:relative}.shake-sdk-attachment-add-button-small{width:29px;height:29px;cursor:pointer;background:var(--shake-sdk-highlight-color-primary)}.shake-sdk-attachment-add-button-small *{stroke:var(--shake-sdk-icon-color-primary)}"), et("#shake-sdk-attachments-card{display:flex;flex-direction:row;background:var(--shake-sdk-attachments-card-background);box-shadow:var(--shake-sdk-attachments-card-box-shadow);border:var(--shake-sdk-attachments-card-border);border-radius:var(--shake-sdk-attachments-card-border-radius);padding:20px;translate:25px;opacity:0;visibility:hidden;animation-fill-mode:forwards;min-width:0}.shake-sdk-attachments-card-visible{animation:showAttachments .1s ease-in forwards}.shake-sdk-attachments-card-hidden{animation:hideAttachments .1s ease-in forwards}.shake-sdk-attachments-page{display:flex;flex-direction:row;width:100%}.shake-sdk-attachments-list-wrap{display:flex;margin-right:12px;flex-shrink:0}.shake-sdk-attachments-preview-wrap{display:flex;flex:1;min-width:0}@keyframes showAttachments{0%{opacity:0;transform:translate(0);visibility:visible}to{opacity:1;transform:translate(-25px);visibility:visible}}@keyframes hideAttachments{0%{opacity:1;transform:translate(-25px);visibility:visible}to{opacity:0;transform:translate(0);visibility:hidden}}@media only screen and (max-width: 1024px){.shake-sdk-attachments-card{display:none}}"), et(".shake-sdk-attachments-items{display:flex;flex-direction:column;overflow:auto;overflow-x:hidden}"), et(".shake-sdk-attachments-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1}.shake-sdk-attachments-empty-dragdrop{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--shake-sdk-border-radius-small);padding:10px 20px;cursor:pointer}.shake-sdk-attachments-empty-dragdrop:hover,.hover{background:var(--shake-sdk-outline-color-secondary);border-radius:var(--shake-sdk-border-radius-small)}.shake-sdk-attachments-empty-buttons{display:flex;flex-direction:row;margin-top:50px}.shake-sdk-attachments-empty-buttons button{height:36px;margin-right:20px}.shake-sdk-attachments-empty-buttons button:hover{opacity:.7}.shake-sdk-attachments-empty-buttons button p{margin-left:10px}.shake-sdk-attachments-empty-buttons button svg path{stroke:var(--shake-sdk-button-text-color)}.shake-sdk-attachments-empty-buttons>div{display:flex;flex-direction:row;margin-top:20px}.shake-sdk-attachments-empty-buttons>p{max-width:300px;text-align:center;font-size:18px}"), et(".shake-sdk-attachment-item{width:140px;display:flex;flex-direction:column;margin-bottom:20px;cursor:pointer}.shake-sdk-attachment-item-card{position:relative;padding:8px;background:transparent;overflow:hidden}.shake-sdk-attachment-item-selected .shake-sdk-attachment-item-card{background:var(--shake-sdk-highlight-color-secondary)}.shake-sdk-attachment-remove{position:absolute;top:15px;right:15px;width:30px;height:30px;background:var(--shake-sdk-highlight-color-secondary);opacity:.7}.shake-sdk-attachment-remove *{stroke:var(--shake-sdk-icon-color-secondary)}.shake-sdk-attachment-item-thumbnail{background:transparent;width:100%;height:61px;object-fit:cover;border-radius:var(--shake-sdk-border-radius-small)}.shake-sdk-attachment-item-title{display:flex;justify-content:center}.shake-sdk-attachment-title-box{display:flex;width:78px;height:20px;margin:2px;text-align:center;align-items:center;justify-content:center;border-radius:4px;background:transparent}.shake-sdk-attachment-item-selected .shake-sdk-attachment-title-box{background:var(--shake-sdk-button-accent-color);opacity:.8}.shake-sdk-attachment-title-box p{color:var(--shake-sdk-button-accent-text-color)}.shake-sdk-file-thumbnail{box-sizing:border-box;padding:10px;border:2px solid var(--shake-sdk-outline-color-secondary);background:var(--shake-sdk-highlight-color-secondary);overflow:hidden;word-wrap:break-word;justify-content:center;align-items:center;flex-direction:column;display:flex}"), et(".shake-sdk-loader-screen{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;animation:shakeFadeIn .2s ease-in-out;background:var(--shake-sdk-overlay);z-index:2147483647;overflow:hidden}.shake-sdk-loader-screen .lds-ring{color:var(--shake-sdk-icon-color-secondary)}"), et(".shake-sdk-attachments-add-item{width:140px;display:flex;align-items:center;justify-content:center}.shake-sdk-attachment-add-button{width:29px;height:29px;background:var(--shake-sdk-highlight-color-secondary)}.shake-sdk-attachment-add-button *{stroke:var(--shake-sdk-icon-color-secondary)}"), et(".shake-sdk-attachments-preview{margin-top:36px;display:flex;flex-direction:column;overflow:hidden;width:100%}"), et(".shake-sdk-image-preview{display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;width:100%;min-height:0;max-height:100%;flex:1}.shake-sdk-image-preview-image-container{display:flex;flex:1;align-items:center;flex-direction:column;position:relative;min-height:0;max-height:100%}.shake-sdk-image-preview-image-loader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);visibility:hidden}.shake-sdk-image-preview-image{max-width:100%;max-height:100%;min-height:0;height:auto;width:auto;border-radius:var(--shake-sdk-border-radius-small)}.shake-sdk-image-preview-toolbox-container{flex:0 0 50px;display:flex;flex-direction:column;align-items:center;padding-top:50px;padding-bottom:50px}.shake-sdk-drawing-toolbox{height:48px;width:360px;display:flex;align-items:center;justify-content:center;padding:0 10px;border:var(--shake-sdk-drawing-border);border-radius:var(--shake-sdk-drawing-border-radius);background:var(--shake-sdk-drawing-background-color)}.shake-sdk-drawing-toolbox-buttons{width:100%;display:flex;flex-direction:row;align-items:center;height:100%;padding:6px 0;box-sizing:border-box}.shake-sdk-drawing-toolbox-colors{width:100%;display:none;flex-direction:row;align-items:center;height:100%;padding:10px 0;box-sizing:border-box;animation:shakeFadeIn .2s ease-in-out}.shake-sdk-drawing-toolbox-divider{background:var(--shake-sdk-drawing-separator-color)}@media only screen and (max-width: 1024px){.shake-sdk-drawing-toolbox{width:300px}.shake-sdk-drawing-toolbox-divider{display:none}}"), et(".shake-sdk-video-preview{height:100%}.shake-sdk-video-preview video{border-radius:var(--shake-sdk-border-radius-small);display:block;max-width:100%;max-height:100%;height:auto;width:auto}"), et(".shake-sdk-image-preview-root-fs{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;background:var(--shake-sdk-attachments-card-background);z-index:2147483647}.shake-sdk-image-preview-toolbar-fs{width:100%;flex:0 0 32px;background:transparent;display:flex;flex-direction:row;justify-content:right}.shake-sdk-image-preview-toolbar-fs svg path{stroke:var(--shake-sdk-icon-color-secondary)}.shake-sdk-image-preview-content-fs{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;margin:32px;min-height:0}"), et(".shake-sdk-video-preview-root-fs{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;background:var(--shake-sdk-attachments-card-background);z-index:2147483647}.shake-sdk-video-preview-toolbar-fs{width:100%;height:32px;background:transparent;display:flex;flex-direction:row;justify-content:right}.shake-sdk-video-preview-toolbar-fs svg path{stroke:var(--shake-sdk-icon-color-secondary)}.shake-sdk-video-preview-fs{width:100%;height:100%}"), et(`.shake-sdk-canvas{position:absolute;left:50%!important;transform:translate(-50%);z-index:99999;border-radius:10px!important}.shake-sdk-canvas-cursor-red{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%23ff0000;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-blue{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%230000FF;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-green{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%2300c274;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-grey{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%23808080;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-purple{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%236552ff;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-yellow{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%23ffcc00;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}.shake-sdk-canvas-cursor-white{cursor:url("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20version='1.1'%20id='svg164'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cg%20id='Pen,%20Square%202'%20clip-path='url(%23clip0_15240_1054)'%3e%3cg%20id='Group'%3e%3cg%20id='Vector'%20filter='url(%23filter0_d_15240_1054)'%3e%3cpath%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='%23ffffff'%20id='path132'%20/%3e%3cpath%20d='m%2010.9463,31.3096%20c%200,0.8285%200.6716,1.5%201.5,1.5%20h%203.6942%20c%200.8833,0%201.7304,-0.3503%202.3564,-0.9761%2010e-5,-10e-5%203e-4,-2e-4%204e-4,-4e-4%20l%2012.7028,-12.6936%204e-4,-4e-4%20c%201.8167,-1.8167%201.8208,-4.7654%20-8e-4,-6.5844%20-1.8179,-1.817%20-4.7654,-1.8167%20-6.5829,8e-4%20l%20-4e-4,4e-4%20-12.694,12.7031%20-0.0024,0.0025%20c%20-0.6191,0.6224%20-0.9737,1.467%20-0.9737,2.354%20z'%20stroke='%23ffffff'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20id='path134'%20/%3e%3c/g%3e%3cellipse%20style='fill:%23ffffff;stroke-width:5.50756'%20id='path1145'%20cx='27.033899'%20cy='17.059322'%20rx='4.1016951'%20ry='4.0084748'%20/%3e%3cpath%20id='Vector_2'%20d='m%2017.4366,30.7725%20c%20-0.3446,0.3446%20-0.8103,0.5371%20-1.2961,0.5371%20h%20-3.6942%20v%20-3.6941%20c%200,-0.4859%200.1943,-0.9515%200.5372,-1.2962%20l%2012.694,-12.7032%20c%201.232,-1.232%203.2303,-1.232%204.4623,0%201.2338,1.232%201.232,3.2304%200,4.4624%20z'%20fill='white'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20style='fill:%23ffffff;fill-opacity:0'%20/%3e%3cpath%20id='Vector_3'%20d='m%2021.6328,17.6733%204.455,4.455'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20id='Vector_4'%20d='m%2029.2484,18.9675%201.6537,1.6537%20c%200.869,0.8708%200.869,2.2807%200,3.1497%20l%20-3.0085,3.0085'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/g%3e%3c/g%3e%3cdefs%20id='defs162'%3e%3cfilter%20id='filter0_d_15240_1054'%20x='7.44629'%20y='9.6921396'%20width='28.6182'%20height='28.617399'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20id='feFlood142'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'%20id='feColorMatrix144'%20/%3e%3cfeOffset%20dy='2'%20id='feOffset146'%20/%3e%3cfeGaussianBlur%20stdDeviation='1'%20id='feGaussianBlur148'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20id='feComposite150'%20/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'%20id='feColorMatrix152'%20/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15240_1054'%20id='feBlend154'%20/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15240_1054'%20result='shape'%20id='feBlend156'%20/%3e%3c/filter%3e%3cclipPath%20id='clip0_15240_1054'%3e%3crect%20width='44'%20height='44'%20fill='%23ffffff'%20id='rect159'%20x='0'%20y='0'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") 10 35,auto!important}`), et(".shake-sdk-attachments-drawing-button{outline:none;border:none;background:transparent;width:42px;height:42px;padding:0;cursor:pointer}.shake-sdk-attachments-drawing-button:hover{opacity:.7}")]))().then((t) => s.adoptedStyleSheets = t);
}, Ss = [], Cu = () => Ss == null ? void 0 : Ss[0], Lw = (s) => {
  Ss.splice(0, Ss.length), Ss.push(s);
}, z = () => {
  const s = document.createElement("div");
  return s.classList.add("shake-sdk-container"), s;
}, bu = () => {
  const s = document.createElement("div");
  s.classList.add("lds-ring");
  for (let t = 0; t < 4; t++) {
    const e = document.createElement("div");
    s.appendChild(e);
  }
  return s;
};
class Za extends HTMLElement {
  connectedCallback() {
    this.setAttribute("data-html2canvas-ignore", "true");
    const t = bu(), e = z();
    e.classList.add("shake-sdk-loader-screen"), e.appendChild(t), this.appendChild(e);
    const A = this.attachShadow({ mode: "open" });
    os(A), A.appendChild(e);
  }
}
b(Za, "name", "loader-screen");
customElements.define(Za.name, Za);
const Mw = () => document.createElement(Za.name), vu = () => {
  const s = document.createElement("div");
  return s.classList.add("shake-sdk-card"), s;
}, Dw = "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_15055_29642)'%3e%3cpath%20d='M12.3994%208.47314C13.6969%209.77065%2013.6969%2011.8743%2012.3994%2013.1719C11.1019%2014.4694%208.99819%2014.4694%207.70068%2013.1719C6.40316%2011.8743%206.40316%209.77065%207.70068%208.47314C8.99819%207.17562%2011.1019%207.17562%2012.3994%208.47314Z'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.49992V14.9999C17.5%2015.9208%2016.7542%2016.6666%2015.8333%2016.6666H4.16667C3.24583%2016.6666%202.5%2015.9208%202.5%2014.9999V7.49992C2.5%206.57908%203.24583%205.83325%204.16667%205.83325H5.83333L7.05167%203.74659C7.20083%203.49075%207.475%203.33325%207.77167%203.33325H12.1917C12.4842%203.33325%2012.755%203.48659%2012.9058%203.73659L14.1667%205.83325H15.8333C16.7542%205.83325%2017.5%206.57908%2017.5%207.49992Z'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15055_29642'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", Rw = "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_15055_29718)'%3e%3cpath%20d='M10.9375%2014.7916H4.375C3.33917%2014.7916%202.5%2013.9524%202.5%2012.9166V7.08325C2.5%206.04742%203.33917%205.20825%204.375%205.20825H10.9375C11.9733%205.20825%2012.8125%206.04742%2012.8125%207.08325V12.9166C12.8125%2013.9524%2011.9733%2014.7916%2010.9375%2014.7916Z'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.8125%2010.9141L15.975%2013.4591C16.5883%2013.9533%2017.5%2013.5166%2017.5%2012.7291V7.27077C17.5%206.48327%2016.5883%206.04661%2015.975%206.54077L12.8125%209.08577'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15055_29718'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", _g = () => {
  const s = document.createElement("button");
  return s.classList.add("shake-sdk-button"), s;
}, MA = (s, t) => {
  const e = new DOMParser().parseFromString(s, "image/svg+xml").documentElement;
  return t && Ie(e, t), e;
}, DA = (s, t) => {
  const e = new XMLHttpRequest();
  e.open("GET", s, !0), e.onreadystatechange = function() {
    e.readyState === 4 && e.status === 200 && t(e.responseText);
  }, e.send();
}, Ie = (s, t) => {
  let e;
  e = s.querySelectorAll("path"), e.forEach(function(A) {
    A.style.stroke = t;
  }), e = s.querySelectorAll("circle"), e.forEach(function(A) {
    A.style.stroke = t;
  }), e = s.querySelectorAll("rect"), e.forEach(function(A) {
    A.style.stroke = t;
  });
}, ku = () => {
  var s;
  (s = document.getElementById("fileInput")) == null || s.click();
}, Hw = (s, t, e, A) => {
  const r = document.createElement("img");
  r.src = s, r.setAttribute("draggable", "false");
  const n = document.createElement("button");
  n.classList.add("shake-sdk-bubble"), n.style.backgroundColor = t, n.style.boxShadow = `0 2px 2px ${e}`, n.appendChild(r);
  const i = document.createElement("div");
  i.setAttribute("data-html2canvas-ignore", "true");
  const o = i.attachShadow({ mode: "open" });
  return os(o), o.appendChild(n), ok(n, A), i;
}, ok = (s, t) => {
  let e = !1, A = 0, r = 0, n = !1;
  s.style.left = window.innerWidth - s.offsetWidth - 100 + "px", s.style.top = window.innerHeight - s.offsetHeight - 100 + "px", s.addEventListener("mousedown", function(i) {
    e = !0, n = !1, A = i.clientX - s.getBoundingClientRect().left, r = i.clientY - s.getBoundingClientRect().top;
  }), document.addEventListener("mousemove", function(i) {
    if (e) {
      const o = i.clientX - A, a = i.clientY - r, c = window.innerWidth - s.offsetWidth, l = window.innerHeight - s.offsetHeight;
      s.style.left = Math.min(Math.max(0, o), c) + "px", s.style.top = Math.min(Math.max(0, a), l) + "px", (Math.abs(i.movementX) > 2 || Math.abs(i.movementY) > 2) && (n = !0);
    }
  }), s.addEventListener("mouseup", function() {
    e && (e = !1, n || t());
  });
};
class _A {
}
b(_A, "onTicketSent", null), b(_A, "onScreenshotBubbleClick", null);
const xu = async (s) => {
  await new Promise((t) => setTimeout(() => t(!0), s));
}, Pw = { apiKey: "public", name: "Just a link i can share ๐", workspaceName: "", id: "create_link", public: !1 }, _i = (s, t) => {
  const e = Hc(s), A = Is(t), r = document.createElement("div");
  r.classList.add("shake-sdk-sheet"), r.appendChild(e), r.appendChild(A);
  const n = document.createElement("div");
  n.classList.add("shake-sdk-sheet-background"), n.appendChild(r), n.onclick = () => i.remove();
  const i = document.createElement("div");
  i.setAttribute("data-html2canvas-ignore", "true");
  const o = i.attachShadow({ mode: "open" });
  return o.appendChild(n), os(o), i;
}, Kw = (s, t, e = !0) => {
  const A = Hc(s), r = document.createElement("div");
  r.classList.add("shake-sdk-sheet-list"), t.forEach((c) => {
    if (c.name) {
      const l = ak(c.name);
      r.appendChild(l);
    }
    c.items.forEach((l) => {
      r.appendChild(ck(l, () => {
        l.onClick(), o.remove();
      }, e));
    });
  });
  const n = document.createElement("div");
  n.classList.add("shake-sdk-sheet"), n.appendChild(A), n.appendChild(r);
  const i = document.createElement("div");
  i.classList.add("shake-sdk-sheet-background"), i.appendChild(n), i.onclick = () => o.remove();
  const o = document.createElement("div");
  o.setAttribute("data-html2canvas-ignore", "true");
  const a = o.attachShadow({ mode: "open" });
  return a.appendChild(i), os(a), o;
}, ak = (s) => {
  const t = document.createElement("div");
  t.classList.add("shake-sdk-sheet-group-separator");
  const e = document.createElement("p");
  e.innerText = s, e.classList.add("shake-sdk-sheet-group-title");
  const A = document.createElement("div");
  return A.appendChild(t), A.appendChild(e), A;
}, ck = (s, t, e) => {
  const A = Is(s.text);
  A.classList.add("shake-sdk-sheet-item-text");
  const r = document.createElement("button");
  if (r.classList.add("shake-sdk-sheet-item"), r.onclick = t, e) {
    const n = De(s.icon ?? "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='27dp'%20height='27dp'%20viewBox='0%200%2054%2054'%3e%3cpath%20fill='%2300000000'%20fill-rule='evenodd'%20d='m7.864,30.296%20l2.689,3.52%200.58,4.38a5.426,5.426%200,0%200,4.662%204.666l4.392,0.588%203.517,2.686a5.425,5.425%200,0%200,6.59%200l3.519,-2.689h-0.005l4.383,-0.58a5.426,5.426%200,0%200,4.667%20-4.662l0.585,-4.392c0,0.002%201.359,-1.778%202.689,-3.517a5.428,5.428%200,0%200,0%20-6.59l-2.684,-3.521%20-0.581,-4.381a5.426,5.426%200,0%200,-4.662%20-4.667l-4.394,-0.585%20-3.517,-2.686a5.425,5.425%200,0%200,-6.59%200l-3.52,2.687h0.005l-4.383,0.582a5.426,5.426%200,0%200,-4.666%204.662l-0.588,4.392c0,-0.002%20-1.358,1.778%20-2.688,3.517a5.431,5.431%200,0%200,0%206.59h0z'%20stroke-width='3.38'%20stroke='%2361F0B6'%20stroke-linejoin='round'%20stroke-linecap='round'/%3e%3cpath%20fill='%2300000000'%20fill-rule='evenodd'%20d='m33.307,23.855%20l-7.878,7.877%20-4.731,-4.727'%20stroke-width='3.38'%20stroke='%2361F0B6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e");
    r.appendChild(n);
  }
  return r.appendChild(A), r;
}, Ts = (s, t = 0) => {
  document.body.appendChild(s), t && setTimeout(() => lk(s), t);
}, lk = (s) => {
  s.remove();
}, hk = (s, t) => s.map((e) => {
  const A = e.items.map((r) => ({ text: r.label, icon: r.icon, onClick: () => t(r) }));
  return { name: e.name, items: A };
}), Pc = () => {
  const s = navigator.userAgent;
  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s) || window.ontouchstart !== void 0;
}, Nw = (s) => {
  for (; s.firstChild; ) s.removeChild(s.firstChild);
}, Og = ({ label: s, data: t, onChange: e, selectedId: A, showIcons: r = !0, emptyText: n = "Nothing to select", button: i, showButton: o }) => {
  const a = document.createElement("label");
  a.textContent = s, a.classList.add("shake-sdk-select-dropdown-label");
  const c = document.createElement("div");
  c.classList.add("shake-sdk-select-dropdown-chosen");
  const l = document.createElement("img");
  l.classList.add("shake-sdk-dropdown-icon"), l.src = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='caret-down-icon'%20clip-path='url(%23clip0_15248_22126)'%3e%3cpath%20id='Vector'%20d='M8%2010L12%2014L16%2010'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15248_22126'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
  const h = document.createElement("div");
  h.classList.add("shake-sdk-select-dropdown"), h.appendChild(l), h.appendChild(a), h.append(c);
  const d = document.createElement("div");
  d.classList.add("shake-sdk-select-options");
  const u = () => t.flatMap((w) => w.items).find((w) => w.id === A), p = (w) => {
    var B;
    if ((t = w).length == 0) A = "", h.style.opacity = "0.5", c.textContent = n ?? "";
    else {
      const C = w.flatMap((v) => v.items);
      C.find((v) => v.id === A) || (A = C[0].id), h.style.opacity = "1", c.textContent = ((B = u()) == null ? void 0 : B.label) ?? "";
    }
    g();
  }, g = () => {
    Nw(d), t.forEach((w) => {
      if (w.name) {
        const B = Lg(w.name);
        d.appendChild(B);
      }
      w.items.forEach((B) => {
        const C = A === B.id, v = dk({ label: B.label, value: B.value, selected: C, onClick: () => ((F) => {
          A = F.id, c.textContent = F.label, d.style.display = "none", e(F.id);
        })(B) });
        d.appendChild(v);
      });
    }), i && o && (d.appendChild(jw()), d.appendChild(Lg(i.title)), d.appendChild(uk({ text: i.text, onClick: i.onClick })));
  }, m = Array.from(d.children).find((w) => {
    var C;
    const B = (C = u()) == null ? void 0 : C.value;
    return w.dataset.value === B;
  });
  m && (c.textContent = m.textContent), h.addEventListener("click", function() {
    t.length != 0 && (window.innerWidth > 1024 ? (g(), d.style.display = d.style.display === "block" ? "none" : "block", d.style.display === "block" ? h.classList.add("active") : h.classList.remove("active")) : Ts(((w, B, C, v = !0) => {
      const F = hk(B, C);
      return Kw(w, F, v);
    })(s, t, (w) => {
      c.textContent = w.label, e(w.id), A = w.id;
    }, r)));
  }), h.addEventListener("focus", function() {
    h.classList.add("active");
  }), h.addEventListener("blur", function() {
    h.classList.remove("active");
  }), document.addEventListener("click", (w) => {
    const B = w.composedPath()[0];
    B !== h && B !== d && B !== c && (d.style.display = "none", h.classList.remove("active"));
  });
  const f = z();
  return f.appendChild(h), f.appendChild(d), p(t), { picker: f, setData: p, setSelectedId: (w) => {
    const B = t.flatMap((C) => C.items).find((C) => C.id === w);
    B && (A = B.id, c.textContent = B.label, d.style.display = "none", g());
  }, setShowButton: (w) => {
    o = w, g();
  } };
}, Lg = (s) => {
  const t = document.createElement("p");
  t.innerText = s, t.classList.add("shake-sdk-picker-group-title");
  const e = document.createElement("div");
  return e.appendChild(jw()), e.appendChild(t), e;
}, dk = ({ label: s, value: t, selected: e, onClick: A }) => {
  const r = document.createElement("p");
  r.classList.add("shake-sdk-picker-option-text"), r.innerText = s;
  const n = document.createElement("div");
  if (n.classList.add("shake-sdk-picker-option"), n.dataset.value = t, n.addEventListener("click", A), n.appendChild(r), e) {
    const i = document.createElement("img");
    i.draggable = !1, i.classList.add("shake-sdk-image"), i.src = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_17715_48958)'%3e%3cpath%20d='M17.5615%208.44409L10.0055%2016.0001L6.22852%2012.2221'%20stroke='%233A3A3C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_17715_48958'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", n.appendChild(i);
  }
  return n;
}, uk = ({ text: s, onClick: t }) => {
  const e = document.createElement("p");
  e.classList.add("shake-sdk-picker-button-text"), e.innerText = s;
  const A = document.createElement("div");
  return A.classList.add("shake-sdk-picker-button"), A.addEventListener("click", t), A.appendChild(e), A;
}, jw = () => {
  const s = document.createElement("div");
  return s.classList.add("shake-sdk-picker-group-separator"), s;
}, fs = (s, t, e = 0, A = -40) => {
  const r = z();
  r.classList.add("shake-sdk-tooltip");
  const n = ((o) => {
    const a = document.createElement("p");
    return a.classList.add("shake-sdk-text-tooltip"), a.innerText = o, a;
  })(t);
  n.classList.add("shake-sdk-tooltip-text"), r.appendChild(n);
  const i = () => {
    r.style.display = "none";
  };
  return s.addEventListener("mouseover", () => {
    r.style.display = "block";
    const o = s.getBoundingClientRect();
    r.style.left = o.left - o.width + e + "px", r.style.top = o.top - o.height + A + "px";
  }), s.addEventListener("mouseout", i), s.addEventListener("click", i), r;
}, cr = (s, t) => {
  const e = Gw((r, n) => {
    r.contains(n) || (t(), A.forEach((i) => i.disconnect()));
  }), A = Vw(s, e);
}, KA = (s, t) => {
  const e = Gw((r, n) => {
    r.contains(n) && (t(), A.forEach((i) => i.disconnect()));
  }), A = Vw(s, e);
};
function Vw(s, t) {
  var n;
  const e = [], A = (n = document.getElementById(Ls)) == null ? void 0 : n.shadowRoot;
  if (A) {
    const i = t(A, s);
    e.push(i);
  }
  const r = document.getElementById(Ls);
  if (r) {
    const i = t(document, r);
    e.push(i);
  }
  return e;
}
function Gw(s) {
  return (t, e) => {
    const A = new MutationObserver(() => s(t, e));
    return A.observe(t, { childList: !0, subtree: !0 }), A;
  };
}
const Sl = ({ onChange: s, maxLength: t, rows: e, value: A, label: r, isError: n, onError: i, error: o, required: a }) => {
  const c = () => {
    o && ((n == null ? void 0 : n(d.value)) ?? !1 ? (d.classList.add("shake-sdk-textarea-error"), u.style.display = "flex") : (d.classList.remove("shake-sdk-textarea-error"), u.style.display = "none"));
  }, l = () => {
    i == null || i((n == null ? void 0 : n(d.value)) ?? !1), s(d.value), d.style.height = "auto", d.style.height = d.scrollHeight + "px";
  }, h = document.createElement("label");
  h.textContent = r, h.classList.add("shake-sdk-textarea-label");
  const d = document.createElement("textarea");
  d.classList.add("shake-sdk-textarea"), d.rows = e ?? 1, d.maxLength = t ?? 1e4, d.textContent = A ?? "", d.addEventListener("input", () => l()), d.addEventListener("blur", () => c());
  const u = document.createElement("p");
  u.innerText = o ?? "", u.classList.add("shake-sdk-textarea-error-text");
  const p = document.createElement("div");
  if (p.classList.add("shake-sdk-textarea-container"), p.appendChild(h), p.appendChild(d), p.appendChild(u), a) {
    const g = De(Ti);
    g.classList.add("shake-sdk-textarea-required-icon");
    const m = fs(g, Y().shake_sdk_new_ticket_tooltip_required, -25, -30);
    p.appendChild(g), p.appendChild(m);
  }
  return KA(d, () => {
    l(), c();
  }), p;
}, Ww = "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2040%2040'%20stroke-width='2'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20transform='translate(7,%209)'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M6%2018%2018%206M6%206l12%2012'%20/%3e%3c/svg%3e", Su = ({ title: s, onBackClick: t, onCloseClick: e, onlyMobile: A = !0 }) => {
  const r = qa({ image: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2040%2040'%20stroke-width='2'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20transform='translate(0,%208)'%20stroke-linejoin='round'%20d='M10.5%2019.5%203%2012m0%200%207.5-7.5M3%2012h18'%20/%3e%3c/svg%3e", onClick: () => t == null ? void 0 : t() }), n = De(Ti);
  n.classList.add("shake-sdk-toolbar-notification-icon");
  const i = document.createElement("div");
  i.classList.add("shake-sdk-toolbar-back-container"), i.appendChild(r), i.appendChild(n);
  const o = qa({ image: Ww, onClick: () => e == null ? void 0 : e() });
  o.classList.add("shake-sdk-toolbar-close-button");
  const a = Is(s ?? "");
  a.classList.add("shake-sdk-toolbar-title");
  const c = document.createElement("div");
  return c.classList.add(t ? "shake-sdk-toolbar" : "shake-sdk-toolbar-only-close"), A && c.classList.add("shake-sdk-toolbar-hideable"), t && c.appendChild(i), s && c.appendChild(a), e && c.appendChild(o), { container: c, setBadgeVisible: (l) => {
    n.style.visibility = l ? "visible" : "hidden";
  } };
}, qa = ({ image: s, onClick: t }) => {
  const e = document.createElement("button");
  return e.classList.add("shake-sdk-toolbar-button"), e.onclick = t, DA(s, (A) => {
    e.appendChild(MA(A));
  }), e;
}, Ec = class Ec {
  constructor() {
    b(this, "onStartListener", null);
    b(this, "onStopListener", null);
    b(this, "stream", null);
    b(this, "mediaRecorder", null);
    b(this, "recordedChunks", []);
    b(this, "timeout", null);
    b(this, "isRecording", !1);
    b(this, "start", async () => {
      this.isRecording || (this.stream = await navigator.mediaDevices.getDisplayMedia({ video: !0 }), this.mediaRecorder = new MediaRecorder(this.stream, { mimeType: Mg() }), this.mediaRecorder.onstart = () => {
        var t;
        this.startTimer(), (t = this.onStartListener) == null || t.call(this), this.isRecording = !0;
      }, this.mediaRecorder.ondataavailable = (t) => {
        t.data.size > 0 && this.recordedChunks.push(t.data);
      }, this.mediaRecorder.onstop = () => {
        var e;
        this.stopTimer();
        const t = new Blob(this.recordedChunks, { type: Mg() });
        (e = this.onStopListener) == null || e.call(this, t), this.isRecording = !1;
      }, this.mediaRecorder.start());
    });
    b(this, "stop", () => {
      var t;
      if ((t = this.mediaRecorder) == null || t.stop(), this.stream) {
        const e = this.stream.getTracks();
        for (let A = 0; A < e.length; A++) e[A].stop();
      }
    });
    b(this, "startTimer", () => {
      this.stopTimer(), this.timeout = window.setTimeout(() => {
        this.stop();
      }, Ec.SCREEN_RECORDING_TIME);
    });
    b(this, "stopTimer", () => {
      this.timeout && (window.clearTimeout(this.timeout), this.timeout = null);
    });
  }
};
b(Ec, "SCREEN_RECORDING_TIME", 3e4);
let Vh = Ec;
const Mg = () => MediaRecorder.isTypeSupported("video/webm; codecs=vp9") ? "video/webm; codecs=vp9" : MediaRecorder.isTypeSupported("video/webm; codecs=vp8") ? "video/webm; codecs=vp8" : MediaRecorder.isTypeSupported("video/mp4") ? "video/mp4" : void 0, Yw = "shake-sdk-screenshot-capture-bubble", ao = new Vh(), Eu = async () => {
  try {
    ao.onStartListener = () => {
      const s = Hw("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='15px'%20height='15px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3crect%20stroke='%23000'%20rx='3'%20stroke-width='0'%20height='32'%20width='32'%20y='0'%20x='0'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e", "red", "#d90000", () => {
        ao.stop();
      });
      s.id = Yw, document.body.appendChild(s), Rs(!1, !1);
    }, ao.onStopListener = (s) => {
      pk(), (async (t) => {
        await _w(t);
        const e = LA();
        bi(e, gA.NEW_TICKET), jt.isVideoRecordingMode = !1;
      })(s);
    }, await ao.start(), jt.isVideoRecordingMode = !0;
  } catch (s) {
    Rc(s == null ? void 0 : s.message);
  }
}, pk = () => {
  const s = document.getElementById(Yw);
  s && s.remove();
}, Jw = "data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_15050_29400)'%3e%3cpath%20d='M11.3994%207.80005V15'%20stroke='%238E8E93'%20stroke-width='1'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.9998%2011.4001H7.7998'%20stroke='%238E8E93'%20stroke-width='1'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15050_29400'%3e%3crect%20width='21.6'%20height='21.6'%20fill='white'%20transform='translate(0.599609%200.600098)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", gi = (s) => {
  const t = document.createElement("button");
  return t.classList.add("shake-sdk-circle-button"), DA(s, (e) => {
    t.appendChild(MA(e));
  }), t;
}, Xw = () => _i(Y().shake_sdk_dialog_attachment_count_limit_title, Y().shake_sdk_dialog_attachment_count_limit_message), zw = "data:image/svg+xml,%3csvg%20width='31'%20height='32'%20viewBox='0%200%2031%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.7285%2013.4543L17.8197%2018.5455'%20stroke='%23F2F2F7'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.8197%2013.4545L12.7285%2018.5457'%20stroke='%23F2F2F7'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e", Kc = ({ src: s, controls: t, autoplay: e }) => {
  const A = document.createElement("video");
  return A.classList.add("shake-sdk-video"), A.src = s, A.controls = t ?? !1, A.preload = "metadata", A.autoplay = e ?? !1, A.loop = !0, A;
}, gk = (s) => {
  const t = z();
  t.classList.add("shake-sdk-file-thumbnail-small");
  const e = Is(s);
  return t.appendChild(e), t;
}, Zw = "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2040%2040'%20stroke-width='2'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20transform='translate(7,%209)'%20color='%23FFFFFF'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M6%2018%2018%206M6%206l12%2012'%20/%3e%3c/svg%3e";
var rt = ((s) => (s.PENCIL = "pencil", s.BLUR = "blur", s.ELLIPSE = "ellipse", s.RECT = "rect", s.SELECT = "select", s))(rt || {});
function k(s, t, e) {
  return (t = function(A) {
    var r = function(n) {
      if (typeof n != "object" || !n) return n;
      var i = n[Symbol.toPrimitive];
      if (i !== void 0) {
        var o = i.call(n, "string");
        if (typeof o != "object") return o;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return String(n);
    }(A);
    return typeof r == "symbol" ? r : r + "";
  }(t)) in s ? Object.defineProperty(s, t, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : s[t] = e, s;
}
function Dg(s, t) {
  var e = Object.keys(s);
  if (Object.getOwnPropertySymbols) {
    var A = Object.getOwnPropertySymbols(s);
    t && (A = A.filter(function(r) {
      return Object.getOwnPropertyDescriptor(s, r).enumerable;
    })), e.push.apply(e, A);
  }
  return e;
}
function x(s) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? Dg(Object(e), !0).forEach(function(A) {
      k(s, A, e[A]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(s, Object.getOwnPropertyDescriptors(e)) : Dg(Object(e)).forEach(function(A) {
      Object.defineProperty(s, A, Object.getOwnPropertyDescriptor(e, A));
    });
  }
  return s;
}
function Vt(s, t) {
  if (s == null) return {};
  var e, A, r = function(i, o) {
    if (i == null) return {};
    var a = {};
    for (var c in i) if ({}.hasOwnProperty.call(i, c)) {
      if (o.indexOf(c) >= 0) continue;
      a[c] = i[c];
    }
    return a;
  }(s, t);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(s);
    for (A = 0; A < n.length; A++) e = n[A], t.indexOf(e) >= 0 || {}.propertyIsEnumerable.call(s, e) && (r[e] = s[e]);
  }
  return r;
}
function Ms(s, t) {
  return t || (t = s.slice(0)), Object.freeze(Object.defineProperties(s, { raw: { value: Object.freeze(t) } }));
}
let Rg = class {
  constructor() {
    k(this, "browserShadowBlurConstant", 1), k(this, "DPI", 96), k(this, "devicePixelRatio", typeof window < "u" ? window.devicePixelRatio : 1), k(this, "perfLimitSizeTotal", 2097152), k(this, "maxCacheSideLimit", 4096), k(this, "minCacheSideLimit", 256), k(this, "disableStyleCopyPaste", !1), k(this, "enableGLFiltering", !0), k(this, "textureSize", 4096), k(this, "forceGLPutImageData", !1), k(this, "cachesBoundsOfCurve", !1), k(this, "fontPaths", {}), k(this, "NUM_FRACTION_DIGITS", 4);
  }
};
const kt = new class extends Rg {
  constructor(s) {
    super(), this.configure(s);
  }
  configure() {
    let s = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Object.assign(this, s);
  }
  addFonts() {
    let s = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.fontPaths = x(x({}, this.fontPaths), s);
  }
  removeFonts() {
    (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : []).forEach((s) => {
      delete this.fontPaths[s];
    });
  }
  clearFonts() {
    this.fontPaths = {};
  }
  restoreDefaults(s) {
    const t = new Rg(), e = (s == null ? void 0 : s.reduce((A, r) => (A[r] = t[r], A), {})) || t;
    this.configure(e);
  }
}(), _s = function(s) {
  for (var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), A = 1; A < t; A++) e[A - 1] = arguments[A];
  return console[s]("fabric", ...e);
};
class UA extends Error {
  constructor(t, e) {
    super("fabric: ".concat(t), e);
  }
}
class fk extends UA {
  constructor(t) {
    super("".concat(t, " 'options.signal' is in 'aborted' state"));
  }
}
class mk {
}
class wk extends mk {
  testPrecision(t, e) {
    const A = "precision ".concat(e, ` float;
void main(){}`), r = t.createShader(t.FRAGMENT_SHADER);
    return !!r && (t.shaderSource(r, A), t.compileShader(r), !!t.getShaderParameter(r, t.COMPILE_STATUS));
  }
  queryWebGL(t) {
    const e = t.getContext("webgl");
    e && (this.maxTextureSize = e.getParameter(e.MAX_TEXTURE_SIZE), this.GLPrecision = ["highp", "mediump", "lowp"].find((A) => this.testPrecision(e, A)), e.getExtension("WEBGL_lose_context").loseContext(), _s("log", "WebGL: max texture size ".concat(this.maxTextureSize)));
  }
  isSupported(t) {
    return !!this.maxTextureSize && this.maxTextureSize >= t;
  }
}
const Bk = {};
let Hg;
const RA = () => Hg || (Hg = { document, window, isTouchSupported: "ontouchstart" in window || "ontouchstart" in document || window && window.navigator && window.navigator.maxTouchPoints > 0, WebGLProbe: new wk(), dispose() {
}, copyPasteData: Bk }), sn = () => RA().document, Fu = () => RA().window, qw = () => {
  var s;
  return Math.max((s = kt.devicePixelRatio) !== null && s !== void 0 ? s : Fu().devicePixelRatio, 1);
}, ni = new class {
  constructor() {
    k(this, "charWidthsCache", {}), k(this, "boundsOfCurveCache", {});
  }
  getFontCache(s) {
    let { fontFamily: t, fontStyle: e, fontWeight: A } = s;
    t = t.toLowerCase(), this.charWidthsCache[t] || (this.charWidthsCache[t] = {});
    const r = this.charWidthsCache[t], n = "".concat(e.toLowerCase(), "_").concat((A + "").toLowerCase());
    return r[n] || (r[n] = {}), r[n];
  }
  clearFontCache(s) {
    (s = (s || "").toLowerCase()) ? this.charWidthsCache[s] && delete this.charWidthsCache[s] : this.charWidthsCache = {};
  }
  limitDimsByArea(s) {
    const { perfLimitSizeTotal: t } = kt, e = Math.sqrt(t * s);
    return [Math.floor(e), Math.floor(t / e)];
  }
}(), Gh = "6.6.1";
function ia() {
}
const Oi = Math.PI / 2, $a = 2 * Math.PI, Qu = Math.PI / 180, Ue = Object.freeze([1, 0, 0, 1, 0, 0]), Uu = 16, ls = 0.4477152502, dt = "center", Ft = "left", Re = "top", Wh = "bottom", Zt = "right", Le = "none", Iu = /\r?\n/, $w = "moving", Nc = "scaling", t2 = "rotating", Tu = "rotate", e2 = "skewing", fi = "resizing", yk = "modifyPoly", Ck = "modifyPath", tc = "changed", jc = "scale", Ke = "scaleX", nA = "scaleY", rn = "skewX", nn = "skewY", ae = "fill", He = "stroke", ec = "modified", br = "json", El = "svg", J = new class {
  constructor() {
    this[br] = /* @__PURE__ */ new Map(), this[El] = /* @__PURE__ */ new Map();
  }
  has(s) {
    return this[br].has(s);
  }
  getClass(s) {
    const t = this[br].get(s);
    if (!t) throw new UA("No class registered for ".concat(s));
    return t;
  }
  setClass(s, t) {
    t ? this[br].set(t, s) : (this[br].set(s.type, s), this[br].set(s.type.toLowerCase(), s));
  }
  getSVGClass(s) {
    return this[El].get(s);
  }
  setSVGClass(s, t) {
    this[El].set(t ?? s.type.toLowerCase(), s);
  }
}(), Ac = new class extends Array {
  remove(s) {
    const t = this.indexOf(s);
    t > -1 && this.splice(t, 1);
  }
  cancelAll() {
    const s = this.splice(0);
    return s.forEach((t) => t.abort()), s;
  }
  cancelByCanvas(s) {
    if (!s) return [];
    const t = this.filter((e) => {
      var A;
      return e.target === s || typeof e.target == "object" && ((A = e.target) === null || A === void 0 ? void 0 : A.canvas) === s;
    });
    return t.forEach((e) => e.abort()), t;
  }
  cancelByTarget(s) {
    if (!s) return [];
    const t = this.filter((e) => e.target === s);
    return t.forEach((e) => e.abort()), t;
  }
}();
class bk {
  constructor() {
    k(this, "__eventListeners", {});
  }
  on(t, e) {
    if (this.__eventListeners || (this.__eventListeners = {}), typeof t == "object") return Object.entries(t).forEach((A) => {
      let [r, n] = A;
      this.on(r, n);
    }), () => this.off(t);
    if (e) {
      const A = t;
      return this.__eventListeners[A] || (this.__eventListeners[A] = []), this.__eventListeners[A].push(e), () => this.off(A, e);
    }
    return () => !1;
  }
  once(t, e) {
    if (typeof t == "object") {
      const A = [];
      return Object.entries(t).forEach((r) => {
        let [n, i] = r;
        A.push(this.once(n, i));
      }), () => A.forEach((r) => r());
    }
    if (e) {
      const A = this.on(t, function() {
        for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
        e.call(this, ...n), A();
      });
      return A;
    }
    return () => !1;
  }
  _removeEventListener(t, e) {
    if (this.__eventListeners[t]) if (e) {
      const A = this.__eventListeners[t], r = A.indexOf(e);
      r > -1 && A.splice(r, 1);
    } else this.__eventListeners[t] = [];
  }
  off(t, e) {
    if (this.__eventListeners) if (t === void 0) for (const A in this.__eventListeners) this._removeEventListener(A);
    else typeof t == "object" ? Object.entries(t).forEach((A) => {
      let [r, n] = A;
      this._removeEventListener(r, n);
    }) : this._removeEventListener(t, e);
  }
  fire(t, e) {
    var A;
    if (!this.__eventListeners) return;
    const r = (A = this.__eventListeners[t]) === null || A === void 0 ? void 0 : A.concat();
    if (r) for (let n = 0; n < r.length; n++) r[n].call(this, e || {});
  }
}
const Qr = (s, t) => {
  const e = s.indexOf(t);
  return e !== -1 && s.splice(e, 1), s;
}, ns = (s) => {
  if (s === 0) return 1;
  switch (Math.abs(s) / Oi) {
    case 1:
    case 3:
      return 0;
    case 2:
      return -1;
  }
  return Math.cos(s);
}, is = (s) => {
  if (s === 0) return 0;
  const t = s / Oi, e = Math.sign(s);
  switch (t) {
    case 1:
      return e;
    case 2:
      return 0;
    case 3:
      return -e;
  }
  return Math.sin(s);
};
class U {
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    typeof t == "object" ? (this.x = t.x, this.y = t.y) : (this.x = t, this.y = e);
  }
  add(t) {
    return new U(this.x + t.x, this.y + t.y);
  }
  addEquals(t) {
    return this.x += t.x, this.y += t.y, this;
  }
  scalarAdd(t) {
    return new U(this.x + t, this.y + t);
  }
  scalarAddEquals(t) {
    return this.x += t, this.y += t, this;
  }
  subtract(t) {
    return new U(this.x - t.x, this.y - t.y);
  }
  subtractEquals(t) {
    return this.x -= t.x, this.y -= t.y, this;
  }
  scalarSubtract(t) {
    return new U(this.x - t, this.y - t);
  }
  scalarSubtractEquals(t) {
    return this.x -= t, this.y -= t, this;
  }
  multiply(t) {
    return new U(this.x * t.x, this.y * t.y);
  }
  scalarMultiply(t) {
    return new U(this.x * t, this.y * t);
  }
  scalarMultiplyEquals(t) {
    return this.x *= t, this.y *= t, this;
  }
  divide(t) {
    return new U(this.x / t.x, this.y / t.y);
  }
  scalarDivide(t) {
    return new U(this.x / t, this.y / t);
  }
  scalarDivideEquals(t) {
    return this.x /= t, this.y /= t, this;
  }
  eq(t) {
    return this.x === t.x && this.y === t.y;
  }
  lt(t) {
    return this.x < t.x && this.y < t.y;
  }
  lte(t) {
    return this.x <= t.x && this.y <= t.y;
  }
  gt(t) {
    return this.x > t.x && this.y > t.y;
  }
  gte(t) {
    return this.x >= t.x && this.y >= t.y;
  }
  lerp(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;
    return e = Math.max(Math.min(1, e), 0), new U(this.x + (t.x - this.x) * e, this.y + (t.y - this.y) * e);
  }
  distanceFrom(t) {
    const e = this.x - t.x, A = this.y - t.y;
    return Math.sqrt(e * e + A * A);
  }
  midPointFrom(t) {
    return this.lerp(t);
  }
  min(t) {
    return new U(Math.min(this.x, t.x), Math.min(this.y, t.y));
  }
  max(t) {
    return new U(Math.max(this.x, t.x), Math.max(this.y, t.y));
  }
  toString() {
    return "".concat(this.x, ",").concat(this.y);
  }
  setXY(t, e) {
    return this.x = t, this.y = e, this;
  }
  setX(t) {
    return this.x = t, this;
  }
  setY(t) {
    return this.y = t, this;
  }
  setFromPoint(t) {
    return this.x = t.x, this.y = t.y, this;
  }
  swap(t) {
    const e = this.x, A = this.y;
    this.x = t.x, this.y = t.y, t.x = e, t.y = A;
  }
  clone() {
    return new U(this.x, this.y);
  }
  rotate(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _u;
    const A = is(t), r = ns(t), n = this.subtract(e);
    return new U(n.x * r - n.y * A, n.x * A + n.y * r).add(e);
  }
  transform(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    return new U(t[0] * this.x + t[2] * this.y + (e ? 0 : t[4]), t[1] * this.x + t[3] * this.y + (e ? 0 : t[5]));
  }
}
const _u = new U(0, 0), oa = (s) => !!s && Array.isArray(s._objects);
function A2(s) {
  class t extends s {
    constructor() {
      super(...arguments), k(this, "_objects", []);
    }
    _onObjectAdded(A) {
    }
    _onObjectRemoved(A) {
    }
    _onStackOrderChanged(A) {
    }
    add() {
      for (var A = arguments.length, r = new Array(A), n = 0; n < A; n++) r[n] = arguments[n];
      const i = this._objects.push(...r);
      return r.forEach((o) => this._onObjectAdded(o)), i;
    }
    insertAt(A) {
      for (var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) n[i - 1] = arguments[i];
      return this._objects.splice(A, 0, ...n), n.forEach((o) => this._onObjectAdded(o)), this._objects.length;
    }
    remove() {
      const A = this._objects, r = [];
      for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
      return i.forEach((a) => {
        const c = A.indexOf(a);
        c !== -1 && (A.splice(c, 1), r.push(a), this._onObjectRemoved(a));
      }), r;
    }
    forEachObject(A) {
      this.getObjects().forEach((r, n, i) => A(r, n, i));
    }
    getObjects() {
      for (var A = arguments.length, r = new Array(A), n = 0; n < A; n++) r[n] = arguments[n];
      return r.length === 0 ? [...this._objects] : this._objects.filter((i) => i.isType(...r));
    }
    item(A) {
      return this._objects[A];
    }
    isEmpty() {
      return this._objects.length === 0;
    }
    size() {
      return this._objects.length;
    }
    contains(A, r) {
      return !!this._objects.includes(A) || !!r && this._objects.some((n) => n instanceof t && n.contains(A, !0));
    }
    complexity() {
      return this._objects.reduce((A, r) => A + (r.complexity ? r.complexity() : 0), 0);
    }
    sendObjectToBack(A) {
      return !(!A || A === this._objects[0] || (Qr(this._objects, A), this._objects.unshift(A), this._onStackOrderChanged(A), 0));
    }
    bringObjectToFront(A) {
      return !(!A || A === this._objects[this._objects.length - 1] || (Qr(this._objects, A), this._objects.push(A), this._onStackOrderChanged(A), 0));
    }
    sendObjectBackwards(A, r) {
      if (!A) return !1;
      const n = this._objects.indexOf(A);
      if (n !== 0) {
        const i = this.findNewLowerIndex(A, n, r);
        return Qr(this._objects, A), this._objects.splice(i, 0, A), this._onStackOrderChanged(A), !0;
      }
      return !1;
    }
    bringObjectForward(A, r) {
      if (!A) return !1;
      const n = this._objects.indexOf(A);
      if (n !== this._objects.length - 1) {
        const i = this.findNewUpperIndex(A, n, r);
        return Qr(this._objects, A), this._objects.splice(i, 0, A), this._onStackOrderChanged(A), !0;
      }
      return !1;
    }
    moveObjectTo(A, r) {
      return A !== this._objects[r] && (Qr(this._objects, A), this._objects.splice(r, 0, A), this._onStackOrderChanged(A), !0);
    }
    findNewLowerIndex(A, r, n) {
      let i;
      if (n) {
        i = r;
        for (let o = r - 1; o >= 0; --o) if (A.isOverlapping(this._objects[o])) {
          i = o;
          break;
        }
      } else i = r - 1;
      return i;
    }
    findNewUpperIndex(A, r, n) {
      let i;
      if (n) {
        i = r;
        for (let o = r + 1; o < this._objects.length; ++o) if (A.isOverlapping(this._objects[o])) {
          i = o;
          break;
        }
      } else i = r + 1;
      return i;
    }
    collectObjects(A) {
      let { left: r, top: n, width: i, height: o } = A, { includeIntersecting: a = !0 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      const c = [], l = new U(r, n), h = l.add(new U(i, o));
      for (let d = this._objects.length - 1; d >= 0; d--) {
        const u = this._objects[d];
        u.selectable && u.visible && (a && u.intersectsWithRect(l, h) || u.isContainedWithinRect(l, h) || a && u.containsPoint(l) || a && u.containsPoint(h)) && c.push(u);
      }
      return c;
    }
  }
  return t;
}
class s2 extends bk {
  _setOptions() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    for (const e in t) this.set(e, t[e]);
  }
  _setObject(t) {
    for (const e in t) this._set(e, t[e]);
  }
  set(t, e) {
    return typeof t == "object" ? this._setObject(t) : this._set(t, e), this;
  }
  _set(t, e) {
    this[t] = e;
  }
  toggle(t) {
    const e = this.get(t);
    return typeof e == "boolean" && this.set(t, !e), this;
  }
  get(t) {
    return this[t];
  }
}
function aa(s) {
  return Fu().requestAnimationFrame(s);
}
let vk = 0;
const Os = () => vk++, BA = () => {
  const s = sn().createElement("canvas");
  if (!s || s.getContext === void 0) throw new UA("Failed to create `canvas` element");
  return s;
}, HA = (s) => {
  const t = BA();
  return t.width = s.width, t.height = s.height, t;
}, r2 = (s, t, e) => s.toDataURL("image/".concat(t), e), n2 = (s, t, e) => new Promise((A, r) => {
  s.toBlob(A, "image/".concat(t), e);
}), $t = (s) => s * Qu, nr = (s) => s / Qu, _e = (s, t, e) => new U(s).transform(t, e), mA = (s) => {
  const t = 1 / (s[0] * s[3] - s[1] * s[2]), e = [t * s[3], -t * s[1], -t * s[2], t * s[0], 0, 0], { x: A, y: r } = new U(s[4], s[5]).transform(e, !0);
  return e[4] = -A, e[5] = -r, e;
}, me = (s, t, e) => [s[0] * t[0] + s[2] * t[1], s[1] * t[0] + s[3] * t[1], s[0] * t[2] + s[2] * t[3], s[1] * t[2] + s[3] * t[3], e ? 0 : s[0] * t[4] + s[2] * t[5] + s[4], e ? 0 : s[1] * t[4] + s[3] * t[5] + s[5]], Ou = (s, t) => s.reduceRight((e, A) => A && e ? me(A, e, t) : A || e, void 0) || Ue.concat(), i2 = (s) => {
  let [t, e] = s;
  return Math.atan2(e, t);
}, sc = (s) => {
  const t = i2(s), e = Math.pow(s[0], 2) + Math.pow(s[1], 2), A = Math.sqrt(e), r = (s[0] * s[3] - s[2] * s[1]) / A, n = Math.atan2(s[0] * s[2] + s[1] * s[3], e);
  return { angle: nr(t), scaleX: A, scaleY: r, skewX: nr(n), skewY: 0, translateX: s[4] || 0, translateY: s[5] || 0 };
}, Li = function(s) {
  return [1, 0, 0, 1, s, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0];
};
function Mi() {
  let { angle: s = 0 } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, { x: t = 0, y: e = 0 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  const A = $t(s), r = ns(A), n = is(A);
  return [r, n, -n, r, t ? t - (r * t - n * e) : 0, e ? e - (n * t + r * e) : 0];
}
const Lu = function(s) {
  return [s, 0, 0, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : s, 0, 0];
}, o2 = (s) => Math.tan($t(s)), a2 = (s) => [1, 0, o2(s), 1, 0, 0], c2 = (s) => [1, o2(s), 0, 1, 0, 0], Vc = (s) => {
  let { scaleX: t = 1, scaleY: e = 1, flipX: A = !1, flipY: r = !1, skewX: n = 0, skewY: i = 0 } = s, o = Lu(A ? -t : t, r ? -e : e);
  return n && (o = me(o, a2(n), !0)), i && (o = me(o, c2(i), !0)), o;
}, kk = (s) => {
  const { translateX: t = 0, translateY: e = 0, angle: A = 0 } = s;
  let r = Li(t, e);
  A && (r = me(r, Mi({ angle: A })));
  const n = Vc(s);
  return ((i) => i.every((o, a) => o === Ue[a]))(n) || (r = me(r, n)), r;
}, ca = function(s) {
  let { signal: t, crossOrigin: e = null } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return new Promise(function(A, r) {
    if (t && t.aborted) return r(new fk("loadImage"));
    const n = sn().createElement("img");
    let i;
    t && (i = function(a) {
      n.src = "", r(a);
    }, t.addEventListener("abort", i, { once: !0 }));
    const o = function() {
      n.onload = n.onerror = null, i && (t == null || t.removeEventListener("abort", i)), A(n);
    };
    s ? (n.onload = o, n.onerror = function() {
      i && (t == null || t.removeEventListener("abort", i)), r(new UA("Error loading ".concat(n.src)));
    }, e && (n.crossOrigin = e), n.src = s) : o();
  });
}, mi = function(s) {
  let { signal: t, reviver: e = ia } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return new Promise((A, r) => {
    const n = [];
    t && t.addEventListener("abort", r, { once: !0 }), Promise.all(s.map((i) => J.getClass(i.type).fromObject(i, { signal: t }).then((o) => (e(i, o), n.push(o), o)))).then(A).catch((i) => {
      n.forEach((o) => {
        o.dispose && o.dispose();
      }), r(i);
    }).finally(() => {
      t && t.removeEventListener("abort", r);
    });
  });
}, Gc = function(s) {
  let { signal: t } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return new Promise((e, A) => {
    const r = [];
    t && t.addEventListener("abort", A, { once: !0 });
    const n = Object.values(s).map((o) => o && o.type && J.has(o.type) ? mi([o], { signal: t }).then((a) => {
      let [c] = a;
      return r.push(c), c;
    }) : o), i = Object.keys(s);
    Promise.all(n).then((o) => o.reduce((a, c, l) => (a[i[l]] = c, a), {})).then(e).catch((o) => {
      r.forEach((a) => {
        a.dispose && a.dispose();
      }), A(o);
    }).finally(() => {
      t && t.removeEventListener("abort", A);
    });
  });
}, on = function(s) {
  return (arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : []).reduce((t, e) => (e in s && (t[e] = s[e]), t), {});
}, Mu = (s, t) => Object.keys(s).reduce((e, A) => (t(s[A], A, s) && (e[A] = s[A]), e), {}), Pg = { aliceblue: "#F0F8FF", antiquewhite: "#FAEBD7", aqua: "#0FF", aquamarine: "#7FFFD4", azure: "#F0FFFF", beige: "#F5F5DC", bisque: "#FFE4C4", black: "#000", blanchedalmond: "#FFEBCD", blue: "#00F", blueviolet: "#8A2BE2", brown: "#A52A2A", burlywood: "#DEB887", cadetblue: "#5F9EA0", chartreuse: "#7FFF00", chocolate: "#D2691E", coral: "#FF7F50", cornflowerblue: "#6495ED", cornsilk: "#FFF8DC", crimson: "#DC143C", cyan: "#0FF", darkblue: "#00008B", darkcyan: "#008B8B", darkgoldenrod: "#B8860B", darkgray: "#A9A9A9", darkgrey: "#A9A9A9", darkgreen: "#006400", darkkhaki: "#BDB76B", darkmagenta: "#8B008B", darkolivegreen: "#556B2F", darkorange: "#FF8C00", darkorchid: "#9932CC", darkred: "#8B0000", darksalmon: "#E9967A", darkseagreen: "#8FBC8F", darkslateblue: "#483D8B", darkslategray: "#2F4F4F", darkslategrey: "#2F4F4F", darkturquoise: "#00CED1", darkviolet: "#9400D3", deeppink: "#FF1493", deepskyblue: "#00BFFF", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1E90FF", firebrick: "#B22222", floralwhite: "#FFFAF0", forestgreen: "#228B22", fuchsia: "#F0F", gainsboro: "#DCDCDC", ghostwhite: "#F8F8FF", gold: "#FFD700", goldenrod: "#DAA520", gray: "#808080", grey: "#808080", green: "#008000", greenyellow: "#ADFF2F", honeydew: "#F0FFF0", hotpink: "#FF69B4", indianred: "#CD5C5C", indigo: "#4B0082", ivory: "#FFFFF0", khaki: "#F0E68C", lavender: "#E6E6FA", lavenderblush: "#FFF0F5", lawngreen: "#7CFC00", lemonchiffon: "#FFFACD", lightblue: "#ADD8E6", lightcoral: "#F08080", lightcyan: "#E0FFFF", lightgoldenrodyellow: "#FAFAD2", lightgray: "#D3D3D3", lightgrey: "#D3D3D3", lightgreen: "#90EE90", lightpink: "#FFB6C1", lightsalmon: "#FFA07A", lightseagreen: "#20B2AA", lightskyblue: "#87CEFA", lightslategray: "#789", lightslategrey: "#789", lightsteelblue: "#B0C4DE", lightyellow: "#FFFFE0", lime: "#0F0", limegreen: "#32CD32", linen: "#FAF0E6", magenta: "#F0F", maroon: "#800000", mediumaquamarine: "#66CDAA", mediumblue: "#0000CD", mediumorchid: "#BA55D3", mediumpurple: "#9370DB", mediumseagreen: "#3CB371", mediumslateblue: "#7B68EE", mediumspringgreen: "#00FA9A", mediumturquoise: "#48D1CC", mediumvioletred: "#C71585", midnightblue: "#191970", mintcream: "#F5FFFA", mistyrose: "#FFE4E1", moccasin: "#FFE4B5", navajowhite: "#FFDEAD", navy: "#000080", oldlace: "#FDF5E6", olive: "#808000", olivedrab: "#6B8E23", orange: "#FFA500", orangered: "#FF4500", orchid: "#DA70D6", palegoldenrod: "#EEE8AA", palegreen: "#98FB98", paleturquoise: "#AFEEEE", palevioletred: "#DB7093", papayawhip: "#FFEFD5", peachpuff: "#FFDAB9", peru: "#CD853F", pink: "#FFC0CB", plum: "#DDA0DD", powderblue: "#B0E0E6", purple: "#800080", rebeccapurple: "#639", red: "#F00", rosybrown: "#BC8F8F", royalblue: "#4169E1", saddlebrown: "#8B4513", salmon: "#FA8072", sandybrown: "#F4A460", seagreen: "#2E8B57", seashell: "#FFF5EE", sienna: "#A0522D", silver: "#C0C0C0", skyblue: "#87CEEB", slateblue: "#6A5ACD", slategray: "#708090", slategrey: "#708090", snow: "#FFFAFA", springgreen: "#00FF7F", steelblue: "#4682B4", tan: "#D2B48C", teal: "#008080", thistle: "#D8BFD8", tomato: "#FF6347", turquoise: "#40E0D0", violet: "#EE82EE", wheat: "#F5DEB3", white: "#FFF", whitesmoke: "#F5F5F5", yellow: "#FF0", yellowgreen: "#9ACD32" }, Fl = (s, t, e) => (e < 0 && (e += 1), e > 1 && (e -= 1), e < 1 / 6 ? s + 6 * (t - s) * e : e < 0.5 ? t : e < 2 / 3 ? s + (t - s) * (2 / 3 - e) * 6 : s), Kg = (s, t, e, A) => {
  s /= 255, t /= 255, e /= 255;
  const r = Math.max(s, t, e), n = Math.min(s, t, e);
  let i, o;
  const a = (r + n) / 2;
  if (r === n) i = o = 0;
  else {
    const c = r - n;
    switch (o = a > 0.5 ? c / (2 - r - n) : c / (r + n), r) {
      case s:
        i = (t - e) / c + (t < e ? 6 : 0);
        break;
      case t:
        i = (e - s) / c + 2;
        break;
      case e:
        i = (s - t) / c + 4;
    }
    i /= 6;
  }
  return [Math.round(360 * i), Math.round(100 * o), Math.round(100 * a), A];
}, Ng = function() {
  let s = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "1";
  return parseFloat(s) / (s.endsWith("%") ? 100 : 1);
}, co = (s) => Math.min(Math.round(s), 255).toString(16).toUpperCase().padStart(2, "0"), jg = (s) => {
  let [t, e, A, r = 1] = s;
  const n = Math.round(0.3 * t + 0.59 * e + 0.11 * A);
  return [n, n, n, r];
};
class Et {
  constructor(t) {
    if (k(this, "isUnrecognised", !1), t) if (t instanceof Et) this.setSource([...t._source]);
    else if (Array.isArray(t)) {
      const [e, A, r, n = 1] = t;
      this.setSource([e, A, r, n]);
    } else this.setSource(this._tryParsingColor(t));
    else this.setSource([0, 0, 0, 1]);
  }
  _tryParsingColor(t) {
    return (t = t.toLowerCase()) in Pg && (t = Pg[t]), t === "transparent" ? [255, 255, 255, 0] : Et.sourceFromHex(t) || Et.sourceFromRgb(t) || Et.sourceFromHsl(t) || (this.isUnrecognised = !0) && [0, 0, 0, 1];
  }
  getSource() {
    return this._source;
  }
  setSource(t) {
    this._source = t;
  }
  toRgb() {
    const [t, e, A] = this.getSource();
    return "rgb(".concat(t, ",").concat(e, ",").concat(A, ")");
  }
  toRgba() {
    return "rgba(".concat(this.getSource().join(","), ")");
  }
  toHsl() {
    const [t, e, A] = Kg(...this.getSource());
    return "hsl(".concat(t, ",").concat(e, "%,").concat(A, "%)");
  }
  toHsla() {
    const [t, e, A, r] = Kg(...this.getSource());
    return "hsla(".concat(t, ",").concat(e, "%,").concat(A, "%,").concat(r, ")");
  }
  toHex() {
    return this.toHexa().slice(0, 6);
  }
  toHexa() {
    const [t, e, A, r] = this.getSource();
    return "".concat(co(t)).concat(co(e)).concat(co(A)).concat(co(Math.round(255 * r)));
  }
  getAlpha() {
    return this.getSource()[3];
  }
  setAlpha(t) {
    return this._source[3] = t, this;
  }
  toGrayscale() {
    return this.setSource(jg(this.getSource())), this;
  }
  toBlackWhite(t) {
    const [e, , , A] = jg(this.getSource()), r = e < (t || 127) ? 0 : 255;
    return this.setSource([r, r, r, A]), this;
  }
  overlayWith(t) {
    t instanceof Et || (t = new Et(t));
    const e = this.getSource(), A = t.getSource(), [r, n, i] = e.map((o, a) => Math.round(0.5 * o + 0.5 * A[a]));
    return this.setSource([r, n, i, e[3]]), this;
  }
  static fromRgb(t) {
    return Et.fromRgba(t);
  }
  static fromRgba(t) {
    return new Et(Et.sourceFromRgb(t));
  }
  static sourceFromRgb(t) {
    const e = t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);
    if (e) {
      const [A, r, n] = e.slice(1, 4).map((i) => {
        const o = parseFloat(i);
        return i.endsWith("%") ? Math.round(2.55 * o) : o;
      });
      return [A, r, n, Ng(e[4])];
    }
  }
  static fromHsl(t) {
    return Et.fromHsla(t);
  }
  static fromHsla(t) {
    return new Et(Et.sourceFromHsl(t));
  }
  static sourceFromHsl(t) {
    const e = t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);
    if (!e) return;
    const A = (Et.parseAngletoDegrees(e[1]) % 360 + 360) % 360 / 360, r = parseFloat(e[2]) / 100, n = parseFloat(e[3]) / 100;
    let i, o, a;
    if (r === 0) i = o = a = n;
    else {
      const c = n <= 0.5 ? n * (r + 1) : n + r - n * r, l = 2 * n - c;
      i = Fl(l, c, A + 1 / 3), o = Fl(l, c, A), a = Fl(l, c, A - 1 / 3);
    }
    return [Math.round(255 * i), Math.round(255 * o), Math.round(255 * a), Ng(e[4])];
  }
  static fromHex(t) {
    return new Et(Et.sourceFromHex(t));
  }
  static sourceFromHex(t) {
    if (t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)) {
      const e = t.slice(t.indexOf("#") + 1);
      let A;
      A = e.length <= 4 ? e.split("").map((a) => a + a) : e.match(/.{2}/g);
      const [r, n, i, o = 255] = A.map((a) => parseInt(a, 16));
      return [r, n, i, o / 255];
    }
  }
  static parseAngletoDegrees(t) {
    const e = t.toLowerCase(), A = parseFloat(e);
    return e.includes("rad") ? nr(A) : e.includes("turn") ? 360 * A : A;
  }
}
const Wt = (s, t) => parseFloat(Number(s).toFixed(t)), Vr = function(s) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Uu;
  const e = /\D{0,2}$/.exec(s), A = parseFloat(s), r = kt.DPI;
  switch (e == null ? void 0 : e[0]) {
    case "mm":
      return A * r / 25.4;
    case "cm":
      return A * r / 2.54;
    case "in":
      return A * r;
    case "pt":
      return A * r / 72;
    case "pc":
      return A * r / 72 * 12;
    case "em":
      return A * t;
    default:
      return A;
  }
}, rc = (s) => "matrix(" + s.map((t) => Wt(t, kt.NUM_FRACTION_DIGITS)).join(" ") + ")", wi = function(s, t) {
  let e, A, r = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2];
  if (t) if (t.toLive) e = "url(#SVGID_".concat(t.id, ")");
  else {
    const n = new Et(t), i = n.getAlpha();
    e = n.toRgb(), i !== 1 && (A = i.toString());
  }
  else e = "none";
  return r ? "".concat(s, ": ").concat(e, "; ").concat(A ? "".concat(s, "-opacity: ").concat(A, "; ") : "") : "".concat(s, '="').concat(e, '" ').concat(A ? "".concat(s, '-opacity="').concat(A, '" ') : "");
}, sA = (s) => !!s && s.toLive !== void 0, Vg = (s) => !!s && typeof s.toObject == "function", Gg = (s) => !!s && s.offsetX !== void 0 && "source" in s, Vs = (s) => !!s && "multiSelectionStacking" in s;
function l2(s) {
  const t = s && pA(s);
  let e = 0, A = 0;
  if (!s || !t) return { left: e, top: A };
  let r = s;
  const n = t.documentElement, i = t.body || { scrollLeft: 0, scrollTop: 0 };
  for (; r && (r.parentNode || r.host) && (r = r.parentNode || r.host, r === t ? (e = i.scrollLeft || n.scrollLeft || 0, A = i.scrollTop || n.scrollTop || 0) : (e += r.scrollLeft || 0, A += r.scrollTop || 0), r.nodeType !== 1 || r.style.position !== "fixed"); ) ;
  return { left: e, top: A };
}
const pA = (s) => s.ownerDocument || null, h2 = (s) => {
  var t;
  return ((t = s.ownerDocument) === null || t === void 0 ? void 0 : t.defaultView) || null;
}, d2 = function(s, t, e) {
  let { width: A, height: r } = e, n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;
  s.width = A, s.height = r, n > 1 && (s.setAttribute("width", (A * n).toString()), s.setAttribute("height", (r * n).toString()), t.scale(n, n));
}, Yh = (s, t) => {
  let { width: e, height: A } = t;
  e && (s.style.width = typeof e == "number" ? "".concat(e, "px") : e), A && (s.style.height = typeof A == "number" ? "".concat(A, "px") : A);
};
function Wg(s) {
  return s.onselectstart !== void 0 && (s.onselectstart = () => !1), s.style.userSelect = Le, s;
}
class u2 {
  constructor(t) {
    k(this, "_originalCanvasStyle", void 0), k(this, "lower", void 0);
    const e = this.createLowerCanvas(t);
    this.lower = { el: e, ctx: e.getContext("2d") };
  }
  createLowerCanvas(t) {
    const e = (A = t) && A.getContext !== void 0 ? t : t && sn().getElementById(t) || BA();
    var A;
    if (e.hasAttribute("data-fabric")) throw new UA("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");
    return this._originalCanvasStyle = e.style.cssText, e.setAttribute("data-fabric", "main"), e.classList.add("lower-canvas"), e;
  }
  cleanupDOM(t) {
    let { width: e, height: A } = t;
    const { el: r } = this.lower;
    r.classList.remove("lower-canvas"), r.removeAttribute("data-fabric"), r.setAttribute("width", "".concat(e)), r.setAttribute("height", "".concat(A)), r.style.cssText = this._originalCanvasStyle || "", this._originalCanvasStyle = void 0;
  }
  setDimensions(t, e) {
    const { el: A, ctx: r } = this.lower;
    d2(A, r, t, e);
  }
  setCSSDimensions(t) {
    Yh(this.lower.el, t);
  }
  calcOffset() {
    return function(t) {
      var e;
      const A = t && pA(t), r = { left: 0, top: 0 };
      if (!A) return r;
      const n = ((e = h2(t)) === null || e === void 0 ? void 0 : e.getComputedStyle(t, null)) || {};
      r.left += parseInt(n.borderLeftWidth, 10) || 0, r.top += parseInt(n.borderTopWidth, 10) || 0, r.left += parseInt(n.paddingLeft, 10) || 0, r.top += parseInt(n.paddingTop, 10) || 0;
      let i = { left: 0, top: 0 };
      const o = A.documentElement;
      t.getBoundingClientRect !== void 0 && (i = t.getBoundingClientRect());
      const a = l2(t);
      return { left: i.left + a.left - (o.clientLeft || 0) + r.left, top: i.top + a.top - (o.clientTop || 0) + r.top };
    }(this.lower.el);
  }
  dispose() {
    RA().dispose(this.lower.el), delete this.lower;
  }
}
const xk = { backgroundVpt: !0, backgroundColor: "", overlayVpt: !0, overlayColor: "", includeDefaultValues: !0, svgViewportTransformation: !0, renderOnAddRemove: !0, skipOffscreen: !0, enableRetinaScaling: !0, imageSmoothingEnabled: !0, controlsAboveOverlay: !1, allowTouchScrolling: !1, viewportTransform: [...Ue] };
class Di extends A2(s2) {
  get lowerCanvasEl() {
    var t;
    return (t = this.elements.lower) === null || t === void 0 ? void 0 : t.el;
  }
  get contextContainer() {
    var t;
    return (t = this.elements.lower) === null || t === void 0 ? void 0 : t.ctx;
  }
  static getDefaults() {
    return Di.ownDefaults;
  }
  constructor(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(), Object.assign(this, this.constructor.getDefaults()), this.set(e), this.initElements(t), this._setDimensionsImpl({ width: this.width || this.elements.lower.el.width || 0, height: this.height || this.elements.lower.el.height || 0 }), this.skipControlsDrawing = !1, this.viewportTransform = [...this.viewportTransform], this.calcViewportBoundaries();
  }
  initElements(t) {
    this.elements = new u2(t);
  }
  add() {
    const t = super.add(...arguments);
    return arguments.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), t;
  }
  insertAt(t) {
    for (var e = arguments.length, A = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) A[r - 1] = arguments[r];
    const n = super.insertAt(t, ...A);
    return A.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), n;
  }
  remove() {
    const t = super.remove(...arguments);
    return t.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), t;
  }
  _onObjectAdded(t) {
    t.canvas && t.canvas !== this && (_s("warn", `Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`), t.canvas.remove(t)), t._set("canvas", this), t.setCoords(), this.fire("object:added", { target: t }), t.fire("added", { target: this });
  }
  _onObjectRemoved(t) {
    t._set("canvas", void 0), this.fire("object:removed", { target: t }), t.fire("removed", { target: this });
  }
  _onStackOrderChanged() {
    this.renderOnAddRemove && this.requestRenderAll();
  }
  getRetinaScaling() {
    return this.enableRetinaScaling ? qw() : 1;
  }
  calcOffset() {
    return this._offset = this.elements.calcOffset();
  }
  getWidth() {
    return this.width;
  }
  getHeight() {
    return this.height;
  }
  setWidth(t, e) {
    return this.setDimensions({ width: t }, e);
  }
  setHeight(t, e) {
    return this.setDimensions({ height: t }, e);
  }
  _setDimensionsImpl(t) {
    let { cssOnly: e = !1, backstoreOnly: A = !1 } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (!e) {
      const r = x({ width: this.width, height: this.height }, t);
      this.elements.setDimensions(r, this.getRetinaScaling()), this.hasLostContext = !0, this.width = r.width, this.height = r.height;
    }
    A || this.elements.setCSSDimensions(t), this.calcOffset();
  }
  setDimensions(t, e) {
    this._setDimensionsImpl(t, e), e && e.cssOnly || this.requestRenderAll();
  }
  getZoom() {
    return this.viewportTransform[0];
  }
  setViewportTransform(t) {
    this.viewportTransform = t, this.calcViewportBoundaries(), this.renderOnAddRemove && this.requestRenderAll();
  }
  zoomToPoint(t, e) {
    const A = t, r = [...this.viewportTransform], n = _e(t, mA(r));
    r[0] = e, r[3] = e;
    const i = _e(n, r);
    r[4] += A.x - i.x, r[5] += A.y - i.y, this.setViewportTransform(r);
  }
  setZoom(t) {
    this.zoomToPoint(new U(0, 0), t);
  }
  absolutePan(t) {
    const e = [...this.viewportTransform];
    return e[4] = -t.x, e[5] = -t.y, this.setViewportTransform(e);
  }
  relativePan(t) {
    return this.absolutePan(new U(-t.x - this.viewportTransform[4], -t.y - this.viewportTransform[5]));
  }
  getElement() {
    return this.elements.lower.el;
  }
  clearContext(t) {
    t.clearRect(0, 0, this.width, this.height);
  }
  getContext() {
    return this.elements.lower.ctx;
  }
  clear() {
    this.remove(...this.getObjects()), this.backgroundImage = void 0, this.overlayImage = void 0, this.backgroundColor = "", this.overlayColor = "", this.clearContext(this.getContext()), this.fire("canvas:cleared"), this.renderOnAddRemove && this.requestRenderAll();
  }
  renderAll() {
    this.cancelRequestedRender(), this.destroyed || this.renderCanvas(this.getContext(), this._objects);
  }
  renderAndReset() {
    this.nextRenderHandle = 0, this.renderAll();
  }
  requestRenderAll() {
    this.nextRenderHandle || this.disposed || this.destroyed || (this.nextRenderHandle = aa(() => this.renderAndReset()));
  }
  calcViewportBoundaries() {
    const t = this.width, e = this.height, A = mA(this.viewportTransform), r = _e({ x: 0, y: 0 }, A), n = _e({ x: t, y: e }, A), i = r.min(n), o = r.max(n);
    return this.vptCoords = { tl: i, tr: new U(o.x, i.y), bl: new U(i.x, o.y), br: o };
  }
  cancelRequestedRender() {
    this.nextRenderHandle && (function(t) {
      Fu().cancelAnimationFrame(t);
    }(this.nextRenderHandle), this.nextRenderHandle = 0);
  }
  drawControls(t) {
  }
  renderCanvas(t, e) {
    if (this.destroyed) return;
    const A = this.viewportTransform, r = this.clipPath;
    this.calcViewportBoundaries(), this.clearContext(t), t.imageSmoothingEnabled = this.imageSmoothingEnabled, t.patternQuality = "best", this.fire("before:render", { ctx: t }), this._renderBackground(t), t.save(), t.transform(A[0], A[1], A[2], A[3], A[4], A[5]), this._renderObjects(t, e), t.restore(), this.controlsAboveOverlay || this.skipControlsDrawing || this.drawControls(t), r && (r._set("canvas", this), r.shouldCache(), r._transformDone = !0, r.renderCache({ forClipping: !0 }), this.drawClipPathOnCanvas(t, r)), this._renderOverlay(t), this.controlsAboveOverlay && !this.skipControlsDrawing && this.drawControls(t), this.fire("after:render", { ctx: t }), this.__cleanupTask && (this.__cleanupTask(), this.__cleanupTask = void 0);
  }
  drawClipPathOnCanvas(t, e) {
    const A = this.viewportTransform;
    t.save(), t.transform(...A), t.globalCompositeOperation = "destination-in", e.transform(t), t.scale(1 / e.zoomX, 1 / e.zoomY), t.drawImage(e._cacheCanvas, -e.cacheTranslationX, -e.cacheTranslationY), t.restore();
  }
  _renderObjects(t, e) {
    for (let A = 0, r = e.length; A < r; ++A) e[A] && e[A].render(t);
  }
  _renderBackgroundOrOverlay(t, e) {
    const A = this["".concat(e, "Color")], r = this["".concat(e, "Image")], n = this.viewportTransform, i = this["".concat(e, "Vpt")];
    if (!A && !r) return;
    const o = sA(A);
    if (A) {
      if (t.save(), t.beginPath(), t.moveTo(0, 0), t.lineTo(this.width, 0), t.lineTo(this.width, this.height), t.lineTo(0, this.height), t.closePath(), t.fillStyle = o ? A.toLive(t) : A, i && t.transform(...n), o) {
        t.transform(1, 0, 0, 1, A.offsetX || 0, A.offsetY || 0);
        const a = A.gradientTransform || A.patternTransform;
        a && t.transform(...a);
      }
      t.fill(), t.restore();
    }
    if (r) {
      t.save();
      const { skipOffscreen: a } = this;
      this.skipOffscreen = i, i && t.transform(...n), r.render(t), this.skipOffscreen = a, t.restore();
    }
  }
  _renderBackground(t) {
    this._renderBackgroundOrOverlay(t, "background");
  }
  _renderOverlay(t) {
    this._renderBackgroundOrOverlay(t, "overlay");
  }
  getCenter() {
    return { top: this.height / 2, left: this.width / 2 };
  }
  getCenterPoint() {
    return new U(this.width / 2, this.height / 2);
  }
  centerObjectH(t) {
    return this._centerObject(t, new U(this.getCenterPoint().x, t.getCenterPoint().y));
  }
  centerObjectV(t) {
    return this._centerObject(t, new U(t.getCenterPoint().x, this.getCenterPoint().y));
  }
  centerObject(t) {
    return this._centerObject(t, this.getCenterPoint());
  }
  viewportCenterObject(t) {
    return this._centerObject(t, this.getVpCenter());
  }
  viewportCenterObjectH(t) {
    return this._centerObject(t, new U(this.getVpCenter().x, t.getCenterPoint().y));
  }
  viewportCenterObjectV(t) {
    return this._centerObject(t, new U(t.getCenterPoint().x, this.getVpCenter().y));
  }
  getVpCenter() {
    return _e(this.getCenterPoint(), mA(this.viewportTransform));
  }
  _centerObject(t, e) {
    t.setXY(e, dt, dt), t.setCoords(), this.renderOnAddRemove && this.requestRenderAll();
  }
  toDatalessJSON(t) {
    return this.toDatalessObject(t);
  }
  toObject(t) {
    return this._toObjectMethod("toObject", t);
  }
  toJSON() {
    return this.toObject();
  }
  toDatalessObject(t) {
    return this._toObjectMethod("toDatalessObject", t);
  }
  _toObjectMethod(t, e) {
    const A = this.clipPath, r = A && !A.excludeFromExport ? this._toObject(A, t, e) : null;
    return x(x(x({ version: Gh }, on(this, e)), {}, { objects: this._objects.filter((n) => !n.excludeFromExport).map((n) => this._toObject(n, t, e)) }, this.__serializeBgOverlay(t, e)), r ? { clipPath: r } : null);
  }
  _toObject(t, e, A) {
    let r;
    this.includeDefaultValues || (r = t.includeDefaultValues, t.includeDefaultValues = !1);
    const n = t[e](A);
    return this.includeDefaultValues || (t.includeDefaultValues = !!r), n;
  }
  __serializeBgOverlay(t, e) {
    const A = {}, r = this.backgroundImage, n = this.overlayImage, i = this.backgroundColor, o = this.overlayColor;
    return sA(i) ? i.excludeFromExport || (A.background = i.toObject(e)) : i && (A.background = i), sA(o) ? o.excludeFromExport || (A.overlay = o.toObject(e)) : o && (A.overlay = o), r && !r.excludeFromExport && (A.backgroundImage = this._toObject(r, t, e)), n && !n.excludeFromExport && (A.overlayImage = this._toObject(n, t, e)), A;
  }
  toSVG() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, e = arguments.length > 1 ? arguments[1] : void 0;
    t.reviver = e;
    const A = [];
    return this._setSVGPreamble(A, t), this._setSVGHeader(A, t), this.clipPath && A.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId, `)" >
`)), this._setSVGBgOverlayColor(A, "background"), this._setSVGBgOverlayImage(A, "backgroundImage", e), this._setSVGObjects(A, e), this.clipPath && A.push(`</g>
`), this._setSVGBgOverlayColor(A, "overlay"), this._setSVGBgOverlayImage(A, "overlayImage", e), A.push("</svg>"), A.join("");
  }
  _setSVGPreamble(t, e) {
    e.suppressPreamble || t.push('<?xml version="1.0" encoding="', e.encoding || "UTF-8", `" standalone="no" ?>
`, '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ', `"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`);
  }
  _setSVGHeader(t, e) {
    const A = e.width || "".concat(this.width), r = e.height || "".concat(this.height), n = kt.NUM_FRACTION_DIGITS, i = e.viewBox;
    let o;
    if (i) o = 'viewBox="'.concat(i.x, " ").concat(i.y, " ").concat(i.width, " ").concat(i.height, '" ');
    else if (this.svgViewportTransformation) {
      const a = this.viewportTransform;
      o = 'viewBox="'.concat(Wt(-a[4] / a[0], n), " ").concat(Wt(-a[5] / a[3], n), " ").concat(Wt(this.width / a[0], n), " ").concat(Wt(this.height / a[3], n), '" ');
    } else o = 'viewBox="0 0 '.concat(this.width, " ").concat(this.height, '" ');
    t.push("<svg ", 'xmlns="http://www.w3.org/2000/svg" ', 'xmlns:xlink="http://www.w3.org/1999/xlink" ', 'version="1.1" ', 'width="', A, '" ', 'height="', r, '" ', o, `xml:space="preserve">
`, "<desc>Created with Fabric.js ", Gh, `</desc>
`, `<defs>
`, this.createSVGFontFacesMarkup(), this.createSVGRefElementsMarkup(), this.createSVGClipPathMarkup(e), `</defs>
`);
  }
  createSVGClipPathMarkup(t) {
    const e = this.clipPath;
    return e ? (e.clipPathId = "CLIPPATH_".concat(Os()), '<clipPath id="'.concat(e.clipPathId, `" >
`).concat(e.toClipPathSVG(t.reviver), `</clipPath>
`)) : "";
  }
  createSVGRefElementsMarkup() {
    return ["background", "overlay"].map((t) => {
      const e = this["".concat(t, "Color")];
      if (sA(e)) {
        const A = this["".concat(t, "Vpt")], r = this.viewportTransform, n = { isType: () => !1, width: this.width / (A ? r[0] : 1), height: this.height / (A ? r[3] : 1) };
        return e.toSVG(n, { additionalTransform: A ? rc(r) : "" });
      }
    }).join("");
  }
  createSVGFontFacesMarkup() {
    const t = [], e = {}, A = kt.fontPaths;
    this._objects.forEach(function n(i) {
      t.push(i), oa(i) && i._objects.forEach(n);
    }), t.forEach((n) => {
      if (!(i = n) || typeof i._renderText != "function") return;
      var i;
      const { styles: o, fontFamily: a } = n;
      !e[a] && A[a] && (e[a] = !0, o && Object.values(o).forEach((c) => {
        Object.values(c).forEach((l) => {
          let { fontFamily: h = "" } = l;
          !e[h] && A[h] && (e[h] = !0);
        });
      }));
    });
    const r = Object.keys(e).map((n) => `		@font-face {
			font-family: '`.concat(n, `';
			src: url('`).concat(A[n], `');
		}
`)).join("");
    return r ? `	<style type="text/css"><![CDATA[
`.concat(r, `]]></style>
`) : "";
  }
  _setSVGObjects(t, e) {
    this.forEachObject((A) => {
      A.excludeFromExport || this._setSVGObject(t, A, e);
    });
  }
  _setSVGObject(t, e, A) {
    t.push(e.toSVG(A));
  }
  _setSVGBgOverlayImage(t, e, A) {
    const r = this[e];
    r && !r.excludeFromExport && r.toSVG && t.push(r.toSVG(A));
  }
  _setSVGBgOverlayColor(t, e) {
    const A = this["".concat(e, "Color")];
    if (A) if (sA(A)) {
      const r = A.repeat || "", n = this.width, i = this.height, o = this["".concat(e, "Vpt")] ? rc(mA(this.viewportTransform)) : "";
      t.push('<rect transform="'.concat(o, " translate(").concat(n / 2, ",").concat(i / 2, ')" x="').concat(A.offsetX - n / 2, '" y="').concat(A.offsetY - i / 2, '" width="').concat(r !== "repeat-y" && r !== "no-repeat" || !Gg(A) ? n : A.source.width, '" height="').concat(r !== "repeat-x" && r !== "no-repeat" || !Gg(A) ? i : A.source.height, '" fill="url(#SVGID_').concat(A.id, `)"></rect>
`));
    } else t.push('<rect x="0" y="0" width="100%" height="100%" ', 'fill="', A, '"', `></rect>
`);
  }
  loadFromJSON(t, e) {
    let { signal: A } = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    if (!t) return Promise.reject(new UA("`json` is undefined"));
    const r = typeof t == "string" ? JSON.parse(t) : t, { objects: n = [], backgroundImage: i, background: o, overlayImage: a, overlay: c, clipPath: l } = r, h = this.renderOnAddRemove;
    return this.renderOnAddRemove = !1, Promise.all([mi(n, { reviver: e, signal: A }), Gc({ backgroundImage: i, backgroundColor: o, overlayImage: a, overlayColor: c, clipPath: l }, { signal: A })]).then((d) => {
      let [u, p] = d;
      return this.clear(), this.add(...u), this.set(r), this.set(p), this.renderOnAddRemove = h, this;
    });
  }
  clone(t) {
    const e = this.toObject(t);
    return this.cloneWithoutData().loadFromJSON(e);
  }
  cloneWithoutData() {
    const t = HA(this);
    return new this.constructor(t);
  }
  toDataURL() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const { format: e = "png", quality: A = 1, multiplier: r = 1, enableRetinaScaling: n = !1 } = t, i = r * (n ? this.getRetinaScaling() : 1);
    return r2(this.toCanvasElement(i, t), e, A);
  }
  toBlob() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const { format: e = "png", quality: A = 1, multiplier: r = 1, enableRetinaScaling: n = !1 } = t, i = r * (n ? this.getRetinaScaling() : 1);
    return n2(this.toCanvasElement(i, t), e, A);
  }
  toCanvasElement() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, { width: e, height: A, left: r, top: n, filter: i } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const o = (e || this.width) * t, a = (A || this.height) * t, c = this.getZoom(), l = this.width, h = this.height, d = this.skipControlsDrawing, u = c * t, p = this.viewportTransform, g = [u, 0, 0, u, (p[4] - (r || 0)) * t, (p[5] - (n || 0)) * t], m = this.enableRetinaScaling, f = HA({ width: o, height: a }), w = i ? this._objects.filter((B) => i(B)) : this._objects;
    return this.enableRetinaScaling = !1, this.viewportTransform = g, this.width = o, this.height = a, this.skipControlsDrawing = !0, this.calcViewportBoundaries(), this.renderCanvas(f.getContext("2d"), w), this.viewportTransform = p, this.width = l, this.height = h, this.calcViewportBoundaries(), this.enableRetinaScaling = m, this.skipControlsDrawing = d, f;
  }
  dispose() {
    return !this.disposed && this.elements.cleanupDOM({ width: this.width, height: this.height }), Ac.cancelByCanvas(this), this.disposed = !0, new Promise((t, e) => {
      const A = () => {
        this.destroy(), t(!0);
      };
      A.kill = e, this.__cleanupTask && this.__cleanupTask.kill("aborted"), this.destroyed ? t(!1) : this.nextRenderHandle ? this.__cleanupTask = A : A();
    });
  }
  destroy() {
    this.destroyed = !0, this.cancelRequestedRender(), this.forEachObject((t) => t.dispose()), this._objects = [], this.backgroundImage && this.backgroundImage.dispose(), this.backgroundImage = void 0, this.overlayImage && this.overlayImage.dispose(), this.overlayImage = void 0, this.elements.dispose();
  }
  toString() {
    return "#<Canvas (".concat(this.complexity(), "): { objects: ").concat(this._objects.length, " }>");
  }
}
k(Di, "ownDefaults", xk);
const Sk = ["touchstart", "touchmove", "touchend"], Jh = (s) => Sk.includes(s.type) || s.pointerType === "touch", Xh = (s) => {
  s.preventDefault(), s.stopPropagation();
}, As = (s) => {
  let t = 0, e = 0, A = 0, r = 0;
  for (let n = 0, i = s.length; n < i; n++) {
    const { x: o, y: a } = s[n];
    (o > A || !n) && (A = o), (o < t || !n) && (t = o), (a > r || !n) && (r = a), (a < e || !n) && (e = a);
  }
  return { left: t, top: e, width: A - t, height: r - e };
}, Ek = ["translateX", "translateY", "scaleX", "scaleY"], nc = (s, t) => {
  const e = sc(t), { translateX: A, translateY: r, scaleX: n, scaleY: i } = e, o = Vt(e, Ek), a = new U(A, r);
  s.flipX = !1, s.flipY = !1, Object.assign(s, o), s.set({ scaleX: n, scaleY: i }), s.setPositionByOrigin(a, dt, dt);
}, p2 = (s) => ({ scaleX: s.scaleX, scaleY: s.scaleY, skewX: s.skewX, skewY: s.skewY, angle: s.angle, left: s.left, flipX: s.flipX, flipY: s.flipY, top: s.top }), Du = (s, t, e) => {
  const A = s / 2, r = t / 2, n = [new U(-A, -r), new U(A, -r), new U(-A, r), new U(A, r)].map((o) => o.transform(e)), i = As(n);
  return new U(i.width, i.height);
}, ic = function() {
  let s = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Ue;
  return me(mA(arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ue), s);
}, Gr = function(s) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ue, e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Ue;
  return s.transform(ic(t, e));
}, g2 = (s, t) => {
  var e;
  const { transform: { target: A } } = t;
  (e = A.canvas) === null || e === void 0 || e.fire("object:".concat(s), x(x({}, t), {}, { target: A })), A.fire(s, t);
}, Fk = { left: -0.5, top: -0.5, center: 0, bottom: 0.5, right: 0.5 }, se = (s) => typeof s == "string" ? Fk[s] : s - 0.5, oc = "not-allowed";
function f2(s) {
  return se(s.originX) === se(dt) && se(s.originY) === se(dt);
}
function Yg(s) {
  return 0.5 - se(s);
}
const wA = (s, t) => s[t], m2 = (s, t, e, A) => ({ e: s, transform: t, pointer: new U(e, A) });
function w2(s, t) {
  const e = s.getTotalAngle() + nr(Math.atan2(t.y, t.x)) + 360;
  return Math.round(e % 360 / 45);
}
function Ru(s, t, e, A, r) {
  var n;
  let { target: i, corner: o } = s;
  const a = i.controls[o], c = ((n = i.canvas) === null || n === void 0 ? void 0 : n.getZoom()) || 1, l = i.padding / c, h = function(d, u, p, g) {
    const m = d.getRelativeCenterPoint(), f = p !== void 0 && g !== void 0 ? d.translateToGivenOrigin(m, dt, dt, p, g) : new U(d.left, d.top);
    return (d.angle ? u.rotate(-$t(d.angle), m) : u).subtract(f);
  }(i, new U(A, r), t, e);
  return h.x >= l && (h.x -= l), h.x <= -l && (h.x += l), h.y >= l && (h.y -= l), h.y <= l && (h.y += l), h.x -= a.offsetX, h.y -= a.offsetY, h;
}
const Qk = (s, t, e, A) => {
  const { target: r, offsetX: n, offsetY: i } = t, o = e - n, a = A - i, c = !wA(r, "lockMovementX") && r.left !== o, l = !wA(r, "lockMovementY") && r.top !== a;
  return c && r.set(Ft, o), l && r.set(Re, a), (c || l) && g2($w, m2(s, t, e, A)), c || l;
};
class B2 {
  getSvgStyles(t) {
    const e = this.fillRule ? this.fillRule : "nonzero", A = this.strokeWidth ? this.strokeWidth : "0", r = this.strokeDashArray ? this.strokeDashArray.join(" ") : Le, n = this.strokeDashOffset ? this.strokeDashOffset : "0", i = this.strokeLineCap ? this.strokeLineCap : "butt", o = this.strokeLineJoin ? this.strokeLineJoin : "miter", a = this.strokeMiterLimit ? this.strokeMiterLimit : "4", c = this.opacity !== void 0 ? this.opacity : "1", l = this.visible ? "" : " visibility: hidden;", h = t ? "" : this.getSvgFilter(), d = wi(ae, this.fill);
    return [wi(He, this.stroke), "stroke-width: ", A, "; ", "stroke-dasharray: ", r, "; ", "stroke-linecap: ", i, "; ", "stroke-dashoffset: ", n, "; ", "stroke-linejoin: ", o, "; ", "stroke-miterlimit: ", a, "; ", d, "fill-rule: ", e, "; ", "opacity: ", c, ";", h, l].join("");
  }
  getSvgFilter() {
    return this.shadow ? "filter: url(#SVGID_".concat(this.shadow.id, ");") : "";
  }
  getSvgCommons() {
    return [this.id ? 'id="'.concat(this.id, '" ') : "", this.clipPath ? 'clip-path="url(#'.concat(this.clipPath.clipPathId, ')" ') : ""].join("");
  }
  getSvgTransform(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    const A = t ? this.calcTransformMatrix() : this.calcOwnMatrix(), r = 'transform="'.concat(rc(A));
    return "".concat(r).concat(e, '" ');
  }
  _toSVG(t) {
    return [""];
  }
  toSVG(t) {
    return this._createBaseSVGMarkup(this._toSVG(t), { reviver: t });
  }
  toClipPathSVG(t) {
    return "	" + this._createBaseClipPathSVGMarkup(this._toSVG(t), { reviver: t });
  }
  _createBaseClipPathSVGMarkup(t) {
    let { reviver: e, additionalTransform: A = "" } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const r = [this.getSvgTransform(!0, A), this.getSvgCommons()].join(""), n = t.indexOf("COMMON_PARTS");
    return t[n] = r, e ? e(t.join("")) : t.join("");
  }
  _createBaseSVGMarkup(t) {
    let { noStyle: e, reviver: A, withShadow: r, additionalTransform: n } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const i = e ? "" : 'style="'.concat(this.getSvgStyles(), '" '), o = r ? 'style="'.concat(this.getSvgFilter(), '" ') : "", a = this.clipPath, c = this.strokeUniform ? 'vector-effect="non-scaling-stroke" ' : "", l = a && a.absolutePositioned, h = this.stroke, d = this.fill, u = this.shadow, p = [], g = t.indexOf("COMMON_PARTS");
    let m;
    a && (a.clipPathId = "CLIPPATH_".concat(Os()), m = '<clipPath id="'.concat(a.clipPathId, `" >
`).concat(a.toClipPathSVG(A), `</clipPath>
`)), l && p.push("<g ", o, this.getSvgCommons(), ` >
`), p.push("<g ", this.getSvgTransform(!1), l ? "" : o + this.getSvgCommons(), ` >
`);
    const f = [i, c, e ? "" : this.addPaintOrder(), " ", n ? 'transform="'.concat(n, '" ') : ""].join("");
    return t[g] = f, sA(d) && p.push(d.toSVG(this)), sA(h) && p.push(h.toSVG(this)), u && p.push(u.toSVG(this)), a && p.push(m), p.push(t.join("")), p.push(`</g>
`), l && p.push(`</g>
`), A ? A(p.join("")) : p.join("");
  }
  addPaintOrder() {
    return this.paintFirst !== ae ? ' paint-order="'.concat(this.paintFirst, '" ') : "";
  }
}
function ac(s) {
  return new RegExp("^(" + s.join("|") + ")\\b", "i");
}
var Jg;
const ir = String.raw(Jg || (Jg = Ms(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"], ["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))), Uk = new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" + ir + "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" + ir + "))?\\s+(.*)"), Ik = { cx: Ft, x: Ft, r: "radius", cy: Re, y: Re, display: "visible", visibility: "visible", transform: "transformMatrix", "fill-opacity": "fillOpacity", "fill-rule": "fillRule", "font-family": "fontFamily", "font-size": "fontSize", "font-style": "fontStyle", "font-weight": "fontWeight", "letter-spacing": "charSpacing", "paint-order": "paintFirst", "stroke-dasharray": "strokeDashArray", "stroke-dashoffset": "strokeDashOffset", "stroke-linecap": "strokeLineCap", "stroke-linejoin": "strokeLineJoin", "stroke-miterlimit": "strokeMiterLimit", "stroke-opacity": "strokeOpacity", "stroke-width": "strokeWidth", "text-decoration": "textDecoration", "text-anchor": "textAnchor", opacity: "opacity", "clip-path": "clipPath", "clip-rule": "clipRule", "vector-effect": "strokeUniform", "image-rendering": "imageSmoothing" }, Ql = "font-size", Ul = "clip-path";
ac(["path", "circle", "polygon", "polyline", "ellipse", "rect", "line", "image", "text"]), ac(["symbol", "image", "marker", "pattern", "view", "svg"]);
const Xg = ac(["symbol", "g", "a", "svg", "clipPath", "defs"]), Tk = new U(1, 0), y2 = new U(), C2 = (s, t) => s.rotate(t), zh = (s, t) => new U(t).subtract(s), Zh = (s) => s.distanceFrom(y2), Il = (s, t) => Math.atan2(ii(s, t), _k(s, t)), Hu = (s) => s.eq(y2) ? s : s.scalarDivide(Zh(s)), b2 = function(s) {
  let t = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
  return Hu(new U(-s.y, s.x).scalarMultiply(t ? 1 : -1));
}, ii = (s, t) => s.x * t.y - s.y * t.x, _k = (s, t) => s.x * t.x + s.y * t.y, zg = (s, t, e) => {
  if (s.eq(t) || s.eq(e)) return !0;
  const A = ii(t, e), r = ii(t, s), n = ii(e, s);
  return A >= 0 ? r >= 0 && n <= 0 : !(r <= 0 && n >= 0);
}, Zg = "(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?", qg = new RegExp("(?:\\s|^)" + Zg + Zg + "(" + ir + "?(?:px)?)?(?:\\s?|$)(?:$|\\s)");
class OA {
  constructor(t) {
    const e = typeof t == "string" ? OA.parseShadow(t) : t;
    Object.assign(this, OA.ownDefaults, e), this.id = Os();
  }
  static parseShadow(t) {
    const e = t.trim(), [, A = 0, r = 0, n = 0] = (qg.exec(e) || []).map((i) => parseFloat(i) || 0);
    return { color: (e.replace(qg, "") || "rgb(0,0,0)").trim(), offsetX: A, offsetY: r, blur: n };
  }
  toString() {
    return [this.offsetX, this.offsetY, this.blur, this.color].join("px ");
  }
  toSVG(t) {
    const e = C2(new U(this.offsetX, this.offsetY), $t(-t.angle)), A = new Et(this.color);
    let r = 40, n = 40;
    return t.width && t.height && (r = 100 * Wt((Math.abs(e.x) + this.blur) / t.width, kt.NUM_FRACTION_DIGITS) + 20, n = 100 * Wt((Math.abs(e.y) + this.blur) / t.height, kt.NUM_FRACTION_DIGITS) + 20), t.flipX && (e.x *= -1), t.flipY && (e.y *= -1), '<filter id="SVGID_'.concat(this.id, '" y="-').concat(n, '%" height="').concat(100 + 2 * n, '%" x="-').concat(r, '%" width="').concat(100 + 2 * r, `%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Wt(this.blur ? this.blur / 2 : 0, kt.NUM_FRACTION_DIGITS), `"></feGaussianBlur>
	<feOffset dx="`).concat(Wt(e.x, kt.NUM_FRACTION_DIGITS), '" dy="').concat(Wt(e.y, kt.NUM_FRACTION_DIGITS), `" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(A.toRgb(), '" flood-opacity="').concat(A.getAlpha(), `"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`);
  }
  toObject() {
    const t = { color: this.color, blur: this.blur, offsetX: this.offsetX, offsetY: this.offsetY, affectStroke: this.affectStroke, nonScaling: this.nonScaling, type: this.constructor.type }, e = OA.ownDefaults;
    return this.includeDefaultValues ? t : Mu(t, (A, r) => A !== e[r]);
  }
  static async fromObject(t) {
    return new this(t);
  }
}
k(OA, "ownDefaults", { color: "rgb(0,0,0)", blur: 0, offsetX: 0, offsetY: 0, affectStroke: !1, includeDefaultValues: !0, nonScaling: !1 }), k(OA, "type", "shadow"), J.setClass(OA, "shadow");
const $r = (s, t, e) => Math.max(s, Math.min(t, e)), Ok = [Re, Ft, Ke, nA, "flipX", "flipY", "originX", "originY", "angle", "opacity", "globalCompositeOperation", "shadow", "visible", rn, nn], as = [ae, He, "strokeWidth", "strokeDashArray", "width", "height", "paintFirst", "strokeUniform", "strokeLineCap", "strokeDashOffset", "strokeLineJoin", "strokeMiterLimit", "backgroundColor", "clipPath"], Lk = { top: 0, left: 0, width: 0, height: 0, angle: 0, flipX: !1, flipY: !1, scaleX: 1, scaleY: 1, minScaleLimit: 0, skewX: 0, skewY: 0, originX: Ft, originY: Re, strokeWidth: 1, strokeUniform: !1, padding: 0, opacity: 1, paintFirst: ae, fill: "rgb(0,0,0)", fillRule: "nonzero", stroke: null, strokeDashArray: null, strokeDashOffset: 0, strokeLineCap: "butt", strokeLineJoin: "miter", strokeMiterLimit: 4, globalCompositeOperation: "source-over", backgroundColor: "", shadow: null, visible: !0, includeDefaultValues: !0, excludeFromExport: !1, objectCaching: !0, clipPath: void 0, inverted: !1, absolutePositioned: !1, centeredRotation: !0, centeredScaling: !1, dirty: !0 }, Mk = (s, t, e, A) => -e * Math.cos(s / A * Oi) + e + t, Dk = () => !1;
class Pu {
  constructor(t) {
    let { startValue: e, byValue: A, duration: r = 500, delay: n = 0, easing: i = Mk, onStart: o = ia, onChange: a = ia, onComplete: c = ia, abort: l = Dk, target: h } = t;
    k(this, "_state", "pending"), k(this, "durationProgress", 0), k(this, "valueProgress", 0), this.tick = this.tick.bind(this), this.duration = r, this.delay = n, this.easing = i, this._onStart = o, this._onChange = a, this._onComplete = c, this._abort = l, this.target = h, this.startValue = e, this.byValue = A, this.value = this.startValue, this.endValue = Object.freeze(this.calculate(this.duration).value);
  }
  get state() {
    return this._state;
  }
  isDone() {
    return this._state === "aborted" || this._state === "completed";
  }
  start() {
    const t = (e) => {
      this._state === "pending" && (this.startTime = e || +/* @__PURE__ */ new Date(), this._state = "running", this._onStart(), this.tick(this.startTime));
    };
    this.register(), this.delay > 0 ? setTimeout(() => aa(t), this.delay) : aa(t);
  }
  tick(t) {
    const e = (t || +/* @__PURE__ */ new Date()) - this.startTime, A = Math.min(e, this.duration);
    this.durationProgress = A / this.duration;
    const { value: r, valueProgress: n } = this.calculate(A);
    this.value = Object.freeze(r), this.valueProgress = n, this._state !== "aborted" && (this._abort(this.value, this.valueProgress, this.durationProgress) ? (this._state = "aborted", this.unregister()) : e >= this.duration ? (this.durationProgress = this.valueProgress = 1, this._onChange(this.endValue, this.valueProgress, this.durationProgress), this._state = "completed", this._onComplete(this.endValue, this.valueProgress, this.durationProgress), this.unregister()) : (this._onChange(this.value, this.valueProgress, this.durationProgress), aa(this.tick)));
  }
  register() {
    Ac.push(this);
  }
  unregister() {
    Ac.remove(this);
  }
  abort() {
    this._state = "aborted", this.unregister();
  }
}
const Rk = ["startValue", "endValue"];
class Hk extends Pu {
  constructor(t) {
    let { startValue: e = 0, endValue: A = 100 } = t;
    super(x(x({}, Vt(t, Rk)), {}, { startValue: e, byValue: A - e }));
  }
  calculate(t) {
    const e = this.easing(t, this.startValue, this.byValue, this.duration);
    return { value: e, valueProgress: Math.abs((e - this.startValue) / this.byValue) };
  }
}
const Pk = ["startValue", "endValue"];
class Kk extends Pu {
  constructor(t) {
    let { startValue: e = [0], endValue: A = [100] } = t;
    super(x(x({}, Vt(t, Pk)), {}, { startValue: e, byValue: A.map((r, n) => r - e[n]) }));
  }
  calculate(t) {
    const e = this.startValue.map((A, r) => this.easing(t, A, this.byValue[r], this.duration, r));
    return { value: e, valueProgress: Math.abs((e[0] - this.startValue[0]) / this.byValue[0]) };
  }
}
const Nk = ["startValue", "endValue", "easing", "onChange", "onComplete", "abort"], jk = (s, t, e, A) => t + e * (1 - Math.cos(s / A * Oi)), Tl = (s) => s && ((t, e, A) => s(new Et(t).toRgba(), e, A));
class Vk extends Pu {
  constructor(t) {
    let { startValue: e, endValue: A, easing: r = jk, onChange: n, onComplete: i, abort: o } = t, a = Vt(t, Nk);
    const c = new Et(e).getSource(), l = new Et(A).getSource();
    super(x(x({}, a), {}, { startValue: c, byValue: l.map((h, d) => h - c[d]), easing: r, onChange: Tl(n), onComplete: Tl(i), abort: Tl(o) }));
  }
  calculate(t) {
    const [e, A, r, n] = this.startValue.map((o, a) => this.easing(t, o, this.byValue[a], this.duration, a)), i = [...[e, A, r].map(Math.round), $r(0, n, 1)];
    return { value: i, valueProgress: i.map((o, a) => this.byValue[a] !== 0 ? Math.abs((o - this.startValue[a]) / this.byValue[a]) : 0).find((o) => o !== 0) || 0 };
  }
}
function v2(s) {
  const t = ((e) => Array.isArray(e.startValue) || Array.isArray(e.endValue))(s) ? new Kk(s) : new Hk(s);
  return t.start(), t;
}
class Gt {
  constructor(t) {
    this.status = t, this.points = [];
  }
  includes(t) {
    return this.points.some((e) => e.eq(t));
  }
  append() {
    for (var t = arguments.length, e = new Array(t), A = 0; A < t; A++) e[A] = arguments[A];
    return this.points = this.points.concat(e.filter((r) => !this.includes(r))), this;
  }
  static isPointContained(t, e, A) {
    let r = arguments.length > 3 && arguments[3] !== void 0 && arguments[3];
    if (e.eq(A)) return t.eq(e);
    if (e.x === A.x) return t.x === e.x && (r || t.y >= Math.min(e.y, A.y) && t.y <= Math.max(e.y, A.y));
    if (e.y === A.y) return t.y === e.y && (r || t.x >= Math.min(e.x, A.x) && t.x <= Math.max(e.x, A.x));
    {
      const n = zh(e, A), i = zh(e, t).divide(n);
      return r ? Math.abs(i.x) === Math.abs(i.y) : i.x === i.y && i.x >= 0 && i.x <= 1;
    }
  }
  static isPointInPolygon(t, e) {
    const A = new U(t).setX(Math.min(t.x - 1, ...e.map((n) => n.x)));
    let r = 0;
    for (let n = 0; n < e.length; n++) {
      const i = this.intersectSegmentSegment(e[n], e[(n + 1) % e.length], t, A);
      if (i.includes(t)) return !0;
      r += +(i.status === "Intersection");
    }
    return r % 2 == 1;
  }
  static intersectLineLine(t, e, A, r) {
    let n = !(arguments.length > 4 && arguments[4] !== void 0) || arguments[4], i = !(arguments.length > 5 && arguments[5] !== void 0) || arguments[5];
    const o = e.x - t.x, a = e.y - t.y, c = r.x - A.x, l = r.y - A.y, h = t.x - A.x, d = t.y - A.y, u = c * d - l * h, p = o * d - a * h, g = l * o - c * a;
    if (g !== 0) {
      const m = u / g, f = p / g;
      return (n || 0 <= m && m <= 1) && (i || 0 <= f && f <= 1) ? new Gt("Intersection").append(new U(t.x + m * o, t.y + m * a)) : new Gt();
    }
    if (u === 0 || p === 0) {
      const m = n || i || Gt.isPointContained(t, A, r) || Gt.isPointContained(e, A, r) || Gt.isPointContained(A, t, e) || Gt.isPointContained(r, t, e);
      return new Gt(m ? "Coincident" : void 0);
    }
    return new Gt("Parallel");
  }
  static intersectSegmentLine(t, e, A, r) {
    return Gt.intersectLineLine(t, e, A, r, !1, !0);
  }
  static intersectSegmentSegment(t, e, A, r) {
    return Gt.intersectLineLine(t, e, A, r, !1, !1);
  }
  static intersectLinePolygon(t, e, A) {
    let r = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3];
    const n = new Gt(), i = A.length;
    for (let o, a, c, l = 0; l < i; l++) {
      if (o = A[l], a = A[(l + 1) % i], c = Gt.intersectLineLine(t, e, o, a, r, !1), c.status === "Coincident") return c;
      n.append(...c.points);
    }
    return n.points.length > 0 && (n.status = "Intersection"), n;
  }
  static intersectSegmentPolygon(t, e, A) {
    return Gt.intersectLinePolygon(t, e, A, !1);
  }
  static intersectPolygonPolygon(t, e) {
    const A = new Gt(), r = t.length, n = [];
    for (let i = 0; i < r; i++) {
      const o = t[i], a = t[(i + 1) % r], c = Gt.intersectSegmentPolygon(o, a, e);
      c.status === "Coincident" ? (n.push(c), A.append(o, a)) : A.append(...c.points);
    }
    return n.length > 0 && n.length === t.length ? new Gt("Coincident") : (A.points.length > 0 && (A.status = "Intersection"), A);
  }
  static intersectPolygonRectangle(t, e, A) {
    const r = e.min(A), n = e.max(A), i = new U(n.x, r.y), o = new U(r.x, n.y);
    return Gt.intersectPolygonPolygon(t, [r, i, n, o]);
  }
}
class Gk extends s2 {
  getX() {
    return this.getXY().x;
  }
  setX(t) {
    this.setXY(this.getXY().setX(t));
  }
  getY() {
    return this.getXY().y;
  }
  setY(t) {
    this.setXY(this.getXY().setY(t));
  }
  getRelativeX() {
    return this.left;
  }
  setRelativeX(t) {
    this.left = t;
  }
  getRelativeY() {
    return this.top;
  }
  setRelativeY(t) {
    this.top = t;
  }
  getXY() {
    const t = this.getRelativeXY();
    return this.group ? _e(t, this.group.calcTransformMatrix()) : t;
  }
  setXY(t, e, A) {
    this.group && (t = _e(t, mA(this.group.calcTransformMatrix()))), this.setRelativeXY(t, e, A);
  }
  getRelativeXY() {
    return new U(this.left, this.top);
  }
  setRelativeXY(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.originX, A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.originY;
    this.setPositionByOrigin(t, e, A);
  }
  isStrokeAccountedForInDimensions() {
    return !1;
  }
  getCoords() {
    const { tl: t, tr: e, br: A, bl: r } = this.aCoords || (this.aCoords = this.calcACoords()), n = [t, e, A, r];
    if (this.group) {
      const i = this.group.calcTransformMatrix();
      return n.map((o) => _e(o, i));
    }
    return n;
  }
  intersectsWithRect(t, e) {
    return Gt.intersectPolygonRectangle(this.getCoords(), t, e).status === "Intersection";
  }
  intersectsWithObject(t) {
    const e = Gt.intersectPolygonPolygon(this.getCoords(), t.getCoords());
    return e.status === "Intersection" || e.status === "Coincident" || t.isContainedWithinObject(this) || this.isContainedWithinObject(t);
  }
  isContainedWithinObject(t) {
    return this.getCoords().every((e) => t.containsPoint(e));
  }
  isContainedWithinRect(t, e) {
    const { left: A, top: r, width: n, height: i } = this.getBoundingRect();
    return A >= t.x && A + n <= e.x && r >= t.y && r + i <= e.y;
  }
  isOverlapping(t) {
    return this.intersectsWithObject(t) || this.isContainedWithinObject(t) || t.isContainedWithinObject(this);
  }
  containsPoint(t) {
    return Gt.isPointInPolygon(t, this.getCoords());
  }
  isOnScreen() {
    if (!this.canvas) return !1;
    const { tl: t, br: e } = this.canvas.vptCoords;
    return !!this.getCoords().some((A) => A.x <= e.x && A.x >= t.x && A.y <= e.y && A.y >= t.y) || !!this.intersectsWithRect(t, e) || this.containsPoint(t.midPointFrom(e));
  }
  isPartiallyOnScreen() {
    if (!this.canvas) return !1;
    const { tl: t, br: e } = this.canvas.vptCoords;
    return !!this.intersectsWithRect(t, e) || this.getCoords().every((A) => (A.x >= e.x || A.x <= t.x) && (A.y >= e.y || A.y <= t.y)) && this.containsPoint(t.midPointFrom(e));
  }
  getBoundingRect() {
    return As(this.getCoords());
  }
  getScaledWidth() {
    return this._getTransformedDimensions().x;
  }
  getScaledHeight() {
    return this._getTransformedDimensions().y;
  }
  scale(t) {
    this._set(Ke, t), this._set(nA, t), this.setCoords();
  }
  scaleToWidth(t) {
    const e = this.getBoundingRect().width / this.getScaledWidth();
    return this.scale(t / this.width / e);
  }
  scaleToHeight(t) {
    const e = this.getBoundingRect().height / this.getScaledHeight();
    return this.scale(t / this.height / e);
  }
  getCanvasRetinaScaling() {
    var t;
    return ((t = this.canvas) === null || t === void 0 ? void 0 : t.getRetinaScaling()) || 1;
  }
  getTotalAngle() {
    return this.group ? nr(i2(this.calcTransformMatrix())) : this.angle;
  }
  getViewportTransform() {
    var t;
    return ((t = this.canvas) === null || t === void 0 ? void 0 : t.viewportTransform) || Ue.concat();
  }
  calcACoords() {
    const t = Mi({ angle: this.angle }), { x: e, y: A } = this.getRelativeCenterPoint(), r = Li(e, A), n = me(r, t), i = this._getTransformedDimensions(), o = i.x / 2, a = i.y / 2;
    return { tl: _e({ x: -o, y: -a }, n), tr: _e({ x: o, y: -a }, n), bl: _e({ x: -o, y: a }, n), br: _e({ x: o, y: a }, n) };
  }
  setCoords() {
    this.aCoords = this.calcACoords();
  }
  transformMatrixKey() {
    let t = arguments.length > 0 && arguments[0] !== void 0 && arguments[0], e = [];
    return !t && this.group && (e = this.group.transformMatrixKey(t)), e.push(this.top, this.left, this.width, this.height, this.scaleX, this.scaleY, this.angle, this.strokeWidth, this.skewX, this.skewY, +this.flipX, +this.flipY, se(this.originX), se(this.originY)), e;
  }
  calcTransformMatrix() {
    let t = arguments.length > 0 && arguments[0] !== void 0 && arguments[0], e = this.calcOwnMatrix();
    if (t || !this.group) return e;
    const A = this.transformMatrixKey(t), r = this.matrixCache;
    return r && r.key.every((n, i) => n === A[i]) ? r.value : (this.group && (e = me(this.group.calcTransformMatrix(!1), e)), this.matrixCache = { key: A, value: e }, e);
  }
  calcOwnMatrix() {
    const t = this.transformMatrixKey(!0), e = this.ownMatrixCache;
    if (e && e.key === t) return e.value;
    const A = this.getRelativeCenterPoint(), r = { angle: this.angle, translateX: A.x, translateY: A.y, scaleX: this.scaleX, scaleY: this.scaleY, skewX: this.skewX, skewY: this.skewY, flipX: this.flipX, flipY: this.flipY }, n = kk(r);
    return this.ownMatrixCache = { key: t, value: n }, n;
  }
  _getNonTransformedDimensions() {
    return new U(this.width, this.height).scalarAdd(this.strokeWidth);
  }
  _calculateCurrentDimensions(t) {
    return this._getTransformedDimensions(t).transform(this.getViewportTransform(), !0).scalarAdd(2 * this.padding);
  }
  _getTransformedDimensions() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const e = x({ scaleX: this.scaleX, scaleY: this.scaleY, skewX: this.skewX, skewY: this.skewY, width: this.width, height: this.height, strokeWidth: this.strokeWidth }, t), A = e.strokeWidth;
    let r = A, n = 0;
    this.strokeUniform && (r = 0, n = A);
    const i = e.width + r, o = e.height + r;
    let a;
    return a = e.skewX === 0 && e.skewY === 0 ? new U(i * e.scaleX, o * e.scaleY) : Du(i, o, Vc(e)), a.scalarAdd(n);
  }
  translateToGivenOrigin(t, e, A, r, n) {
    let i = t.x, o = t.y;
    const a = se(r) - se(e), c = se(n) - se(A);
    if (a || c) {
      const l = this._getTransformedDimensions();
      i += a * l.x, o += c * l.y;
    }
    return new U(i, o);
  }
  translateToCenterPoint(t, e, A) {
    if (e === dt && A === dt) return t;
    const r = this.translateToGivenOrigin(t, e, A, dt, dt);
    return this.angle ? r.rotate($t(this.angle), t) : r;
  }
  translateToOriginPoint(t, e, A) {
    const r = this.translateToGivenOrigin(t, dt, dt, e, A);
    return this.angle ? r.rotate($t(this.angle), t) : r;
  }
  getCenterPoint() {
    const t = this.getRelativeCenterPoint();
    return this.group ? _e(t, this.group.calcTransformMatrix()) : t;
  }
  getRelativeCenterPoint() {
    return this.translateToCenterPoint(new U(this.left, this.top), this.originX, this.originY);
  }
  getPointByOrigin(t, e) {
    return this.translateToOriginPoint(this.getRelativeCenterPoint(), t, e);
  }
  setPositionByOrigin(t, e, A) {
    const r = this.translateToCenterPoint(t, e, A), n = this.translateToOriginPoint(r, this.originX, this.originY);
    this.set({ left: n.x, top: n.y });
  }
  _getLeftTopCoords() {
    return this.translateToOriginPoint(this.getRelativeCenterPoint(), Ft, Re);
  }
}
const Wk = ["type"], Yk = ["extraParam"];
let VA = class la extends Gk {
  static getDefaults() {
    return la.ownDefaults;
  }
  get type() {
    const t = this.constructor.type;
    return t === "FabricObject" ? "object" : t.toLowerCase();
  }
  set type(t) {
    _s("warn", "Setting type has no effect", t);
  }
  constructor(t) {
    super(), k(this, "_cacheContext", null), Object.assign(this, la.ownDefaults), this.setOptions(t);
  }
  _createCacheCanvas() {
    this._cacheCanvas = BA(), this._cacheContext = this._cacheCanvas.getContext("2d"), this._updateCacheCanvas(), this.dirty = !0;
  }
  _limitCacheSize(t) {
    const e = t.width, A = t.height, r = kt.maxCacheSideLimit, n = kt.minCacheSideLimit;
    if (e <= r && A <= r && e * A <= kt.perfLimitSizeTotal) return e < n && (t.width = n), A < n && (t.height = n), t;
    const i = e / A, [o, a] = ni.limitDimsByArea(i), c = $r(n, o, r), l = $r(n, a, r);
    return e > c && (t.zoomX /= e / c, t.width = c, t.capped = !0), A > l && (t.zoomY /= A / l, t.height = l, t.capped = !0), t;
  }
  _getCacheCanvasDimensions() {
    const t = this.getTotalObjectScaling(), e = this._getTransformedDimensions({ skewX: 0, skewY: 0 }), A = e.x * t.x / this.scaleX, r = e.y * t.y / this.scaleY;
    return { width: Math.ceil(A + 2), height: Math.ceil(r + 2), zoomX: t.x, zoomY: t.y, x: A, y: r };
  }
  _updateCacheCanvas() {
    const t = this._cacheCanvas, e = this._cacheContext, { width: A, height: r, zoomX: n, zoomY: i, x: o, y: a } = this._limitCacheSize(this._getCacheCanvasDimensions()), c = A !== t.width || r !== t.height, l = this.zoomX !== n || this.zoomY !== i;
    if (!t || !e) return !1;
    if (c || l) {
      A !== t.width || r !== t.height ? (t.width = A, t.height = r) : (e.setTransform(1, 0, 0, 1, 0, 0), e.clearRect(0, 0, t.width, t.height));
      const h = o / 2, d = a / 2;
      return this.cacheTranslationX = Math.round(t.width / 2 - h) + h, this.cacheTranslationY = Math.round(t.height / 2 - d) + d, e.translate(this.cacheTranslationX, this.cacheTranslationY), e.scale(n, i), this.zoomX = n, this.zoomY = i, !0;
    }
    return !1;
  }
  setOptions() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this._setOptions(t);
  }
  transform(t) {
    const e = this.group && !this.group._transformDone || this.group && this.canvas && t === this.canvas.contextTop, A = this.calcTransformMatrix(!e);
    t.transform(A[0], A[1], A[2], A[3], A[4], A[5]);
  }
  getObjectScaling() {
    if (!this.group) return new U(Math.abs(this.scaleX), Math.abs(this.scaleY));
    const t = sc(this.calcTransformMatrix());
    return new U(Math.abs(t.scaleX), Math.abs(t.scaleY));
  }
  getTotalObjectScaling() {
    const t = this.getObjectScaling();
    if (this.canvas) {
      const e = this.canvas.getZoom(), A = this.getCanvasRetinaScaling();
      return t.scalarMultiply(e * A);
    }
    return t;
  }
  getObjectOpacity() {
    let t = this.opacity;
    return this.group && (t *= this.group.getObjectOpacity()), t;
  }
  _constrainScale(t) {
    return Math.abs(t) < this.minScaleLimit ? t < 0 ? -this.minScaleLimit : this.minScaleLimit : t === 0 ? 1e-4 : t;
  }
  _set(t, e) {
    t !== Ke && t !== nA || (e = this._constrainScale(e)), t === Ke && e < 0 ? (this.flipX = !this.flipX, e *= -1) : t === "scaleY" && e < 0 ? (this.flipY = !this.flipY, e *= -1) : t !== "shadow" || !e || e instanceof OA || (e = new OA(e));
    const A = this[t] !== e;
    return this[t] = e, A && this.constructor.cacheProperties.includes(t) && (this.dirty = !0), this.parent && (this.dirty || A && this.constructor.stateProperties.includes(t)) && this.parent._set("dirty", !0), this;
  }
  isNotVisible() {
    return this.opacity === 0 || !this.width && !this.height && this.strokeWidth === 0 || !this.visible;
  }
  render(t) {
    this.isNotVisible() || this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (t.save(), this._setupCompositeOperation(t), this.drawSelectionBackground(t), this.transform(t), this._setOpacity(t), this._setShadow(t), this.shouldCache() ? (this.renderCache(), this.drawCacheOnCanvas(t)) : (this._removeCacheCanvas(), this.drawObject(t, !1, {}), this.dirty = !1), t.restore());
  }
  drawSelectionBackground(t) {
  }
  renderCache(t) {
    if (t = t || {}, this._cacheCanvas && this._cacheContext || this._createCacheCanvas(), this.isCacheDirty() && this._cacheContext) {
      const { zoomX: e, zoomY: A, cacheTranslationX: r, cacheTranslationY: n } = this, { width: i, height: o } = this._cacheCanvas;
      this.drawObject(this._cacheContext, t.forClipping, { zoomX: e, zoomY: A, cacheTranslationX: r, cacheTranslationY: n, width: i, height: o, parentClipPaths: [] }), this.dirty = !1;
    }
  }
  _removeCacheCanvas() {
    this._cacheCanvas = void 0, this._cacheContext = null;
  }
  hasStroke() {
    return this.stroke && this.stroke !== "transparent" && this.strokeWidth !== 0;
  }
  hasFill() {
    return this.fill && this.fill !== "transparent";
  }
  needsItsOwnCache() {
    return !!(this.paintFirst === He && this.hasFill() && this.hasStroke() && this.shadow) || !!this.clipPath;
  }
  shouldCache() {
    return this.ownCaching = this.objectCaching && (!this.parent || !this.parent.isOnACache()) || this.needsItsOwnCache(), this.ownCaching;
  }
  willDrawShadow() {
    return !!this.shadow && (this.shadow.offsetX !== 0 || this.shadow.offsetY !== 0);
  }
  drawClipPathOnCache(t, e, A) {
    t.save(), e.inverted ? t.globalCompositeOperation = "destination-out" : t.globalCompositeOperation = "destination-in", t.setTransform(1, 0, 0, 1, 0, 0), t.drawImage(A, 0, 0), t.restore();
  }
  drawObject(t, e, A) {
    const r = this.fill, n = this.stroke;
    e ? (this.fill = "black", this.stroke = "", this._setClippingProperties(t)) : this._renderBackground(t), this._render(t), this._drawClipPath(t, this.clipPath, A), this.fill = r, this.stroke = n;
  }
  createClipPathLayer(t, e) {
    const A = HA(e), r = A.getContext("2d");
    if (r.translate(e.cacheTranslationX, e.cacheTranslationY), r.scale(e.zoomX, e.zoomY), t._cacheCanvas = A, e.parentClipPaths.forEach((n) => {
      n.transform(r);
    }), e.parentClipPaths.push(t), t.absolutePositioned) {
      const n = mA(this.calcTransformMatrix());
      r.transform(n[0], n[1], n[2], n[3], n[4], n[5]);
    }
    return t.transform(r), t.drawObject(r, !0, e), A;
  }
  _drawClipPath(t, e, A) {
    if (!e) return;
    e._transformDone = !0;
    const r = this.createClipPathLayer(e, A);
    this.drawClipPathOnCache(t, e, r);
  }
  drawCacheOnCanvas(t) {
    t.scale(1 / this.zoomX, 1 / this.zoomY), t.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY);
  }
  isCacheDirty() {
    let t = arguments.length > 0 && arguments[0] !== void 0 && arguments[0];
    if (this.isNotVisible()) return !1;
    const e = this._cacheCanvas, A = this._cacheContext;
    return !(!e || !A || t || !this._updateCacheCanvas()) || !!(this.dirty || this.clipPath && this.clipPath.absolutePositioned) && (e && A && !t && (A.save(), A.setTransform(1, 0, 0, 1, 0, 0), A.clearRect(0, 0, e.width, e.height), A.restore()), !0);
  }
  _renderBackground(t) {
    if (!this.backgroundColor) return;
    const e = this._getNonTransformedDimensions();
    t.fillStyle = this.backgroundColor, t.fillRect(-e.x / 2, -e.y / 2, e.x, e.y), this._removeShadow(t);
  }
  _setOpacity(t) {
    this.group && !this.group._transformDone ? t.globalAlpha = this.getObjectOpacity() : t.globalAlpha *= this.opacity;
  }
  _setStrokeStyles(t, e) {
    const A = e.stroke;
    A && (t.lineWidth = e.strokeWidth, t.lineCap = e.strokeLineCap, t.lineDashOffset = e.strokeDashOffset, t.lineJoin = e.strokeLineJoin, t.miterLimit = e.strokeMiterLimit, sA(A) ? A.gradientUnits === "percentage" || A.gradientTransform || A.patternTransform ? this._applyPatternForTransformedGradient(t, A) : (t.strokeStyle = A.toLive(t), this._applyPatternGradientTransform(t, A)) : t.strokeStyle = e.stroke);
  }
  _setFillStyles(t, e) {
    let { fill: A } = e;
    A && (sA(A) ? (t.fillStyle = A.toLive(t), this._applyPatternGradientTransform(t, A)) : t.fillStyle = A);
  }
  _setClippingProperties(t) {
    t.globalAlpha = 1, t.strokeStyle = "transparent", t.fillStyle = "#000000";
  }
  _setLineDash(t, e) {
    e && e.length !== 0 && t.setLineDash(e);
  }
  _setShadow(t) {
    if (!this.shadow) return;
    const e = this.shadow, A = this.canvas, r = this.getCanvasRetinaScaling(), [n, , , i] = (A == null ? void 0 : A.viewportTransform) || Ue, o = n * r, a = i * r, c = e.nonScaling ? new U(1, 1) : this.getObjectScaling();
    t.shadowColor = e.color, t.shadowBlur = e.blur * kt.browserShadowBlurConstant * (o + a) * (c.x + c.y) / 4, t.shadowOffsetX = e.offsetX * o * c.x, t.shadowOffsetY = e.offsetY * a * c.y;
  }
  _removeShadow(t) {
    this.shadow && (t.shadowColor = "", t.shadowBlur = t.shadowOffsetX = t.shadowOffsetY = 0);
  }
  _applyPatternGradientTransform(t, e) {
    if (!sA(e)) return { offsetX: 0, offsetY: 0 };
    const A = e.gradientTransform || e.patternTransform, r = -this.width / 2 + e.offsetX || 0, n = -this.height / 2 + e.offsetY || 0;
    return e.gradientUnits === "percentage" ? t.transform(this.width, 0, 0, this.height, r, n) : t.transform(1, 0, 0, 1, r, n), A && t.transform(A[0], A[1], A[2], A[3], A[4], A[5]), { offsetX: r, offsetY: n };
  }
  _renderPaintInOrder(t) {
    this.paintFirst === He ? (this._renderStroke(t), this._renderFill(t)) : (this._renderFill(t), this._renderStroke(t));
  }
  _render(t) {
  }
  _renderFill(t) {
    this.fill && (t.save(), this._setFillStyles(t, this), this.fillRule === "evenodd" ? t.fill("evenodd") : t.fill(), t.restore());
  }
  _renderStroke(t) {
    if (this.stroke && this.strokeWidth !== 0) {
      if (this.shadow && !this.shadow.affectStroke && this._removeShadow(t), t.save(), this.strokeUniform) {
        const e = this.getObjectScaling();
        t.scale(1 / e.x, 1 / e.y);
      }
      this._setLineDash(t, this.strokeDashArray), this._setStrokeStyles(t, this), t.stroke(), t.restore();
    }
  }
  _applyPatternForTransformedGradient(t, e) {
    var A;
    const r = this._limitCacheSize(this._getCacheCanvasDimensions()), n = this.getCanvasRetinaScaling(), i = r.x / this.scaleX / n, o = r.y / this.scaleY / n, a = HA({ width: Math.ceil(i), height: Math.ceil(o) }), c = a.getContext("2d");
    c && (c.beginPath(), c.moveTo(0, 0), c.lineTo(i, 0), c.lineTo(i, o), c.lineTo(0, o), c.closePath(), c.translate(i / 2, o / 2), c.scale(r.zoomX / this.scaleX / n, r.zoomY / this.scaleY / n), this._applyPatternGradientTransform(c, e), c.fillStyle = e.toLive(t), c.fill(), t.translate(-this.width / 2 - this.strokeWidth / 2, -this.height / 2 - this.strokeWidth / 2), t.scale(n * this.scaleX / r.zoomX, n * this.scaleY / r.zoomY), t.strokeStyle = (A = c.createPattern(a, "no-repeat")) !== null && A !== void 0 ? A : "");
  }
  _findCenterFromElement() {
    return new U(this.left + this.width / 2, this.top + this.height / 2);
  }
  clone(t) {
    const e = this.toObject(t);
    return this.constructor.fromObject(e);
  }
  cloneAsImage(t) {
    const e = this.toCanvasElement(t);
    return new (J.getClass("image"))(e);
  }
  toCanvasElement() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const e = p2(this), A = this.group, r = this.shadow, n = Math.abs, i = t.enableRetinaScaling ? qw() : 1, o = (t.multiplier || 1) * i, a = t.canvasProvider || ((w) => new Di(w, { enableRetinaScaling: !1, renderOnAddRemove: !1, skipOffscreen: !1 }));
    delete this.group, t.withoutTransform && ((w) => {
      w.scaleX = 1, w.scaleY = 1, w.skewX = 0, w.skewY = 0, w.flipX = !1, w.flipY = !1, w.rotate(0);
    })(this), t.withoutShadow && (this.shadow = null), t.viewportTransform && ((w, B, C) => {
      const v = ic(B, C);
      nc(w, me(v, w.calcOwnMatrix()));
    })(this, this.getViewportTransform()), this.setCoords();
    const c = BA(), l = this.getBoundingRect(), h = this.shadow, d = new U();
    if (h) {
      const w = h.blur, B = h.nonScaling ? new U(1, 1) : this.getObjectScaling();
      d.x = 2 * Math.round(n(h.offsetX) + w) * n(B.x), d.y = 2 * Math.round(n(h.offsetY) + w) * n(B.y);
    }
    const u = l.width + d.x, p = l.height + d.y;
    c.width = Math.ceil(u), c.height = Math.ceil(p);
    const g = a(c);
    t.format === "jpeg" && (g.backgroundColor = "#fff"), this.setPositionByOrigin(new U(g.width / 2, g.height / 2), dt, dt);
    const m = this.canvas;
    g._objects = [this], this.set("canvas", g), this.setCoords();
    const f = g.toCanvasElement(o || 1, t);
    return this.set("canvas", m), this.shadow = r, A && (this.group = A), this.set(e), this.setCoords(), g._objects = [], g.destroy(), f;
  }
  toDataURL() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return r2(this.toCanvasElement(t), t.format || "png", t.quality || 1);
  }
  toBlob() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return n2(this.toCanvasElement(t), t.format || "png", t.quality || 1);
  }
  isType() {
    for (var t = arguments.length, e = new Array(t), A = 0; A < t; A++) e[A] = arguments[A];
    return e.includes(this.constructor.type) || e.includes(this.type);
  }
  complexity() {
    return 1;
  }
  toJSON() {
    return this.toObject();
  }
  rotate(t) {
    const { centeredRotation: e, originX: A, originY: r } = this;
    if (e) {
      const { x: n, y: i } = this.getRelativeCenterPoint();
      this.originX = dt, this.originY = dt, this.left = n, this.top = i;
    }
    if (this.set("angle", t), e) {
      const { x: n, y: i } = this.translateToOriginPoint(this.getRelativeCenterPoint(), A, r);
      this.left = n, this.top = i, this.originX = A, this.originY = r;
    }
  }
  setOnGroup() {
  }
  _setupCompositeOperation(t) {
    this.globalCompositeOperation && (t.globalCompositeOperation = this.globalCompositeOperation);
  }
  dispose() {
    Ac.cancelByTarget(this), this.off(), this._set("canvas", void 0), this._cacheCanvas && RA().dispose(this._cacheCanvas), this._cacheCanvas = void 0, this._cacheContext = null;
  }
  animate(t, e) {
    return Object.entries(t).reduce((A, r) => {
      let [n, i] = r;
      return A[n] = this._animate(n, i, e), A;
    }, {});
  }
  _animate(t, e) {
    let A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    const r = t.split("."), n = this.constructor.colorProperties.includes(r[r.length - 1]), { abort: i, startValue: o, onChange: a, onComplete: c } = A, l = x(x({}, A), {}, { target: this, startValue: o ?? r.reduce((h, d) => h[d], this), endValue: e, abort: i == null ? void 0 : i.bind(this), onChange: (h, d, u) => {
      r.reduce((p, g, m) => (m === r.length - 1 && (p[g] = h), p[g]), this), a && a(h, d, u);
    }, onComplete: (h, d, u) => {
      this.setCoords(), c && c(h, d, u);
    } });
    return n ? function(h) {
      const d = new Vk(h);
      return d.start(), d;
    }(l) : v2(l);
  }
  isDescendantOf(t) {
    const { parent: e, group: A } = this;
    return e === t || A === t || !!e && e.isDescendantOf(t) || !!A && A !== e && A.isDescendantOf(t);
  }
  getAncestors() {
    const t = [];
    let e = this;
    do
      e = e.parent, e && t.push(e);
    while (e);
    return t;
  }
  findCommonAncestors(t) {
    if (this === t) return { fork: [], otherFork: [], common: [this, ...this.getAncestors()] };
    const e = this.getAncestors(), A = t.getAncestors();
    if (e.length === 0 && A.length > 0 && this === A[A.length - 1]) return { fork: [], otherFork: [t, ...A.slice(0, A.length - 1)], common: [this] };
    for (let r, n = 0; n < e.length; n++) {
      if (r = e[n], r === t) return { fork: [this, ...e.slice(0, n)], otherFork: [], common: e.slice(n) };
      for (let i = 0; i < A.length; i++) {
        if (this === A[i]) return { fork: [], otherFork: [t, ...A.slice(0, i)], common: [this, ...e] };
        if (r === A[i]) return { fork: [this, ...e.slice(0, n)], otherFork: [t, ...A.slice(0, i)], common: e.slice(n) };
      }
    }
    return { fork: [this, ...e], otherFork: [t, ...A], common: [] };
  }
  hasCommonAncestors(t) {
    const e = this.findCommonAncestors(t);
    return e && !!e.common.length;
  }
  isInFrontOf(t) {
    if (this === t) return;
    const e = this.findCommonAncestors(t);
    if (e.fork.includes(t)) return !0;
    if (e.otherFork.includes(this)) return !1;
    const A = e.common[0] || this.canvas;
    if (!A) return;
    const r = e.fork.pop(), n = e.otherFork.pop(), i = A._objects.indexOf(r), o = A._objects.indexOf(n);
    return i > -1 && i > o;
  }
  toObject() {
    const t = (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : []).concat(la.customProperties, this.constructor.customProperties || []);
    let e;
    const A = kt.NUM_FRACTION_DIGITS, { clipPath: r, fill: n, stroke: i, shadow: o, strokeDashArray: a, left: c, top: l, originX: h, originY: d, width: u, height: p, strokeWidth: g, strokeLineCap: m, strokeDashOffset: f, strokeLineJoin: w, strokeUniform: B, strokeMiterLimit: C, scaleX: v, scaleY: F, angle: Q, flipX: E, flipY: _, opacity: P, visible: K, backgroundColor: T, fillRule: D, paintFirst: I, globalCompositeOperation: y, skewX: S, skewY: M } = this;
    r && !r.excludeFromExport && (e = r.toObject(t.concat("inverted", "absolutePositioned")));
    const R = (L) => Wt(L, A), H = x(x({}, on(this, t)), {}, { type: this.constructor.type, version: Gh, originX: h, originY: d, left: R(c), top: R(l), width: R(u), height: R(p), fill: Vg(n) ? n.toObject() : n, stroke: Vg(i) ? i.toObject() : i, strokeWidth: R(g), strokeDashArray: a && a.concat(), strokeLineCap: m, strokeDashOffset: f, strokeLineJoin: w, strokeUniform: B, strokeMiterLimit: R(C), scaleX: R(v), scaleY: R(F), angle: R(Q), flipX: E, flipY: _, opacity: R(P), shadow: o && o.toObject(), visible: K, backgroundColor: T, fillRule: D, paintFirst: I, globalCompositeOperation: y, skewX: R(S), skewY: R(M) }, e ? { clipPath: e } : null);
    return this.includeDefaultValues ? H : this._removeDefaultValues(H);
  }
  toDatalessObject(t) {
    return this.toObject(t);
  }
  _removeDefaultValues(t) {
    const e = this.constructor.getDefaults(), A = Object.keys(e).length > 0 ? e : Object.getPrototypeOf(this);
    return Mu(t, (r, n) => {
      if (n === Ft || n === Re || n === "type") return !0;
      const i = A[n];
      return r !== i && !(Array.isArray(r) && Array.isArray(i) && r.length === 0 && i.length === 0);
    });
  }
  toString() {
    return "#<".concat(this.constructor.type, ">");
  }
  static _fromObject(t) {
    let e = Vt(t, Wk), A = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, { extraParam: r } = A, n = Vt(A, Yk);
    return Gc(e, n).then((i) => r ? (delete i[r], new this(e[r], i)) : new this(i));
  }
  static fromObject(t, e) {
    return this._fromObject(t, e);
  }
};
k(VA, "stateProperties", Ok), k(VA, "cacheProperties", as), k(VA, "ownDefaults", Lk), k(VA, "type", "FabricObject"), k(VA, "colorProperties", [ae, He, "backgroundColor"]), k(VA, "customProperties", []), J.setClass(VA), J.setClass(VA, "object");
const an = (s, t, e) => (A, r, n, i) => {
  const o = t(A, r, n, i);
  return o && g2(s, x(x({}, m2(A, r, n, i)), e)), o;
};
function cn(s) {
  return (t, e, A, r) => {
    const { target: n, originX: i, originY: o } = e, a = n.getRelativeCenterPoint(), c = n.translateToOriginPoint(a, i, o), l = s(t, e, A, r);
    return n.setPositionByOrigin(c, e.originX, e.originY), l;
  };
}
const $g = an(fi, cn((s, t, e, A) => {
  const r = Ru(t, t.originX, t.originY, e, A);
  if (se(t.originX) === se(dt) || se(t.originX) === se(Zt) && r.x < 0 || se(t.originX) === se(Ft) && r.x > 0) {
    const { target: n } = t, i = n.strokeWidth / (n.strokeUniform ? n.scaleX : 1), o = f2(t) ? 2 : 1, a = n.width, c = Math.abs(r.x * o / n.scaleX) - i;
    return n.set("width", Math.max(c, 1)), a !== n.width;
  }
  return !1;
}));
function Jk(s, t, e, A, r) {
  A = A || {};
  const n = this.sizeX || A.cornerSize || r.cornerSize, i = this.sizeY || A.cornerSize || r.cornerSize, o = A.transparentCorners !== void 0 ? A.transparentCorners : r.transparentCorners, a = o ? He : ae, c = !o && (A.cornerStrokeColor || r.cornerStrokeColor);
  let l, h = t, d = e;
  s.save(), s.fillStyle = A.cornerColor || r.cornerColor || "", s.strokeStyle = A.cornerStrokeColor || r.cornerStrokeColor || "", n > i ? (l = n, s.scale(1, i / n), d = e * n / i) : i > n ? (l = i, s.scale(n / i, 1), h = t * i / n) : l = n, s.beginPath(), s.arc(h, d, l / 2, 0, $a, !1), s[a](), c && s.stroke(), s.restore();
}
function Xk(s, t, e, A, r) {
  A = A || {};
  const n = this.sizeX || A.cornerSize || r.cornerSize, i = this.sizeY || A.cornerSize || r.cornerSize, o = A.transparentCorners !== void 0 ? A.transparentCorners : r.transparentCorners, a = o ? He : ae, c = !o && (A.cornerStrokeColor || r.cornerStrokeColor), l = n / 2, h = i / 2;
  s.save(), s.fillStyle = A.cornerColor || r.cornerColor || "", s.strokeStyle = A.cornerStrokeColor || r.cornerStrokeColor || "", s.translate(t, e);
  const d = r.getTotalAngle();
  s.rotate($t(d)), s["".concat(a, "Rect")](-l, -h, n, i), c && s.strokeRect(-l, -h, n, i), s.restore();
}
class cA {
  constructor(t) {
    k(this, "visible", !0), k(this, "actionName", jc), k(this, "angle", 0), k(this, "x", 0), k(this, "y", 0), k(this, "offsetX", 0), k(this, "offsetY", 0), k(this, "sizeX", 0), k(this, "sizeY", 0), k(this, "touchSizeX", 0), k(this, "touchSizeY", 0), k(this, "cursorStyle", "crosshair"), k(this, "withConnection", !1), Object.assign(this, t);
  }
  shouldActivate(t, e, A, r) {
    var n;
    let { tl: i, tr: o, br: a, bl: c } = r;
    return ((n = e.canvas) === null || n === void 0 ? void 0 : n.getActiveObject()) === e && e.isControlVisible(t) && Gt.isPointInPolygon(A, [i, o, a, c]);
  }
  getActionHandler(t, e, A) {
    return this.actionHandler;
  }
  getMouseDownHandler(t, e, A) {
    return this.mouseDownHandler;
  }
  getMouseUpHandler(t, e, A) {
    return this.mouseUpHandler;
  }
  cursorStyleHandler(t, e, A) {
    return e.cursorStyle;
  }
  getActionName(t, e, A) {
    return e.actionName;
  }
  getVisibility(t, e) {
    var A, r;
    return (A = (r = t._controlsVisibility) === null || r === void 0 ? void 0 : r[e]) !== null && A !== void 0 ? A : this.visible;
  }
  setVisibility(t, e, A) {
    this.visible = t;
  }
  positionHandler(t, e, A, r) {
    return new U(this.x * t.x + this.offsetX, this.y * t.y + this.offsetY).transform(e);
  }
  calcCornerCoords(t, e, A, r, n, i) {
    const o = Ou([Li(A, r), Mi({ angle: t }), Lu((n ? this.touchSizeX : this.sizeX) || e, (n ? this.touchSizeY : this.sizeY) || e)]);
    return { tl: new U(-0.5, -0.5).transform(o), tr: new U(0.5, -0.5).transform(o), br: new U(0.5, 0.5).transform(o), bl: new U(-0.5, 0.5).transform(o) };
  }
  render(t, e, A, r, n) {
    ((r = r || {}).cornerStyle || n.cornerStyle) === "circle" ? Jk.call(this, t, e, A, r, n) : Xk.call(this, t, e, A, r, n);
  }
}
const zk = (s, t, e) => e.lockRotation ? oc : t.cursorStyle, Zk = an(t2, cn((s, t, e, A) => {
  let { target: r, ex: n, ey: i, theta: o, originX: a, originY: c } = t;
  const l = r.translateToOriginPoint(r.getRelativeCenterPoint(), a, c);
  if (wA(r, "lockRotation")) return !1;
  const h = Math.atan2(i - l.y, n - l.x), d = Math.atan2(A - l.y, e - l.x);
  let u = nr(d - h + o);
  if (r.snapAngle && r.snapAngle > 0) {
    const g = r.snapAngle, m = r.snapThreshold || g, f = Math.ceil(u / g) * g, w = Math.floor(u / g) * g;
    Math.abs(u - w) < m ? u = w : Math.abs(u - f) < m && (u = f);
  }
  u < 0 && (u = 360 + u), u %= 360;
  const p = r.angle !== u;
  return r.angle = u, p;
}));
function k2(s, t) {
  const e = t.canvas, A = s[e.uniScaleKey];
  return e.uniformScaling && !A || !e.uniformScaling && A;
}
function x2(s, t, e) {
  const A = wA(s, "lockScalingX"), r = wA(s, "lockScalingY");
  if (A && r || !t && (A || r) && e || A && t === "x" || r && t === "y") return !0;
  const { width: n, height: i, strokeWidth: o } = s;
  return n === 0 && o === 0 && t !== "y" || i === 0 && o === 0 && t !== "x";
}
const qk = ["e", "se", "s", "sw", "w", "nw", "n", "ne", "e"], Un = (s, t, e) => {
  const A = k2(s, e);
  if (x2(e, t.x !== 0 && t.y === 0 ? "x" : t.x === 0 && t.y !== 0 ? "y" : "", A)) return oc;
  const r = w2(e, t);
  return "".concat(qk[r], "-resize");
};
function Ku(s, t, e, A) {
  let r = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {};
  const n = t.target, i = r.by, o = k2(s, n);
  let a, c, l, h, d, u;
  if (x2(n, i, o)) return !1;
  if (t.gestureScale) c = t.scaleX * t.gestureScale, l = t.scaleY * t.gestureScale;
  else {
    if (a = Ru(t, t.originX, t.originY, e, A), d = i !== "y" ? Math.sign(a.x || t.signX || 1) : 1, u = i !== "x" ? Math.sign(a.y || t.signY || 1) : 1, t.signX || (t.signX = d), t.signY || (t.signY = u), wA(n, "lockScalingFlip") && (t.signX !== d || t.signY !== u)) return !1;
    if (h = n._getTransformedDimensions(), o && !i) {
      const m = Math.abs(a.x) + Math.abs(a.y), { original: f } = t, w = m / (Math.abs(h.x * f.scaleX / n.scaleX) + Math.abs(h.y * f.scaleY / n.scaleY));
      c = f.scaleX * w, l = f.scaleY * w;
    } else c = Math.abs(a.x * n.scaleX / h.x), l = Math.abs(a.y * n.scaleY / h.y);
    f2(t) && (c *= 2, l *= 2), t.signX !== d && i !== "y" && (t.originX = Yg(t.originX), c *= -1, t.signX = d), t.signY !== u && i !== "x" && (t.originY = Yg(t.originY), l *= -1, t.signY = u);
  }
  const p = n.scaleX, g = n.scaleY;
  return i ? (i === "x" && n.set(Ke, c), i === "y" && n.set(nA, l)) : (!wA(n, "lockScalingX") && n.set(Ke, c), !wA(n, "lockScalingY") && n.set(nA, l)), p !== n.scaleX || g !== n.scaleY;
}
const lo = an(Nc, cn((s, t, e, A) => Ku(s, t, e, A))), $k = an(Nc, cn((s, t, e, A) => Ku(s, t, e, A, { by: "x" }))), tx = an(Nc, cn((s, t, e, A) => Ku(s, t, e, A, { by: "y" }))), ex = ["target", "ex", "ey", "skewingSide"], _l = { x: { counterAxis: "y", scale: Ke, skew: rn, lockSkewing: "lockSkewingX", origin: "originX", flip: "flipX" }, y: { counterAxis: "x", scale: nA, skew: nn, lockSkewing: "lockSkewingY", origin: "originY", flip: "flipY" } }, Ax = ["ns", "nesw", "ew", "nwse"];
function S2(s, t, e, A, r) {
  const { target: n } = e, { counterAxis: i, origin: o, lockSkewing: a, skew: c, flip: l } = _l[s];
  if (wA(n, a)) return !1;
  const { origin: h, flip: d } = _l[i], u = se(e[h]) * (n[d] ? -1 : 1), p = -Math.sign(u) * (n[l] ? -1 : 1), g = -(n[c] === 0 && Ru(e, dt, dt, A, r)[s] > 0 || n[c] > 0 ? 1 : -1) * p * 0.5 + 0.5;
  return an(e2, cn((f, w, B, C) => function(v, F, Q) {
    let { target: E, ex: _, ey: P, skewingSide: K } = F, T = Vt(F, ex);
    const { skew: D } = _l[v], I = Q.subtract(new U(_, P)).divide(new U(E.scaleX, E.scaleY))[v], y = E[D], S = T[D], M = Math.tan($t(S)), R = v === "y" ? E._getTransformedDimensions({ scaleX: 1, scaleY: 1, skewX: 0 }).x : E._getTransformedDimensions({ scaleX: 1, scaleY: 1 }).y, H = 2 * I * K / Math.max(R, 1) + M, L = nr(Math.atan(H));
    E.set(D, L);
    const j = y !== E[D];
    if (j && v === "y") {
      const { skewX: Z, scaleX: $ } = E, nt = E._getTransformedDimensions({ skewY: y }), wt = E._getTransformedDimensions(), At = Z !== 0 ? nt.x / wt.x : 1;
      At !== 1 && E.set(Ke, At * $);
    }
    return j;
  }(s, w, new U(B, C))))(t, x(x({}, e), {}, { [o]: g, skewingSide: p }), A, r);
}
function Wc(s, t) {
  return s[t.canvas.altActionKey];
}
const ho = (s, t, e) => {
  const A = Wc(s, e);
  return t.x === 0 ? A ? rn : nA : t.y === 0 ? A ? nn : Ke : "";
}, Dr = (s, t, e) => Wc(s, e) ? ((A, r, n) => {
  if (r.x !== 0 && wA(n, "lockSkewingY") || r.y !== 0 && wA(n, "lockSkewingX")) return oc;
  const i = w2(n, r) % 4;
  return "".concat(Ax[i], "-resize");
})(0, t, e) : Un(s, t, e), t0 = (s, t, e, A) => Wc(s, t.target) ? ((r, n, i, o) => S2("y", r, n, i, o))(s, t, e, A) : $k(s, t, e, A), e0 = (s, t, e, A) => Wc(s, t.target) ? ((r, n, i, o) => S2("x", r, n, i, o))(s, t, e, A) : tx(s, t, e, A), E2 = () => ({ ml: new cA({ x: -0.5, y: 0, cursorStyleHandler: Dr, actionHandler: t0, getActionName: ho }), mr: new cA({ x: 0.5, y: 0, cursorStyleHandler: Dr, actionHandler: t0, getActionName: ho }), mb: new cA({ x: 0, y: 0.5, cursorStyleHandler: Dr, actionHandler: e0, getActionName: ho }), mt: new cA({ x: 0, y: -0.5, cursorStyleHandler: Dr, actionHandler: e0, getActionName: ho }), tl: new cA({ x: -0.5, y: -0.5, cursorStyleHandler: Un, actionHandler: lo }), tr: new cA({ x: 0.5, y: -0.5, cursorStyleHandler: Un, actionHandler: lo }), bl: new cA({ x: -0.5, y: 0.5, cursorStyleHandler: Un, actionHandler: lo }), br: new cA({ x: 0.5, y: 0.5, cursorStyleHandler: Un, actionHandler: lo }), mtr: new cA({ x: 0, y: -0.5, actionHandler: Zk, cursorStyleHandler: zk, offsetY: -40, withConnection: !0, actionName: Tu }) }), sx = () => x(x({}, E2()), { mr: new cA({ x: 0.5, y: 0, actionHandler: $g, cursorStyleHandler: Dr, actionName: fi }), ml: new cA({ x: -0.5, y: 0, actionHandler: $g, cursorStyleHandler: Dr, actionName: fi }) });
class Bi extends VA {
  static getDefaults() {
    return x(x({}, super.getDefaults()), Bi.ownDefaults);
  }
  constructor(t) {
    super(), Object.assign(this, this.constructor.createControls(), Bi.ownDefaults), this.setOptions(t);
  }
  static createControls() {
    return { controls: E2() };
  }
  _updateCacheCanvas() {
    const t = this.canvas;
    if (this.noScaleCache && t && t._currentTransform) {
      const e = t._currentTransform, A = e.target, r = e.action;
      if (this === A && r && r.startsWith(jc)) return !1;
    }
    return super._updateCacheCanvas();
  }
  getActiveControl() {
    const t = this.__corner;
    return t ? { key: t, control: this.controls[t], coord: this.oCoords[t] } : void 0;
  }
  findControl(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    if (!this.hasControls || !this.canvas) return;
    this.__corner = void 0;
    const A = Object.entries(this.oCoords);
    for (let r = A.length - 1; r >= 0; r--) {
      const [n, i] = A[r], o = this.controls[n];
      if (o.shouldActivate(n, this, t, e ? i.touchCorner : i.corner)) return this.__corner = n, { key: n, control: o, coord: this.oCoords[n] };
    }
  }
  calcOCoords() {
    const t = this.getViewportTransform(), e = this.getCenterPoint(), A = Li(e.x, e.y), r = Mi({ angle: this.getTotalAngle() - (this.group && this.flipX ? 180 : 0) }), n = me(A, r), i = me(t, n), o = me(i, [1 / t[0], 0, 0, 1 / t[3], 0, 0]), a = this.group ? sc(this.calcTransformMatrix()) : void 0;
    a && (a.scaleX = Math.abs(a.scaleX), a.scaleY = Math.abs(a.scaleY));
    const c = this._calculateCurrentDimensions(a), l = {};
    return this.forEachControl((h, d) => {
      const u = h.positionHandler(c, o, this, h);
      l[d] = Object.assign(u, this._calcCornerCoords(h, u));
    }), l;
  }
  _calcCornerCoords(t, e) {
    const A = this.getTotalAngle();
    return { corner: t.calcCornerCoords(A, this.cornerSize, e.x, e.y, !1, this), touchCorner: t.calcCornerCoords(A, this.touchCornerSize, e.x, e.y, !0, this) };
  }
  setCoords() {
    super.setCoords(), this.canvas && (this.oCoords = this.calcOCoords());
  }
  forEachControl(t) {
    for (const e in this.controls) t(this.controls[e], e, this);
  }
  drawSelectionBackground(t) {
    if (!this.selectionBackgroundColor || this.canvas && this.canvas._activeObject !== this) return;
    t.save();
    const e = this.getRelativeCenterPoint(), A = this._calculateCurrentDimensions(), r = this.getViewportTransform();
    t.translate(e.x, e.y), t.scale(1 / r[0], 1 / r[3]), t.rotate($t(this.angle)), t.fillStyle = this.selectionBackgroundColor, t.fillRect(-A.x / 2, -A.y / 2, A.x, A.y), t.restore();
  }
  strokeBorders(t, e) {
    t.strokeRect(-e.x / 2, -e.y / 2, e.x, e.y);
  }
  _drawBorders(t, e) {
    let A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    const r = x({ hasControls: this.hasControls, borderColor: this.borderColor, borderDashArray: this.borderDashArray }, A);
    t.save(), t.strokeStyle = r.borderColor, this._setLineDash(t, r.borderDashArray), this.strokeBorders(t, e), r.hasControls && this.drawControlsConnectingLines(t, e), t.restore();
  }
  _renderControls(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const { hasBorders: A, hasControls: r } = this, n = x({ hasBorders: A, hasControls: r }, e), i = this.getViewportTransform(), o = n.hasBorders, a = n.hasControls, c = me(i, this.calcTransformMatrix()), l = sc(c);
    t.save(), t.translate(l.translateX, l.translateY), t.lineWidth = this.borderScaleFactor, this.group === this.parent && (t.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1), this.flipX && (l.angle -= 180), t.rotate($t(this.group ? l.angle : this.angle)), o && this.drawBorders(t, l, e), a && this.drawControls(t, e), t.restore();
  }
  drawBorders(t, e, A) {
    let r;
    if (A && A.forActiveSelection || this.group) {
      const n = Du(this.width, this.height, Vc(e)), i = this.isStrokeAccountedForInDimensions() ? _u : (this.strokeUniform ? new U().scalarAdd(this.canvas ? this.canvas.getZoom() : 1) : new U(e.scaleX, e.scaleY)).scalarMultiply(this.strokeWidth);
      r = n.add(i).scalarAdd(this.borderScaleFactor).scalarAdd(2 * this.padding);
    } else r = this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);
    this._drawBorders(t, r, A);
  }
  drawControlsConnectingLines(t, e) {
    let A = !1;
    t.beginPath(), this.forEachControl((r, n) => {
      r.withConnection && r.getVisibility(this, n) && (A = !0, t.moveTo(r.x * e.x, r.y * e.y), t.lineTo(r.x * e.x + r.offsetX, r.y * e.y + r.offsetY));
    }), A && t.stroke();
  }
  drawControls(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    t.save();
    const A = this.getCanvasRetinaScaling(), { cornerStrokeColor: r, cornerDashArray: n, cornerColor: i } = this, o = x({ cornerStrokeColor: r, cornerDashArray: n, cornerColor: i }, e);
    t.setTransform(A, 0, 0, A, 0, 0), t.strokeStyle = t.fillStyle = o.cornerColor, this.transparentCorners || (t.strokeStyle = o.cornerStrokeColor), this._setLineDash(t, o.cornerDashArray), this.forEachControl((a, c) => {
      if (a.getVisibility(this, c)) {
        const l = this.oCoords[c];
        a.render(t, l.x, l.y, o, this);
      }
    }), t.restore();
  }
  isControlVisible(t) {
    return this.controls[t] && this.controls[t].getVisibility(this, t);
  }
  setControlVisible(t, e) {
    this._controlsVisibility || (this._controlsVisibility = {}), this._controlsVisibility[t] = e;
  }
  setControlsVisibility() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Object.entries(t).forEach((e) => {
      let [A, r] = e;
      return this.setControlVisible(A, r);
    });
  }
  clearContextTop(t) {
    if (!this.canvas) return;
    const e = this.canvas.contextTop;
    if (!e) return;
    const A = this.canvas.viewportTransform;
    e.save(), e.transform(A[0], A[1], A[2], A[3], A[4], A[5]), this.transform(e);
    const r = this.width + 4, n = this.height + 4;
    return e.clearRect(-r / 2, -n / 2, r, n), t || e.restore(), e;
  }
  onDeselect(t) {
    return !1;
  }
  onSelect(t) {
    return !1;
  }
  shouldStartDragging(t) {
    return !1;
  }
  onDragStart(t) {
    return !1;
  }
  canDrop(t) {
    return !1;
  }
  renderDragSourceEffect(t) {
  }
  renderDropTargetEffect(t) {
  }
}
function F2(s, t) {
  return t.forEach((e) => {
    Object.getOwnPropertyNames(e.prototype).forEach((A) => {
      A !== "constructor" && Object.defineProperty(s.prototype, A, Object.getOwnPropertyDescriptor(e.prototype, A) || /* @__PURE__ */ Object.create(null));
    });
  }), s;
}
k(Bi, "ownDefaults", { noScaleCache: !0, lockMovementX: !1, lockMovementY: !1, lockRotation: !1, lockScalingX: !1, lockScalingY: !1, lockSkewingX: !1, lockSkewingY: !1, lockScalingFlip: !1, cornerSize: 13, touchCornerSize: 24, transparentCorners: !0, cornerColor: "rgb(178,204,255)", cornerStrokeColor: "", cornerStyle: "rect", cornerDashArray: null, hasControls: !0, borderColor: "rgb(178,204,255)", borderDashArray: null, borderOpacityWhenMoving: 0.4, borderScaleFactor: 1, hasBorders: !0, selectionBackgroundColor: "", selectable: !0, evented: !0, perPixelTargetFind: !1, activeOn: "down", hoverCursor: null, moveCursor: null });
class ye extends Bi {
}
F2(ye, [B2]), J.setClass(ye), J.setClass(ye, "object");
class Q2 {
  constructor(t) {
    this.options = t, this.strokeProjectionMagnitude = this.options.strokeWidth / 2, this.scale = new U(this.options.scaleX, this.options.scaleY), this.strokeUniformScalar = this.options.strokeUniform ? new U(1 / this.options.scaleX, 1 / this.options.scaleY) : new U(1, 1);
  }
  createSideVector(t, e) {
    const A = zh(t, e);
    return this.options.strokeUniform ? A.multiply(this.scale) : A;
  }
  projectOrthogonally(t, e, A) {
    return this.applySkew(t.add(this.calcOrthogonalProjection(t, e, A)));
  }
  isSkewed() {
    return this.options.skewX !== 0 || this.options.skewY !== 0;
  }
  applySkew(t) {
    const e = new U(t);
    return e.y += e.x * Math.tan($t(this.options.skewY)), e.x += e.y * Math.tan($t(this.options.skewX)), e;
  }
  scaleUnitVector(t, e) {
    return t.multiply(this.strokeUniformScalar).scalarMultiply(e);
  }
}
const rx = new U();
class Wr extends Q2 {
  static getOrthogonalRotationFactor(t, e) {
    const A = e ? Il(t, e) : ((r) => Il(Tk, r))(t);
    return Math.abs(A) < Oi ? -1 : 1;
  }
  constructor(t, e, A, r) {
    super(r), k(this, "AB", void 0), k(this, "AC", void 0), k(this, "alpha", void 0), k(this, "bisector", void 0), this.A = new U(t), this.B = new U(e), this.C = new U(A), this.AB = this.createSideVector(this.A, this.B), this.AC = this.createSideVector(this.A, this.C), this.alpha = Il(this.AB, this.AC), this.bisector = Hu(C2(this.AB.eq(rx) ? this.AC : this.AB, this.alpha / 2));
  }
  calcOrthogonalProjection(t, e) {
    let A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.strokeProjectionMagnitude;
    const r = this.createSideVector(t, e), n = b2(r), i = Wr.getOrthogonalRotationFactor(n, this.bisector);
    return this.scaleUnitVector(n, A * i);
  }
  projectBevel() {
    const t = [];
    return (this.alpha % $a == 0 ? [this.B] : [this.B, this.C]).forEach((e) => {
      t.push(this.projectOrthogonally(this.A, e)), t.push(this.projectOrthogonally(this.A, e, -this.strokeProjectionMagnitude));
    }), t;
  }
  projectMiter() {
    const t = [], e = Math.abs(this.alpha), A = 1 / Math.sin(e / 2), r = this.scaleUnitVector(this.bisector, -this.strokeProjectionMagnitude * A), n = this.options.strokeUniform ? Zh(this.scaleUnitVector(this.bisector, this.options.strokeMiterLimit)) : this.options.strokeMiterLimit;
    return Zh(r) / this.strokeProjectionMagnitude <= n && t.push(this.applySkew(this.A.add(r))), t.push(...this.projectBevel()), t;
  }
  projectRoundNoSkew(t, e) {
    const A = [], r = new U(Wr.getOrthogonalRotationFactor(this.bisector), Wr.getOrthogonalRotationFactor(new U(this.bisector.y, this.bisector.x)));
    return [new U(1, 0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r), new U(0, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach((n) => {
      zg(n, t, e) && A.push(this.A.add(n));
    }), A;
  }
  projectRoundWithSkew(t, e) {
    const A = [], { skewX: r, skewY: n, scaleX: i, scaleY: o, strokeUniform: a } = this.options, c = new U(Math.tan($t(r)), Math.tan($t(n))), l = this.strokeProjectionMagnitude, h = a ? l / o / Math.sqrt(1 / o ** 2 + 1 / i ** 2 * c.y ** 2) : l / Math.sqrt(1 + c.y ** 2), d = new U(Math.sqrt(Math.max(l ** 2 - h ** 2, 0)), h), u = a ? l / Math.sqrt(1 + c.x ** 2 * (1 / o) ** 2 / (1 / i + 1 / i * c.x * c.y) ** 2) : l / Math.sqrt(1 + c.x ** 2 / (1 + c.x * c.y) ** 2), p = new U(u, Math.sqrt(Math.max(l ** 2 - u ** 2, 0)));
    return [p, p.scalarMultiply(-1), d, d.scalarMultiply(-1)].map((g) => this.applySkew(a ? g.multiply(this.strokeUniformScalar) : g)).forEach((g) => {
      zg(g, t, e) && A.push(this.applySkew(this.A).add(g));
    }), A;
  }
  projectRound() {
    const t = [];
    t.push(...this.projectBevel());
    const e = this.alpha % $a == 0, A = this.applySkew(this.A), r = t[e ? 0 : 2].subtract(A), n = t[e ? 1 : 0].subtract(A), i = e ? this.applySkew(this.AB.scalarMultiply(-1)) : this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)), o = ii(r, i) > 0, a = o ? r : n, c = o ? n : r;
    return this.isSkewed() ? t.push(...this.projectRoundWithSkew(a, c)) : t.push(...this.projectRoundNoSkew(a, c)), t;
  }
  projectPoints() {
    switch (this.options.strokeLineJoin) {
      case "miter":
        return this.projectMiter();
      case "round":
        return this.projectRound();
      default:
        return this.projectBevel();
    }
  }
  project() {
    return this.projectPoints().map((t) => ({ originPoint: this.A, projectedPoint: t, angle: this.alpha, bisector: this.bisector }));
  }
}
class A0 extends Q2 {
  constructor(t, e, A) {
    super(A), this.A = new U(t), this.T = new U(e);
  }
  calcOrthogonalProjection(t, e) {
    let A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.strokeProjectionMagnitude;
    const r = this.createSideVector(t, e);
    return this.scaleUnitVector(b2(r), A);
  }
  projectButt() {
    return [this.projectOrthogonally(this.A, this.T, this.strokeProjectionMagnitude), this.projectOrthogonally(this.A, this.T, -this.strokeProjectionMagnitude)];
  }
  projectRound() {
    const t = [];
    if (!this.isSkewed() && this.A.eq(this.T)) {
      const e = new U(1, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);
      t.push(this.applySkew(this.A.add(e)), this.applySkew(this.A.subtract(e)));
    } else t.push(...new Wr(this.A, this.T, this.T, this.options).projectRound());
    return t;
  }
  projectSquare() {
    const t = [];
    if (this.A.eq(this.T)) {
      const e = new U(1, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);
      t.push(this.A.add(e), this.A.subtract(e));
    } else {
      const e = this.calcOrthogonalProjection(this.A, this.T, this.strokeProjectionMagnitude), A = this.scaleUnitVector(Hu(this.createSideVector(this.A, this.T)), -this.strokeProjectionMagnitude), r = this.A.add(A);
      t.push(r.add(e), r.subtract(e));
    }
    return t.map((e) => this.applySkew(e));
  }
  projectPoints() {
    switch (this.options.strokeLineCap) {
      case "round":
        return this.projectRound();
      case "square":
        return this.projectSquare();
      default:
        return this.projectButt();
    }
  }
  project() {
    return this.projectPoints().map((t) => ({ originPoint: this.A, projectedPoint: t }));
  }
}
const Nu = (s) => {
  const t = {};
  return Object.keys(s).forEach((e) => {
    t[e] = {}, Object.keys(s[e]).forEach((A) => {
      t[e][A] = x({}, s[e][A]);
    });
  }), t;
}, ju = (s) => {
  const t = [];
  for (let e, A = 0; A < s.length; A++) (e = nx(s, A)) !== !1 && t.push(e);
  return t;
}, nx = (s, t) => {
  const e = s.charCodeAt(t);
  if (isNaN(e)) return "";
  if (e < 55296 || e > 57343) return s.charAt(t);
  if (55296 <= e && e <= 56319) {
    if (s.length <= t + 1) throw "High surrogate without following low surrogate";
    const r = s.charCodeAt(t + 1);
    if (56320 > r || r > 57343) throw "High surrogate without following low surrogate";
    return s.charAt(t) + s.charAt(t + 1);
  }
  if (t === 0) throw "Low surrogate without preceding high surrogate";
  const A = s.charCodeAt(t - 1);
  if (55296 > A || A > 56319) throw "Low surrogate without preceding high surrogate";
  return !1;
}, Vu = function(s, t) {
  let e = arguments.length > 2 && arguments[2] !== void 0 && arguments[2];
  return s.fill !== t.fill || s.stroke !== t.stroke || s.strokeWidth !== t.strokeWidth || s.fontSize !== t.fontSize || s.fontFamily !== t.fontFamily || s.fontWeight !== t.fontWeight || s.fontStyle !== t.fontStyle || s.textBackgroundColor !== t.textBackgroundColor || s.deltaY !== t.deltaY || e && (s.overline !== t.overline || s.underline !== t.underline || s.linethrough !== t.linethrough);
}, ix = (s, t) => {
  const e = t.split(`
`), A = [];
  let r = -1, n = {};
  s = Nu(s);
  for (let i = 0; i < e.length; i++) {
    const o = ju(e[i]);
    if (s[i]) for (let a = 0; a < o.length; a++) {
      r++;
      const c = s[i][a];
      c && Object.keys(c).length > 0 && (Vu(n, c, !0) ? A.push({ start: r, end: r + 1, style: c }) : A[A.length - 1].end++), n = c || {};
    }
    else r += o.length, n = {};
  }
  return A;
}, ox = (s, t) => {
  if (!Array.isArray(s)) return Nu(s);
  const e = t.split(Iu), A = {};
  let r = -1, n = 0;
  for (let i = 0; i < e.length; i++) {
    const o = ju(e[i]);
    for (let a = 0; a < o.length; a++) r++, s[n] && s[n].start <= r && r < s[n].end && (A[i] = A[i] || {}, A[i][a] = x({}, s[n].style), r === s[n].end - 1 && n++);
  }
  return A;
}, Ds = ["display", "transform", ae, "fill-opacity", "fill-rule", "opacity", He, "stroke-dasharray", "stroke-linecap", "stroke-dashoffset", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "id", "paint-order", "vector-effect", "instantiated_by_use", "clip-path"];
function s0(s, t) {
  const e = s.nodeName, A = s.getAttribute("class"), r = s.getAttribute("id"), n = "(?![a-zA-Z\\-]+)";
  let i;
  if (i = new RegExp("^" + e, "i"), t = t.replace(i, ""), r && t.length && (i = new RegExp("#" + r + n, "i"), t = t.replace(i, "")), A && t.length) {
    const o = A.split(" ");
    for (let a = o.length; a--; ) i = new RegExp("\\." + o[a] + n, "i"), t = t.replace(i, "");
  }
  return t.length === 0;
}
function ax(s, t) {
  let e = !0;
  const A = s0(s, t.pop());
  return A && t.length && (e = function(r, n) {
    let i, o = !0;
    for (; r.parentElement && r.parentElement.nodeType === 1 && n.length; ) o && (i = n.pop()), o = s0(r = r.parentElement, i);
    return n.length === 0;
  }(s, t)), A && e && t.length === 0;
}
const cx = (s) => {
  var t;
  return (t = Ik[s]) !== null && t !== void 0 ? t : s;
}, lx = new RegExp("(".concat(ir, ")"), "gi");
var r0, n0, i0, o0, a0, c0, l0;
const xe = "(".concat(ir, ")"), hx = String.raw(r0 || (r0 = Ms(["(skewX)(", ")"], ["(skewX)\\(", "\\)"])), xe), dx = String.raw(n0 || (n0 = Ms(["(skewY)(", ")"], ["(skewY)\\(", "\\)"])), xe), ux = String.raw(i0 || (i0 = Ms(["(rotate)(", "(?: ", " ", ")?)"], ["(rotate)\\(", "(?: ", " ", ")?\\)"])), xe, xe, xe), px = String.raw(o0 || (o0 = Ms(["(scale)(", "(?: ", ")?)"], ["(scale)\\(", "(?: ", ")?\\)"])), xe, xe), gx = String.raw(a0 || (a0 = Ms(["(translate)(", "(?: ", ")?)"], ["(translate)\\(", "(?: ", ")?\\)"])), xe, xe), fx = String.raw(c0 || (c0 = Ms(["(matrix)(", " ", " ", " ", " ", " ", ")"], ["(matrix)\\(", " ", " ", " ", " ", " ", "\\)"])), xe, xe, xe, xe, xe, xe), Gu = "(?:".concat(fx, "|").concat(gx, "|").concat(ux, "|").concat(px, "|").concat(hx, "|").concat(dx, ")"), mx = "(?:".concat(Gu, "*)"), wx = String.raw(l0 || (l0 = Ms(["^s*(?:", "?)s*$"], ["^\\s*(?:", "?)\\s*$"])), mx), Bx = new RegExp(wx), yx = new RegExp(Gu), Cx = new RegExp(Gu, "g");
function qh(s) {
  const t = [];
  if (!(s = ((e) => e.replace(lx, " $1 ").replace(/,/gi, " ").replace(/\s+/gi, " "))(s).replace(/\s*([()])\s*/gi, "$1")) || s && !Bx.test(s)) return [...Ue];
  for (const e of s.matchAll(Cx)) {
    const A = yx.exec(e[0]);
    if (!A) continue;
    let r = Ue;
    const n = A.filter((p) => !!p), [, i, ...o] = n, [a, c, l, h, d, u] = o.map((p) => parseFloat(p));
    switch (i) {
      case "translate":
        r = Li(a, c);
        break;
      case Tu:
        r = Mi({ angle: a }, { x: c, y: l });
        break;
      case jc:
        r = Lu(a, c);
        break;
      case rn:
        r = a2(a);
        break;
      case nn:
        r = c2(a);
        break;
      case "matrix":
        r = [a, c, l, h, d, u];
    }
    t.push(r);
  }
  return Ou(t);
}
function bx(s, t, e, A) {
  const r = Array.isArray(t);
  let n, i = t;
  if (s !== ae && s !== He || t !== Le) {
    if (s === "strokeUniform") return t === "non-scaling-stroke";
    if (s === "strokeDashArray") i = t === Le ? null : t.replace(/,/g, " ").split(/\s+/).map(parseFloat);
    else if (s === "transformMatrix") i = e && e.transformMatrix ? me(e.transformMatrix, qh(t)) : qh(t);
    else if (s === "visible") i = t !== Le && t !== "hidden", e && e.visible === !1 && (i = !1);
    else if (s === "opacity") i = parseFloat(t), e && e.opacity !== void 0 && (i *= e.opacity);
    else if (s === "textAnchor") i = t === "start" ? Ft : t === "end" ? Zt : dt;
    else if (s === "charSpacing") n = Vr(t, A) / A * 1e3;
    else if (s === "paintFirst") {
      const o = t.indexOf(ae), a = t.indexOf(He);
      i = ae, (o > -1 && a > -1 && a < o || o === -1 && a > -1) && (i = He);
    } else {
      if (s === "href" || s === "xlink:href" || s === "font" || s === "id") return t;
      if (s === "imageSmoothing") return t === "optimizeQuality";
      n = r ? t.map(Vr) : Vr(t, A);
    }
  } else i = "";
  return !r && isNaN(n) ? i : n;
}
const vx = { stroke: "strokeOpacity", fill: "fillOpacity" };
function cs(s, t, e) {
  if (!s) return {};
  let A, r = {}, n = Uu;
  s.parentNode && Xg.test(s.parentNode.nodeName) && (r = cs(s.parentElement, t, e), r.fontSize && (A = n = Vr(r.fontSize)));
  const i = x(x(x({}, t.reduce((c, l) => {
    const h = s.getAttribute(l);
    return h && (c[l] = h), c;
  }, {})), function(c) {
    let l = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, h = {};
    for (const d in l) ax(c, d.split(" ")) && (h = x(x({}, h), l[d]));
    return h;
  }(s, e)), function(c) {
    const l = {}, h = c.getAttribute("style");
    return h && (typeof h == "string" ? function(d, u) {
      d.replace(/;\s*$/, "").split(";").forEach((p) => {
        if (!p) return;
        const [g, m] = p.split(":");
        u[g.trim().toLowerCase()] = m.trim();
      });
    }(h, l) : function(d, u) {
      Object.entries(d).forEach((p) => {
        let [g, m] = p;
        m !== void 0 && (u[g.toLowerCase()] = m);
      });
    }(h, l)), l;
  }(s));
  i[Ul] && s.setAttribute(Ul, i[Ul]), i[Ql] && (A = Vr(i[Ql], n), i[Ql] = "".concat(A));
  const o = {};
  for (const c in i) {
    const l = cx(c), h = bx(l, i[c], r, A);
    o[l] = h;
  }
  o && o.font && function(c, l) {
    const h = c.match(Uk);
    if (!h) return;
    const d = h[1], u = h[3], p = h[4], g = h[5], m = h[6];
    d && (l.fontStyle = d), u && (l.fontWeight = isNaN(parseFloat(u)) ? u : parseFloat(u)), p && (l.fontSize = Vr(p)), m && (l.fontFamily = m), g && (l.lineHeight = g === "normal" ? 1 : g);
  }(o.font, o);
  const a = x(x({}, r), o);
  return Xg.test(s.nodeName) ? a : function(c) {
    const l = ye.getDefaults();
    return Object.entries(vx).forEach((h) => {
      let [d, u] = h;
      if (c[u] === void 0 || c[d] === "") return;
      if (c[d] === void 0) {
        if (!l[d]) return;
        c[d] = l[d];
      }
      if (c[d].indexOf("url(") === 0) return;
      const p = new Et(c[d]);
      c[d] = p.setAlpha(Wt(p.getAlpha() * c[u], 2)).toRgba();
    }), c;
  }(a);
}
const kx = ["left", "top", "width", "height", "visible"], U2 = ["rx", "ry"];
class eA extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), eA.ownDefaults);
  }
  constructor(t) {
    super(), Object.assign(this, eA.ownDefaults), this.setOptions(t), this._initRxRy();
  }
  _initRxRy() {
    const { rx: t, ry: e } = this;
    t && !e ? this.ry = t : e && !t && (this.rx = e);
  }
  _render(t) {
    const { width: e, height: A } = this, r = -e / 2, n = -A / 2, i = this.rx ? Math.min(this.rx, e / 2) : 0, o = this.ry ? Math.min(this.ry, A / 2) : 0, a = i !== 0 || o !== 0;
    t.beginPath(), t.moveTo(r + i, n), t.lineTo(r + e - i, n), a && t.bezierCurveTo(r + e - ls * i, n, r + e, n + ls * o, r + e, n + o), t.lineTo(r + e, n + A - o), a && t.bezierCurveTo(r + e, n + A - ls * o, r + e - ls * i, n + A, r + e - i, n + A), t.lineTo(r + i, n + A), a && t.bezierCurveTo(r + ls * i, n + A, r, n + A - ls * o, r, n + A - o), t.lineTo(r, n + o), a && t.bezierCurveTo(r, n + ls * o, r + ls * i, n, r + i, n), t.closePath(), this._renderPaintInOrder(t);
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return super.toObject([...U2, ...t]);
  }
  _toSVG() {
    const { width: t, height: e, rx: A, ry: r } = this;
    return ["<rect ", "COMMON_PARTS", 'x="'.concat(-t / 2, '" y="').concat(-e / 2, '" rx="').concat(A, '" ry="').concat(r, '" width="').concat(t, '" height="').concat(e, `" />
`)];
  }
  static async fromElement(t, e, A) {
    const r = cs(t, this.ATTRIBUTE_NAMES, A), { left: n = 0, top: i = 0, width: o = 0, height: a = 0, visible: c = !0 } = r, l = Vt(r, kx);
    return new this(x(x(x({}, e), l), {}, { left: n, top: i, width: o, height: a, visible: !!(c && o && a) }));
  }
}
k(eA, "type", "Rect"), k(eA, "cacheProperties", [...as, ...U2]), k(eA, "ownDefaults", { rx: 0, ry: 0 }), k(eA, "ATTRIBUTE_NAMES", [...Ds, "x", "y", "rx", "ry", "width", "height"]), J.setClass(eA), J.setSVGClass(eA);
const XA = "initialization", cc = "added", Wu = "removed", lc = "imperative", I2 = (s, t) => {
  const { strokeUniform: e, strokeWidth: A, width: r, height: n, group: i } = t, o = i && i !== s ? ic(i.calcTransformMatrix(), s.calcTransformMatrix()) : null, a = o ? t.getRelativeCenterPoint().transform(o) : t.getRelativeCenterPoint(), c = !t.isStrokeAccountedForInDimensions(), l = e && c ? function(u) {
    let p = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Ue, g = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Ue;
    return u.transform(ic(p, g), !0);
  }(new U(A, A), void 0, s.calcTransformMatrix()) : _u, h = !e && c ? A : 0, d = Du(r + h, n + h, Ou([o, t.calcOwnMatrix()], !0)).add(l).scalarDivide(2);
  return [a.subtract(d), a.add(d)];
};
class Yc {
  calcLayoutResult(t, e) {
    if (this.shouldPerformLayout(t)) return this.calcBoundingBox(e, t);
  }
  shouldPerformLayout(t) {
    let { type: e, prevStrategy: A, strategy: r } = t;
    return e === XA || e === lc || !!A && r !== A;
  }
  shouldLayoutClipPath(t) {
    let { type: e, target: { clipPath: A } } = t;
    return e !== XA && A && !A.absolutePositioned;
  }
  getInitialSize(t, e) {
    return e.size;
  }
  calcBoundingBox(t, e) {
    const { type: A, target: r } = e;
    if (A === lc && e.overrides) return e.overrides;
    if (t.length === 0) return;
    const { left: n, top: i, width: o, height: a } = As(t.map((h) => I2(r, h)).reduce((h, d) => h.concat(d), [])), c = new U(o, a), l = new U(n, i).add(c.scalarDivide(2));
    if (A === XA) {
      const h = this.getInitialSize(e, { size: c, center: l });
      return { center: l, relativeCorrection: new U(0, 0), size: h };
    }
    return { center: l.transform(r.calcOwnMatrix()), size: c };
  }
}
k(Yc, "type", "strategy");
class $h extends Yc {
  shouldPerformLayout(t) {
    return !0;
  }
}
k($h, "type", "fit-content"), J.setClass($h);
const xx = ["strategy"], Sx = ["target", "strategy", "bubbles", "prevStrategy"], T2 = "layoutManager";
class yi {
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new $h();
    k(this, "strategy", void 0), this.strategy = t, this._subscriptions = /* @__PURE__ */ new Map();
  }
  performLayout(t) {
    const e = x(x({ bubbles: !0, strategy: this.strategy }, t), {}, { prevStrategy: this._prevLayoutStrategy, stopPropagation() {
      this.bubbles = !1;
    } });
    this.onBeforeLayout(e);
    const A = this.getLayoutResult(e);
    A && this.commitLayout(e, A), this.onAfterLayout(e, A), this._prevLayoutStrategy = e.strategy;
  }
  attachHandlers(t, e) {
    const { target: A } = e;
    return [ec, $w, fi, t2, Nc, e2, tc, yk, Ck].map((r) => t.on(r, (n) => this.performLayout(r === ec ? { type: "object_modified", trigger: r, e: n, target: A } : { type: "object_modifying", trigger: r, e: n, target: A })));
  }
  subscribe(t, e) {
    this.unsubscribe(t, e);
    const A = this.attachHandlers(t, e);
    this._subscriptions.set(t, A);
  }
  unsubscribe(t, e) {
    (this._subscriptions.get(t) || []).forEach((A) => A()), this._subscriptions.delete(t);
  }
  unsubscribeTargets(t) {
    t.targets.forEach((e) => this.unsubscribe(e, t));
  }
  subscribeTargets(t) {
    t.targets.forEach((e) => this.subscribe(e, t));
  }
  onBeforeLayout(t) {
    const { target: e, type: A } = t, { canvas: r } = e;
    if (A === XA || A === cc ? this.subscribeTargets(t) : A === Wu && this.unsubscribeTargets(t), e.fire("layout:before", { context: t }), r && r.fire("object:layout:before", { target: e, context: t }), A === lc && t.deep) {
      const n = Vt(t, xx);
      e.forEachObject((i) => i.layoutManager && i.layoutManager.performLayout(x(x({}, n), {}, { bubbles: !1, target: i })));
    }
  }
  getLayoutResult(t) {
    const { target: e, strategy: A, type: r } = t, n = A.calcLayoutResult(t, e.getObjects());
    if (!n) return;
    const i = r === XA ? new U() : e.getRelativeCenterPoint(), { center: o, correction: a = new U(), relativeCorrection: c = new U() } = n, l = i.subtract(o).add(a).transform(r === XA ? Ue : mA(e.calcOwnMatrix()), !0).add(c);
    return { result: n, prevCenter: i, nextCenter: o, offset: l };
  }
  commitLayout(t, e) {
    const { target: A } = t, { result: { size: r }, nextCenter: n } = e;
    var i, o;
    A.set({ width: r.x, height: r.y }), this.layoutObjects(t, e), t.type === XA ? A.set({ left: (i = t.x) !== null && i !== void 0 ? i : n.x + r.x * se(A.originX), top: (o = t.y) !== null && o !== void 0 ? o : n.y + r.y * se(A.originY) }) : (A.setPositionByOrigin(n, dt, dt), A.setCoords(), A.set("dirty", !0));
  }
  layoutObjects(t, e) {
    const { target: A } = t;
    A.forEachObject((r) => {
      r.group === A && this.layoutObject(t, e, r);
    }), t.strategy.shouldLayoutClipPath(t) && this.layoutObject(t, e, A.clipPath);
  }
  layoutObject(t, e, A) {
    let { offset: r } = e;
    A.set({ left: A.left + r.x, top: A.top + r.y });
  }
  onAfterLayout(t, e) {
    const { target: A, strategy: r, bubbles: n, prevStrategy: i } = t, o = Vt(t, Sx), { canvas: a } = A;
    A.fire("layout:after", { context: t, result: e }), a && a.fire("object:layout:after", { context: t, result: e, target: A });
    const c = A.parent;
    n && c != null && c.layoutManager && ((o.path || (o.path = [])).push(A), c.layoutManager.performLayout(x(x({}, o), {}, { target: c }))), A.set("dirty", !0);
  }
  dispose() {
    const { _subscriptions: t } = this;
    t.forEach((e) => e.forEach((A) => A())), t.clear();
  }
  toObject() {
    return { type: T2, strategy: this.strategy.constructor.type };
  }
  toJSON() {
    return this.toObject();
  }
}
J.setClass(yi, T2);
const Ex = ["type", "objects", "layoutManager"];
class Fx extends yi {
  performLayout() {
  }
}
class er extends A2(ye) {
  static getDefaults() {
    return x(x({}, super.getDefaults()), er.ownDefaults);
  }
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(), k(this, "_activeObjects", []), k(this, "__objectSelectionTracker", void 0), k(this, "__objectSelectionDisposer", void 0), Object.assign(this, er.ownDefaults), this.setOptions(e), this.groupInit(t, e);
  }
  groupInit(t, e) {
    var A;
    this._objects = [...t], this.__objectSelectionTracker = this.__objectSelectionMonitor.bind(this, !0), this.__objectSelectionDisposer = this.__objectSelectionMonitor.bind(this, !1), this.forEachObject((r) => {
      this.enterGroup(r, !1);
    }), this.layoutManager = (A = e.layoutManager) !== null && A !== void 0 ? A : new yi(), this.layoutManager.performLayout({ type: XA, target: this, targets: [...t], x: e.left, y: e.top });
  }
  canEnterGroup(t) {
    return t === this || this.isDescendantOf(t) ? (_s("error", "Group: circular object trees are not supported, this call has no effect"), !1) : this._objects.indexOf(t) === -1 || (_s("error", "Group: duplicate objects are not supported inside group, this call has no effect"), !1);
  }
  _filterObjectsBeforeEnteringGroup(t) {
    return t.filter((e, A, r) => this.canEnterGroup(e) && r.indexOf(e) === A);
  }
  add() {
    for (var t = arguments.length, e = new Array(t), A = 0; A < t; A++) e[A] = arguments[A];
    const r = this._filterObjectsBeforeEnteringGroup(e), n = super.add(...r);
    return this._onAfterObjectsChange(cc, r), n;
  }
  insertAt(t) {
    for (var e = arguments.length, A = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) A[r - 1] = arguments[r];
    const n = this._filterObjectsBeforeEnteringGroup(A), i = super.insertAt(t, ...n);
    return this._onAfterObjectsChange(cc, n), i;
  }
  remove() {
    const t = super.remove(...arguments);
    return this._onAfterObjectsChange(Wu, t), t;
  }
  _onObjectAdded(t) {
    this.enterGroup(t, !0), this.fire("object:added", { target: t }), t.fire("added", { target: this });
  }
  _onObjectRemoved(t, e) {
    this.exitGroup(t, e), this.fire("object:removed", { target: t }), t.fire("removed", { target: this });
  }
  _onAfterObjectsChange(t, e) {
    this.layoutManager.performLayout({ type: t, targets: e, target: this });
  }
  _onStackOrderChanged() {
    this._set("dirty", !0);
  }
  _set(t, e) {
    const A = this[t];
    return super._set(t, e), t === "canvas" && A !== e && (this._objects || []).forEach((r) => {
      r._set(t, e);
    }), this;
  }
  _shouldSetNestedCoords() {
    return this.subTargetCheck;
  }
  removeAll() {
    return this._activeObjects = [], this.remove(...this._objects);
  }
  __objectSelectionMonitor(t, e) {
    let { target: A } = e;
    const r = this._activeObjects;
    if (t) r.push(A), this._set("dirty", !0);
    else if (r.length > 0) {
      const n = r.indexOf(A);
      n > -1 && (r.splice(n, 1), this._set("dirty", !0));
    }
  }
  _watchObject(t, e) {
    t && this._watchObject(!1, e), t ? (e.on("selected", this.__objectSelectionTracker), e.on("deselected", this.__objectSelectionDisposer)) : (e.off("selected", this.__objectSelectionTracker), e.off("deselected", this.__objectSelectionDisposer));
  }
  enterGroup(t, e) {
    t.group && t.group.remove(t), t._set("parent", this), this._enterGroup(t, e);
  }
  _enterGroup(t, e) {
    e && nc(t, me(mA(this.calcTransformMatrix()), t.calcTransformMatrix())), this._shouldSetNestedCoords() && t.setCoords(), t._set("group", this), t._set("canvas", this.canvas), this._watchObject(!0, t);
    const A = this.canvas && this.canvas.getActiveObject && this.canvas.getActiveObject();
    A && (A === t || t.isDescendantOf(A)) && this._activeObjects.push(t);
  }
  exitGroup(t, e) {
    this._exitGroup(t, e), t._set("parent", void 0), t._set("canvas", void 0);
  }
  _exitGroup(t, e) {
    t._set("group", void 0), e || (nc(t, me(this.calcTransformMatrix(), t.calcTransformMatrix())), t.setCoords()), this._watchObject(!1, t);
    const A = this._activeObjects.length > 0 ? this._activeObjects.indexOf(t) : -1;
    A > -1 && this._activeObjects.splice(A, 1);
  }
  shouldCache() {
    const t = ye.prototype.shouldCache.call(this);
    if (t) {
      for (let e = 0; e < this._objects.length; e++) if (this._objects[e].willDrawShadow()) return this.ownCaching = !1, !1;
    }
    return t;
  }
  willDrawShadow() {
    if (super.willDrawShadow()) return !0;
    for (let t = 0; t < this._objects.length; t++) if (this._objects[t].willDrawShadow()) return !0;
    return !1;
  }
  isOnACache() {
    return this.ownCaching || !!this.parent && this.parent.isOnACache();
  }
  drawObject(t, e, A) {
    this._renderBackground(t);
    for (let n = 0; n < this._objects.length; n++) {
      var r;
      const i = this._objects[n];
      (r = this.canvas) !== null && r !== void 0 && r.preserveObjectStacking && i.group !== this ? (t.save(), t.transform(...mA(this.calcTransformMatrix())), i.render(t), t.restore()) : i.group === this && i.render(t);
    }
    this._drawClipPath(t, this.clipPath, A);
  }
  setCoords() {
    super.setCoords(), this._shouldSetNestedCoords() && this.forEachObject((t) => t.setCoords());
  }
  triggerLayout() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.layoutManager.performLayout(x({ target: this, type: lc }, t));
  }
  render(t) {
    this._transformDone = !0, super.render(t), this._transformDone = !1;
  }
  __serializeObjects(t, e) {
    const A = this.includeDefaultValues;
    return this._objects.filter(function(r) {
      return !r.excludeFromExport;
    }).map(function(r) {
      const n = r.includeDefaultValues;
      r.includeDefaultValues = A;
      const i = r[t || "toObject"](e);
      return r.includeDefaultValues = n, i;
    });
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    const e = this.layoutManager.toObject();
    return x(x(x({}, super.toObject(["subTargetCheck", "interactive", ...t])), e.strategy !== "fit-content" || this.includeDefaultValues ? { layoutManager: e } : {}), {}, { objects: this.__serializeObjects("toObject", t) });
  }
  toString() {
    return "#<Group: (".concat(this.complexity(), ")>");
  }
  dispose() {
    this.layoutManager.unsubscribeTargets({ targets: this.getObjects(), target: this }), this._activeObjects = [], this.forEachObject((t) => {
      this._watchObject(!1, t), t.dispose();
    }), super.dispose();
  }
  _createSVGBgRect(t) {
    if (!this.backgroundColor) return "";
    const e = eA.prototype._toSVG.call(this), A = e.indexOf("COMMON_PARTS");
    e[A] = 'for="group" ';
    const r = e.join("");
    return t ? t(r) : r;
  }
  _toSVG(t) {
    const e = ["<g ", "COMMON_PARTS", ` >
`], A = this._createSVGBgRect(t);
    A && e.push("		", A);
    for (let r = 0; r < this._objects.length; r++) e.push("		", this._objects[r].toSVG(t));
    return e.push(`</g>
`), e;
  }
  getSvgStyles() {
    const t = this.opacity !== void 0 && this.opacity !== 1 ? "opacity: ".concat(this.opacity, ";") : "", e = this.visible ? "" : " visibility: hidden;";
    return [t, this.getSvgFilter(), e].join("");
  }
  toClipPathSVG(t) {
    const e = [], A = this._createSVGBgRect(t);
    A && e.push("	", A);
    for (let r = 0; r < this._objects.length; r++) e.push("	", this._objects[r].toClipPathSVG(t));
    return this._createBaseClipPathSVGMarkup(e, { reviver: t });
  }
  static fromObject(t, e) {
    let { type: A, objects: r = [], layoutManager: n } = t, i = Vt(t, Ex);
    return Promise.all([mi(r, e), Gc(i, e)]).then((o) => {
      let [a, c] = o;
      const l = new this(a, x(x(x({}, i), c), {}, { layoutManager: new Fx() }));
      if (n) {
        const h = J.getClass(n.type), d = J.getClass(n.strategy);
        l.layoutManager = new h(new d());
      } else l.layoutManager = new yi();
      return l.layoutManager.subscribeTargets({ type: XA, target: l, targets: l.getObjects() }), l.setCoords(), l;
    });
  }
}
k(er, "type", "Group"), k(er, "ownDefaults", { strokeWidth: 0, subTargetCheck: !1, interactive: !1 }), J.setClass(er);
const td = "\\s*,?\\s*", un = "".concat(td, "(").concat(ir, ")"), Qx = "".concat(un).concat(un).concat(un).concat(td, "([01])").concat(td, "([01])").concat(un).concat(un), Ux = { m: "l", M: "L" }, Ix = (s, t, e, A, r, n, i, o, a, c, l) => {
  const h = ns(s), d = is(s), u = ns(t), p = is(t), g = e * r * u - A * n * p + i, m = A * r * u + e * n * p + o;
  return ["C", c + a * (-e * r * d - A * n * h), l + a * (-A * r * d + e * n * h), g + a * (e * r * p + A * n * u), m + a * (A * r * p - e * n * u), g, m];
}, h0 = (s, t, e, A) => {
  const r = Math.atan2(t, s), n = Math.atan2(A, e);
  return n >= r ? n - r : 2 * Math.PI - (r - n);
};
function d0(s, t, e, A, r, n, i, o) {
  let a;
  if (kt.cachesBoundsOfCurve && (a = [...arguments].join(), ni.boundsOfCurveCache[a])) return ni.boundsOfCurveCache[a];
  const c = Math.sqrt, l = Math.abs, h = [], d = [[0, 0], [0, 0]];
  let u = 6 * s - 12 * e + 6 * r, p = -3 * s + 9 * e - 9 * r + 3 * i, g = 3 * e - 3 * s;
  for (let C = 0; C < 2; ++C) {
    if (C > 0 && (u = 6 * t - 12 * A + 6 * n, p = -3 * t + 9 * A - 9 * n + 3 * o, g = 3 * A - 3 * t), l(p) < 1e-12) {
      if (l(u) < 1e-12) continue;
      const _ = -g / u;
      0 < _ && _ < 1 && h.push(_);
      continue;
    }
    const v = u * u - 4 * g * p;
    if (v < 0) continue;
    const F = c(v), Q = (-u + F) / (2 * p);
    0 < Q && Q < 1 && h.push(Q);
    const E = (-u - F) / (2 * p);
    0 < E && E < 1 && h.push(E);
  }
  let m = h.length;
  const f = m, w = _2(s, t, e, A, r, n, i, o);
  for (; m--; ) {
    const { x: C, y: v } = w(h[m]);
    d[0][m] = C, d[1][m] = v;
  }
  d[0][f] = s, d[1][f] = t, d[0][f + 1] = i, d[1][f + 1] = o;
  const B = [new U(Math.min(...d[0]), Math.min(...d[1])), new U(Math.max(...d[0]), Math.max(...d[1]))];
  return kt.cachesBoundsOfCurve && (ni.boundsOfCurveCache[a] = B), B;
}
const Tx = (s, t, e) => {
  let [A, r, n, i, o, a, c, l] = e;
  const h = ((d, u, p, g, m, f, w) => {
    if (p === 0 || g === 0) return [];
    let B = 0, C = 0, v = 0;
    const F = Math.PI, Q = w * Qu, E = is(Q), _ = ns(Q), P = 0.5 * (-_ * d - E * u), K = 0.5 * (-_ * u + E * d), T = p ** 2, D = g ** 2, I = K ** 2, y = P ** 2, S = T * D - T * I - D * y;
    let M = Math.abs(p), R = Math.abs(g);
    if (S < 0) {
      const X = Math.sqrt(1 - S / (T * D));
      M *= X, R *= X;
    } else v = (m === f ? -1 : 1) * Math.sqrt(S / (T * I + D * y));
    const H = v * M * K / R, L = -v * R * P / M, j = _ * H - E * L + 0.5 * d, Z = E * H + _ * L + 0.5 * u;
    let $ = h0(1, 0, (P - H) / M, (K - L) / R), nt = h0((P - H) / M, (K - L) / R, (-P - H) / M, (-K - L) / R);
    f === 0 && nt > 0 ? nt -= 2 * F : f === 1 && nt < 0 && (nt += 2 * F);
    const wt = Math.ceil(Math.abs(nt / F * 2)), At = [], tt = nt / wt, gt = 8 / 3 * Math.sin(tt / 4) * Math.sin(tt / 4) / Math.sin(tt / 2);
    let ct = $ + tt;
    for (let X = 0; X < wt; X++) At[X] = Ix($, ct, _, E, M, R, j, Z, gt, B, C), B = At[X][5], C = At[X][6], $ = ct, ct += tt;
    return At;
  })(c - s, l - t, r, n, o, a, i);
  for (let d = 0, u = h.length; d < u; d++) h[d][1] += s, h[d][2] += t, h[d][3] += s, h[d][4] += t, h[d][5] += s, h[d][6] += t;
  return h;
}, hc = (s, t, e, A) => Math.sqrt((e - s) ** 2 + (A - t) ** 2), _2 = (s, t, e, A, r, n, i, o) => (a) => {
  const c = a ** 3, l = ((u) => 3 * u ** 2 * (1 - u))(a), h = ((u) => 3 * u * (1 - u) ** 2)(a), d = ((u) => (1 - u) ** 3)(a);
  return new U(i * c + r * l + e * h + s * d, o * c + n * l + A * h + t * d);
}, O2 = (s) => s ** 2, L2 = (s) => 2 * s * (1 - s), M2 = (s) => (1 - s) ** 2, _x = (s, t, e, A, r, n, i, o) => (a) => {
  const c = O2(a), l = L2(a), h = M2(a), d = 3 * (h * (e - s) + l * (r - e) + c * (i - r)), u = 3 * (h * (A - t) + l * (n - A) + c * (o - n));
  return Math.atan2(u, d);
}, Ox = (s, t, e, A, r, n) => (i) => {
  const o = O2(i), a = L2(i), c = M2(i);
  return new U(r * o + e * a + s * c, n * o + A * a + t * c);
}, Lx = (s, t, e, A, r, n) => (i) => {
  const o = 1 - i, a = 2 * (o * (e - s) + i * (r - e)), c = 2 * (o * (A - t) + i * (n - A));
  return Math.atan2(c, a);
}, u0 = (s, t, e) => {
  let A = new U(t, e), r = 0;
  for (let n = 1; n <= 100; n += 1) {
    const i = s(n / 100);
    r += hc(A.x, A.y, i.x, i.y), A = i;
  }
  return r;
}, D2 = (s) => {
  let t, e, A = 0, r = 0, n = 0, i = 0, o = 0;
  const a = [];
  for (const c of s) {
    const l = { x: r, y: n, command: c[0], length: 0 };
    switch (c[0]) {
      case "M":
        e = l, e.x = i = r = c[1], e.y = o = n = c[2];
        break;
      case "L":
        e = l, e.length = hc(r, n, c[1], c[2]), r = c[1], n = c[2];
        break;
      case "C":
        t = _2(r, n, c[1], c[2], c[3], c[4], c[5], c[6]), e = l, e.iterator = t, e.angleFinder = _x(r, n, c[1], c[2], c[3], c[4], c[5], c[6]), e.length = u0(t, r, n), r = c[5], n = c[6];
        break;
      case "Q":
        t = Ox(r, n, c[1], c[2], c[3], c[4]), e = l, e.iterator = t, e.angleFinder = Lx(r, n, c[1], c[2], c[3], c[4]), e.length = u0(t, r, n), r = c[3], n = c[4];
        break;
      case "Z":
        e = l, e.destX = i, e.destY = o, e.length = hc(r, n, i, o), r = i, n = o;
    }
    A += e.length, a.push(e);
  }
  return a.push({ length: A, x: r, y: n }), a;
}, Mx = function(s, t) {
  let e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : D2(s), A = 0;
  for (; t - e[A].length > 0 && A < e.length - 2; ) t -= e[A].length, A++;
  const r = e[A], n = t / r.length, i = s[A];
  switch (r.command) {
    case "M":
      return { x: r.x, y: r.y, angle: 0 };
    case "Z":
      return x(x({}, new U(r.x, r.y).lerp(new U(r.destX, r.destY), n)), {}, { angle: Math.atan2(r.destY - r.y, r.destX - r.x) });
    case "L":
      return x(x({}, new U(r.x, r.y).lerp(new U(i[1], i[2]), n)), {}, { angle: Math.atan2(i[2] - r.y, i[1] - r.x) });
    case "C":
    case "Q":
      return ((o, a) => {
        let c, l = 0, h = 0, d = { x: o.x, y: o.y }, u = x({}, d), p = 0.01, g = 0;
        const m = o.iterator, f = o.angleFinder;
        for (; h < a && p > 1e-4; ) u = m(l), g = l, c = hc(d.x, d.y, u.x, u.y), c + h > a ? (l -= p, p /= 2) : (d = u, l += p, h += c);
        return x(x({}, u), {}, { angle: f(g) });
      })(r, t);
  }
}, Dx = new RegExp("[mzlhvcsqta][^mzlhvcsqta]*", "gi"), p0 = new RegExp(Qx, "g"), Rx = new RegExp(ir, "gi"), Hx = { m: 2, l: 2, h: 1, v: 1, c: 6, s: 4, q: 4, t: 2, a: 7 }, R2 = (s, t) => s.map((e) => e.map((A, r) => r === 0 || t === void 0 ? A : Wt(A, t)).join(" ")).join(" ");
function ed(s, t) {
  const e = s.style;
  e && t && (typeof t == "string" ? e.cssText += ";" + t : Object.entries(t).forEach((A) => {
    let [r, n] = A;
    return e.setProperty(r, n);
  }));
}
class Px extends u2 {
  constructor(t) {
    let { allowTouchScrolling: e = !1, containerClass: A = "" } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(t), k(this, "upper", void 0), k(this, "container", void 0);
    const { el: r } = this.lower, n = this.createUpperCanvas();
    this.upper = { el: n, ctx: n.getContext("2d") }, this.applyCanvasStyle(r, { allowTouchScrolling: e }), this.applyCanvasStyle(n, { allowTouchScrolling: e, styles: { position: "absolute", left: "0", top: "0" } });
    const i = this.createContainerElement();
    i.classList.add(A), r.parentNode && r.parentNode.replaceChild(i, r), i.append(r, n), this.container = i;
  }
  createUpperCanvas() {
    const { el: t } = this.lower, e = BA();
    return e.className = t.className, e.classList.remove("lower-canvas"), e.classList.add("upper-canvas"), e.setAttribute("data-fabric", "top"), e.style.cssText = t.style.cssText, e.setAttribute("draggable", "true"), e;
  }
  createContainerElement() {
    const t = sn().createElement("div");
    return t.setAttribute("data-fabric", "wrapper"), ed(t, { position: "relative" }), Wg(t), t;
  }
  applyCanvasStyle(t, e) {
    const { styles: A, allowTouchScrolling: r } = e;
    ed(t, x(x({}, A), {}, { "touch-action": r ? "manipulation" : Le })), Wg(t);
  }
  setDimensions(t, e) {
    super.setDimensions(t, e);
    const { el: A, ctx: r } = this.upper;
    d2(A, r, t, e);
  }
  setCSSDimensions(t) {
    super.setCSSDimensions(t), Yh(this.upper.el, t), Yh(this.container, t);
  }
  cleanupDOM(t) {
    const e = this.container, { el: A } = this.lower, { el: r } = this.upper;
    super.cleanupDOM(t), e.removeChild(r), e.removeChild(A), e.parentNode && e.parentNode.replaceChild(A, e);
  }
  dispose() {
    super.dispose(), RA().dispose(this.upper.el), delete this.upper, delete this.container;
  }
}
class Jc extends Di {
  constructor() {
    super(...arguments), k(this, "targets", []), k(this, "_hoveredTargets", []), k(this, "_objectsToRender", void 0), k(this, "_currentTransform", null), k(this, "_groupSelector", null), k(this, "contextTopDirty", !1);
  }
  static getDefaults() {
    return x(x({}, super.getDefaults()), Jc.ownDefaults);
  }
  get upperCanvasEl() {
    var t;
    return (t = this.elements.upper) === null || t === void 0 ? void 0 : t.el;
  }
  get contextTop() {
    var t;
    return (t = this.elements.upper) === null || t === void 0 ? void 0 : t.ctx;
  }
  get wrapperEl() {
    return this.elements.container;
  }
  initElements(t) {
    this.elements = new Px(t, { allowTouchScrolling: this.allowTouchScrolling, containerClass: this.containerClass }), this._createCacheCanvas();
  }
  _onObjectAdded(t) {
    this._objectsToRender = void 0, super._onObjectAdded(t);
  }
  _onObjectRemoved(t) {
    this._objectsToRender = void 0, t === this._activeObject && (this.fire("before:selection:cleared", { deselected: [t] }), this._discardActiveObject(), this.fire("selection:cleared", { deselected: [t] }), t.fire("deselected", { target: t })), t === this._hoveredTarget && (this._hoveredTarget = void 0, this._hoveredTargets = []), super._onObjectRemoved(t);
  }
  _onStackOrderChanged() {
    this._objectsToRender = void 0, super._onStackOrderChanged();
  }
  _chooseObjectsToRender() {
    const t = this._activeObject;
    return !this.preserveObjectStacking && t ? this._objects.filter((e) => !e.group && e !== t).concat(t) : this._objects;
  }
  renderAll() {
    this.cancelRequestedRender(), this.destroyed || (!this.contextTopDirty || this._groupSelector || this.isDrawingMode || (this.clearContext(this.contextTop), this.contextTopDirty = !1), this.hasLostContext && (this.renderTopLayer(this.contextTop), this.hasLostContext = !1), !this._objectsToRender && (this._objectsToRender = this._chooseObjectsToRender()), this.renderCanvas(this.getContext(), this._objectsToRender));
  }
  renderTopLayer(t) {
    t.save(), this.isDrawingMode && this._isCurrentlyDrawing && (this.freeDrawingBrush && this.freeDrawingBrush._render(), this.contextTopDirty = !0), this.selection && this._groupSelector && (this._drawSelection(t), this.contextTopDirty = !0), t.restore();
  }
  renderTop() {
    const t = this.contextTop;
    this.clearContext(t), this.renderTopLayer(t), this.fire("after:render", { ctx: t });
  }
  setTargetFindTolerance(t) {
    t = Math.round(t), this.targetFindTolerance = t;
    const e = this.getRetinaScaling(), A = Math.ceil((2 * t + 1) * e);
    this.pixelFindCanvasEl.width = this.pixelFindCanvasEl.height = A, this.pixelFindContext.scale(e, e);
  }
  isTargetTransparent(t, e, A) {
    const r = this.targetFindTolerance, n = this.pixelFindContext;
    this.clearContext(n), n.save(), n.translate(-e + r, -A + r), n.transform(...this.viewportTransform);
    const i = t.selectionBackgroundColor;
    t.selectionBackgroundColor = "", t.render(n), t.selectionBackgroundColor = i, n.restore();
    const o = Math.round(r * this.getRetinaScaling());
    return ((a, c, l, h) => {
      const d = 2 * (h = Math.round(h)) + 1, { data: u } = a.getImageData(c - h, l - h, d, d);
      for (let p = 3; p < u.length; p += 4) if (u[p] > 0) return !1;
      return !0;
    })(n, o, o, o);
  }
  _isSelectionKeyPressed(t) {
    const e = this.selectionKey;
    return !!e && (Array.isArray(e) ? !!e.find((A) => !!A && t[A] === !0) : t[e]);
  }
  _shouldClearSelection(t, e) {
    const A = this.getActiveObjects(), r = this._activeObject;
    return !!(!e || e && r && A.length > 1 && A.indexOf(e) === -1 && r !== e && !this._isSelectionKeyPressed(t) || e && !e.evented || e && !e.selectable && r && r !== e);
  }
  _shouldCenterTransform(t, e, A) {
    if (!t) return;
    let r;
    return e === jc || e === Ke || e === nA || e === fi ? r = this.centeredScaling || t.centeredScaling : e === Tu && (r = this.centeredRotation || t.centeredRotation), r ? !A : A;
  }
  _getOriginFromCorner(t, e) {
    const A = { x: t.originX, y: t.originY };
    return e && (["ml", "tl", "bl"].includes(e) ? A.x = Zt : ["mr", "tr", "br"].includes(e) && (A.x = Ft), ["tl", "mt", "tr"].includes(e) ? A.y = Wh : ["bl", "mb", "br"].includes(e) && (A.y = Re)), A;
  }
  _setupCurrentTransform(t, e, A) {
    var r;
    const n = e.group ? Gr(this.getScenePoint(t), void 0, e.group.calcTransformMatrix()) : this.getScenePoint(t), { key: i = "", control: o } = e.getActiveControl() || {}, a = A && o ? (r = o.getActionHandler(t, e, o)) === null || r === void 0 ? void 0 : r.bind(o) : Qk, c = ((u, p, g, m) => {
      if (!p || !u) return "drag";
      const f = m.controls[p];
      return f.getActionName(g, f, m);
    })(A, i, t, e), l = t[this.centeredKey], h = this._shouldCenterTransform(e, c, l) ? { x: dt, y: dt } : this._getOriginFromCorner(e, i), d = { target: e, action: c, actionHandler: a, actionPerformed: !1, corner: i, scaleX: e.scaleX, scaleY: e.scaleY, skewX: e.skewX, skewY: e.skewY, offsetX: n.x - e.left, offsetY: n.y - e.top, originX: h.x, originY: h.y, ex: n.x, ey: n.y, lastX: n.x, lastY: n.y, theta: $t(e.angle), width: e.width, height: e.height, shiftKey: t.shiftKey, altKey: l, original: x(x({}, p2(e)), {}, { originX: h.x, originY: h.y }) };
    this._currentTransform = d, this.fire("before:transform", { e: t, transform: d });
  }
  setCursor(t) {
    this.upperCanvasEl.style.cursor = t;
  }
  _drawSelection(t) {
    const { x: e, y: A, deltaX: r, deltaY: n } = this._groupSelector, i = new U(e, A).transform(this.viewportTransform), o = new U(e + r, A + n).transform(this.viewportTransform), a = this.selectionLineWidth / 2;
    let c = Math.min(i.x, o.x), l = Math.min(i.y, o.y), h = Math.max(i.x, o.x), d = Math.max(i.y, o.y);
    this.selectionColor && (t.fillStyle = this.selectionColor, t.fillRect(c, l, h - c, d - l)), this.selectionLineWidth && this.selectionBorderColor && (t.lineWidth = this.selectionLineWidth, t.strokeStyle = this.selectionBorderColor, c += a, l += a, h -= a, d -= a, ye.prototype._setLineDash.call(this, t, this.selectionDashArray), t.strokeRect(c, l, h - c, d - l));
  }
  findTarget(t) {
    if (this.skipTargetFind) return;
    const e = this.getViewportPoint(t), A = this._activeObject, r = this.getActiveObjects();
    if (this.targets = [], A && r.length >= 1) {
      if (A.findControl(e, Jh(t)) || r.length > 1 && this.searchPossibleTargets([A], e)) return A;
      if (A === this.searchPossibleTargets([A], e)) {
        if (this.preserveObjectStacking) {
          const n = this.targets;
          this.targets = [];
          const i = this.searchPossibleTargets(this._objects, e);
          return t[this.altSelectionKey] && i && i !== A ? (this.targets = n, A) : i;
        }
        return A;
      }
    }
    return this.searchPossibleTargets(this._objects, e);
  }
  _pointIsInObjectSelectionArea(t, e) {
    let A = t.getCoords();
    const r = this.getZoom(), n = t.padding / r;
    if (n) {
      const [i, o, a, c] = A, l = Math.atan2(o.y - i.y, o.x - i.x), h = ns(l) * n, d = is(l) * n, u = h + d, p = h - d;
      A = [new U(i.x - p, i.y - u), new U(o.x + u, o.y - p), new U(a.x + p, a.y + u), new U(c.x - u, c.y + p)];
    }
    return Gt.isPointInPolygon(e, A);
  }
  _checkTarget(t, e) {
    return !!(t && t.visible && t.evented && this._pointIsInObjectSelectionArea(t, Gr(e, void 0, this.viewportTransform)) && (!this.perPixelTargetFind && !t.perPixelTargetFind || t.isEditing || !this.isTargetTransparent(t, e.x, e.y)));
  }
  _searchPossibleTargets(t, e) {
    let A = t.length;
    for (; A--; ) {
      const r = t[A];
      if (this._checkTarget(r, e)) {
        if (oa(r) && r.subTargetCheck) {
          const n = this._searchPossibleTargets(r._objects, e);
          n && this.targets.push(n);
        }
        return r;
      }
    }
  }
  searchPossibleTargets(t, e) {
    const A = this._searchPossibleTargets(t, e);
    if (A && oa(A) && A.interactive && this.targets[0]) {
      const r = this.targets;
      for (let n = r.length - 1; n > 0; n--) {
        const i = r[n];
        if (!oa(i) || !i.interactive) return i;
      }
      return r[0];
    }
    return A;
  }
  getViewportPoint(t) {
    return this._pointer ? this._pointer : this.getPointer(t, !0);
  }
  getScenePoint(t) {
    return this._absolutePointer ? this._absolutePointer : this.getPointer(t);
  }
  getPointer(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
    const A = this.upperCanvasEl, r = A.getBoundingClientRect();
    let n = ((l) => {
      const h = l2(l.target), d = function(u) {
        const p = u.changedTouches;
        return p && p[0] ? p[0] : u;
      }(l);
      return new U(d.clientX + h.left, d.clientY + h.top);
    })(t), i = r.width || 0, o = r.height || 0;
    i && o || (Re in r && Wh in r && (o = Math.abs(r.top - r.bottom)), Zt in r && Ft in r && (i = Math.abs(r.right - r.left))), this.calcOffset(), n.x = n.x - this._offset.left, n.y = n.y - this._offset.top, e || (n = Gr(n, void 0, this.viewportTransform));
    const a = this.getRetinaScaling();
    a !== 1 && (n.x /= a, n.y /= a);
    const c = i === 0 || o === 0 ? new U(1, 1) : new U(A.width / i, A.height / o);
    return n.multiply(c);
  }
  _setDimensionsImpl(t, e) {
    this._resetTransformEventData(), super._setDimensionsImpl(t, e), this._isCurrentlyDrawing && this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles(this.contextTop);
  }
  _createCacheCanvas() {
    this.pixelFindCanvasEl = BA(), this.pixelFindContext = this.pixelFindCanvasEl.getContext("2d", { willReadFrequently: !0 }), this.setTargetFindTolerance(this.targetFindTolerance);
  }
  getTopContext() {
    return this.elements.upper.ctx;
  }
  getSelectionContext() {
    return this.elements.upper.ctx;
  }
  getSelectionElement() {
    return this.elements.upper.el;
  }
  getActiveObject() {
    return this._activeObject;
  }
  getActiveObjects() {
    const t = this._activeObject;
    return Vs(t) ? t.getObjects() : t ? [t] : [];
  }
  _fireSelectionEvents(t, e) {
    let A = !1, r = !1;
    const n = this.getActiveObjects(), i = [], o = [];
    t.forEach((a) => {
      n.includes(a) || (A = !0, a.fire("deselected", { e, target: a }), o.push(a));
    }), n.forEach((a) => {
      t.includes(a) || (A = !0, a.fire("selected", { e, target: a }), i.push(a));
    }), t.length > 0 && n.length > 0 ? (r = !0, A && this.fire("selection:updated", { e, selected: i, deselected: o })) : n.length > 0 ? (r = !0, this.fire("selection:created", { e, selected: i })) : t.length > 0 && (r = !0, this.fire("selection:cleared", { e, deselected: o })), r && (this._objectsToRender = void 0);
  }
  setActiveObject(t, e) {
    const A = this.getActiveObjects(), r = this._setActiveObject(t, e);
    return this._fireSelectionEvents(A, e), r;
  }
  _setActiveObject(t, e) {
    const A = this._activeObject;
    return !(A === t || !this._discardActiveObject(e, t) && this._activeObject || t.onSelect({ e }) || (this._activeObject = t, Vs(t) && A !== t && t.set("canvas", this), t.setCoords(), 0));
  }
  _discardActiveObject(t, e) {
    const A = this._activeObject;
    return !!A && !A.onDeselect({ e: t, object: e }) && (this._currentTransform && this._currentTransform.target === A && this.endCurrentTransform(t), Vs(A) && A === this._hoveredTarget && (this._hoveredTarget = void 0), this._activeObject = void 0, !0);
  }
  discardActiveObject(t) {
    const e = this.getActiveObjects(), A = this.getActiveObject();
    e.length && this.fire("before:selection:cleared", { e: t, deselected: [A] });
    const r = this._discardActiveObject(t);
    return this._fireSelectionEvents(e, t), r;
  }
  endCurrentTransform(t) {
    const e = this._currentTransform;
    this._finalizeCurrentTransform(t), e && e.target && (e.target.isMoving = !1), this._currentTransform = null;
  }
  _finalizeCurrentTransform(t) {
    const e = this._currentTransform, A = e.target, r = { e: t, target: A, transform: e, action: e.action };
    A._scaling && (A._scaling = !1), A.setCoords(), e.actionPerformed && (this.fire("object:modified", r), A.fire(ec, r));
  }
  setViewportTransform(t) {
    super.setViewportTransform(t);
    const e = this._activeObject;
    e && e.setCoords();
  }
  destroy() {
    const t = this._activeObject;
    Vs(t) && (t.removeAll(), t.dispose()), delete this._activeObject, super.destroy(), this.pixelFindContext = null, this.pixelFindCanvasEl = void 0;
  }
  clear() {
    this.discardActiveObject(), this._activeObject = void 0, this.clearContext(this.contextTop), super.clear();
  }
  drawControls(t) {
    const e = this._activeObject;
    e && e._renderControls(t);
  }
  _toObject(t, e, A) {
    const r = this._realizeGroupTransformOnObject(t), n = super._toObject(t, e, A);
    return t.set(r), n;
  }
  _realizeGroupTransformOnObject(t) {
    const { group: e } = t;
    if (e && Vs(e) && this._activeObject === e) {
      const A = on(t, ["angle", "flipX", "flipY", Ft, Ke, nA, rn, nn, Re]);
      return ((r, n) => {
        nc(r, me(n, r.calcOwnMatrix()));
      })(t, e.calcOwnMatrix()), A;
    }
    return {};
  }
  _setSVGObject(t, e, A) {
    const r = this._realizeGroupTransformOnObject(e);
    super._setSVGObject(t, e, A), e.set(r);
  }
}
k(Jc, "ownDefaults", { uniformScaling: !0, uniScaleKey: "shiftKey", centeredScaling: !1, centeredRotation: !1, centeredKey: "altKey", altActionKey: "shiftKey", selection: !0, selectionKey: "shiftKey", selectionColor: "rgba(100, 100, 255, 0.3)", selectionDashArray: [], selectionBorderColor: "rgba(255, 255, 255, 0.3)", selectionLineWidth: 1, selectionFullyContained: !1, hoverCursor: "move", moveCursor: "move", defaultCursor: "default", freeDrawingCursor: "crosshair", notAllowedCursor: "not-allowed", perPixelTargetFind: !1, targetFindTolerance: 0, skipTargetFind: !1, stopContextMenu: !1, fireRightClick: !1, fireMiddleClick: !1, enablePointerEvents: !1, containerClass: "canvas-container", preserveObjectStacking: !1 });
class Kx {
  constructor(t) {
    k(this, "targets", []), k(this, "__disposer", void 0);
    const e = () => {
      const { hiddenTextarea: r } = t.getActiveObject() || {};
      r && r.focus();
    }, A = t.upperCanvasEl;
    A.addEventListener("click", e), this.__disposer = () => A.removeEventListener("click", e);
  }
  exitTextEditing() {
    this.target = void 0, this.targets.forEach((t) => {
      t.isEditing && t.exitEditing();
    });
  }
  add(t) {
    this.targets.push(t);
  }
  remove(t) {
    this.unregister(t), Qr(this.targets, t);
  }
  register(t) {
    this.target = t;
  }
  unregister(t) {
    t === this.target && (this.target = void 0);
  }
  onMouseMove(t) {
    var e;
    !((e = this.target) === null || e === void 0) && e.isEditing && this.target.updateSelectionOnMouseMove(t);
  }
  clear() {
    this.targets = [], this.target = void 0;
  }
  dispose() {
    this.clear(), this.__disposer(), delete this.__disposer;
  }
}
const Nx = ["target", "oldTarget", "fireCanvas", "e"], We = { passive: !1 }, vr = (s, t) => {
  const e = s.getViewportPoint(t), A = s.getScenePoint(t);
  return { viewportPoint: e, scenePoint: A, pointer: e, absolutePointer: A };
}, hs = function(s) {
  for (var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), A = 1; A < t; A++) e[A - 1] = arguments[A];
  return s.addEventListener(...e);
}, ze = function(s) {
  for (var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), A = 1; A < t; A++) e[A - 1] = arguments[A];
  return s.removeEventListener(...e);
}, jx = { mouse: { in: "over", out: "out", targetIn: "mouseover", targetOut: "mouseout", canvasIn: "mouse:over", canvasOut: "mouse:out" }, drag: { in: "enter", out: "leave", targetIn: "dragenter", targetOut: "dragleave", canvasIn: "drag:enter", canvasOut: "drag:leave" } };
class Ad extends Jc {
  constructor(t) {
    super(t, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}), k(this, "_isClick", void 0), k(this, "textEditingManager", new Kx(this)), ["_onMouseDown", "_onTouchStart", "_onMouseMove", "_onMouseUp", "_onTouchEnd", "_onResize", "_onMouseWheel", "_onMouseOut", "_onMouseEnter", "_onContextMenu", "_onDoubleClick", "_onDragStart", "_onDragEnd", "_onDragProgress", "_onDragOver", "_onDragEnter", "_onDragLeave", "_onDrop"].forEach((e) => {
      this[e] = this[e].bind(this);
    }), this.addOrRemove(hs, "add");
  }
  _getEventPrefix() {
    return this.enablePointerEvents ? "pointer" : "mouse";
  }
  addOrRemove(t, e) {
    const A = this.upperCanvasEl, r = this._getEventPrefix();
    t(h2(A), "resize", this._onResize), t(A, r + "down", this._onMouseDown), t(A, "".concat(r, "move"), this._onMouseMove, We), t(A, "".concat(r, "out"), this._onMouseOut), t(A, "".concat(r, "enter"), this._onMouseEnter), t(A, "wheel", this._onMouseWheel), t(A, "contextmenu", this._onContextMenu), t(A, "dblclick", this._onDoubleClick), t(A, "dragstart", this._onDragStart), t(A, "dragend", this._onDragEnd), t(A, "dragover", this._onDragOver), t(A, "dragenter", this._onDragEnter), t(A, "dragleave", this._onDragLeave), t(A, "drop", this._onDrop), this.enablePointerEvents || t(A, "touchstart", this._onTouchStart, We);
  }
  removeListeners() {
    this.addOrRemove(ze, "remove");
    const t = this._getEventPrefix(), e = pA(this.upperCanvasEl);
    ze(e, "".concat(t, "up"), this._onMouseUp), ze(e, "touchend", this._onTouchEnd, We), ze(e, "".concat(t, "move"), this._onMouseMove, We), ze(e, "touchmove", this._onMouseMove, We), clearTimeout(this._willAddMouseDown);
  }
  _onMouseWheel(t) {
    this.__onMouseWheel(t);
  }
  _onMouseOut(t) {
    const e = this._hoveredTarget, A = x({ e: t }, vr(this, t));
    this.fire("mouse:out", x(x({}, A), {}, { target: e })), this._hoveredTarget = void 0, e && e.fire("mouseout", x({}, A)), this._hoveredTargets.forEach((r) => {
      this.fire("mouse:out", x(x({}, A), {}, { target: r })), r && r.fire("mouseout", x({}, A));
    }), this._hoveredTargets = [];
  }
  _onMouseEnter(t) {
    this._currentTransform || this.findTarget(t) || (this.fire("mouse:over", x({ e: t }, vr(this, t))), this._hoveredTarget = void 0, this._hoveredTargets = []);
  }
  _onDragStart(t) {
    this._isClick = !1;
    const e = this.getActiveObject();
    if (e && e.onDragStart(t)) {
      this._dragSource = e;
      const A = { e: t, target: e };
      return this.fire("dragstart", A), e.fire("dragstart", A), void hs(this.upperCanvasEl, "drag", this._onDragProgress);
    }
    Xh(t);
  }
  _renderDragEffects(t, e, A) {
    let r = !1;
    const n = this._dropTarget;
    n && n !== e && n !== A && (n.clearContextTop(), r = !0), e == null || e.clearContextTop(), A !== e && (A == null || A.clearContextTop());
    const i = this.contextTop;
    i.save(), i.transform(...this.viewportTransform), e && (i.save(), e.transform(i), e.renderDragSourceEffect(t), i.restore(), r = !0), A && (i.save(), A.transform(i), A.renderDropTargetEffect(t), i.restore(), r = !0), i.restore(), r && (this.contextTopDirty = !0);
  }
  _onDragEnd(t) {
    const e = !!t.dataTransfer && t.dataTransfer.dropEffect !== Le, A = e ? this._activeObject : void 0, r = { e: t, target: this._dragSource, subTargets: this.targets, dragSource: this._dragSource, didDrop: e, dropTarget: A };
    ze(this.upperCanvasEl, "drag", this._onDragProgress), this.fire("dragend", r), this._dragSource && this._dragSource.fire("dragend", r), delete this._dragSource, this._onMouseUp(t);
  }
  _onDragProgress(t) {
    const e = { e: t, target: this._dragSource, dragSource: this._dragSource, dropTarget: this._draggedoverTarget };
    this.fire("drag", e), this._dragSource && this._dragSource.fire("drag", e);
  }
  findDragTargets(t) {
    return this.targets = [], { target: this._searchPossibleTargets(this._objects, this.getViewportPoint(t)), targets: [...this.targets] };
  }
  _onDragOver(t) {
    const e = "dragover", { target: A, targets: r } = this.findDragTargets(t), n = this._dragSource, i = { e: t, target: A, subTargets: r, dragSource: n, canDrop: !1, dropTarget: void 0 };
    let o;
    this.fire(e, i), this._fireEnterLeaveEvents(A, i), A && (A.canDrop(t) && (o = A), A.fire(e, i));
    for (let a = 0; a < r.length; a++) {
      const c = r[a];
      c.canDrop(t) && (o = c), c.fire(e, i);
    }
    this._renderDragEffects(t, n, o), this._dropTarget = o;
  }
  _onDragEnter(t) {
    const { target: e, targets: A } = this.findDragTargets(t), r = { e: t, target: e, subTargets: A, dragSource: this._dragSource };
    this.fire("dragenter", r), this._fireEnterLeaveEvents(e, r);
  }
  _onDragLeave(t) {
    const e = { e: t, target: this._draggedoverTarget, subTargets: this.targets, dragSource: this._dragSource };
    this.fire("dragleave", e), this._fireEnterLeaveEvents(void 0, e), this._renderDragEffects(t, this._dragSource), this._dropTarget = void 0, this.targets = [], this._hoveredTargets = [];
  }
  _onDrop(t) {
    const { target: e, targets: A } = this.findDragTargets(t), r = this._basicEventHandler("drop:before", x({ e: t, target: e, subTargets: A, dragSource: this._dragSource }, vr(this, t)));
    r.didDrop = !1, r.dropTarget = void 0, this._basicEventHandler("drop", r), this.fire("drop:after", r);
  }
  _onContextMenu(t) {
    const e = this.findTarget(t), A = this.targets || [], r = this._basicEventHandler("contextmenu:before", { e: t, target: e, subTargets: A });
    return this.stopContextMenu && Xh(t), this._basicEventHandler("contextmenu", r), !1;
  }
  _onDoubleClick(t) {
    this._cacheTransformEventData(t), this._handleEvent(t, "dblclick"), this._resetTransformEventData();
  }
  getPointerId(t) {
    const e = t.changedTouches;
    return e ? e[0] && e[0].identifier : this.enablePointerEvents ? t.pointerId : -1;
  }
  _isMainEvent(t) {
    return t.isPrimary === !0 || t.isPrimary !== !1 && (t.type === "touchend" && t.touches.length === 0 || !t.changedTouches || t.changedTouches[0].identifier === this.mainTouchId);
  }
  _onTouchStart(t) {
    let e = !this.allowTouchScrolling;
    const A = this._activeObject;
    this.mainTouchId === void 0 && (this.mainTouchId = this.getPointerId(t)), this.__onMouseDown(t), (this.isDrawingMode || A && this._target === A) && (e = !0), e && t.preventDefault(), this._resetTransformEventData();
    const r = this.upperCanvasEl, n = this._getEventPrefix(), i = pA(r);
    hs(i, "touchend", this._onTouchEnd, We), e && hs(i, "touchmove", this._onMouseMove, We), ze(r, "".concat(n, "down"), this._onMouseDown);
  }
  _onMouseDown(t) {
    this.__onMouseDown(t), this._resetTransformEventData();
    const e = this.upperCanvasEl, A = this._getEventPrefix();
    ze(e, "".concat(A, "move"), this._onMouseMove, We);
    const r = pA(e);
    hs(r, "".concat(A, "up"), this._onMouseUp), hs(r, "".concat(A, "move"), this._onMouseMove, We);
  }
  _onTouchEnd(t) {
    if (t.touches.length > 0) return;
    this.__onMouseUp(t), this._resetTransformEventData(), delete this.mainTouchId;
    const e = this._getEventPrefix(), A = pA(this.upperCanvasEl);
    ze(A, "touchend", this._onTouchEnd, We), ze(A, "touchmove", this._onMouseMove, We), this._willAddMouseDown && clearTimeout(this._willAddMouseDown), this._willAddMouseDown = setTimeout(() => {
      hs(this.upperCanvasEl, "".concat(e, "down"), this._onMouseDown), this._willAddMouseDown = 0;
    }, 400);
  }
  _onMouseUp(t) {
    this.__onMouseUp(t), this._resetTransformEventData();
    const e = this.upperCanvasEl, A = this._getEventPrefix();
    if (this._isMainEvent(t)) {
      const r = pA(this.upperCanvasEl);
      ze(r, "".concat(A, "up"), this._onMouseUp), ze(r, "".concat(A, "move"), this._onMouseMove, We), hs(e, "".concat(A, "move"), this._onMouseMove, We);
    }
  }
  _onMouseMove(t) {
    const e = this.getActiveObject();
    !this.allowTouchScrolling && (!e || !e.shouldStartDragging(t)) && t.preventDefault && t.preventDefault(), this.__onMouseMove(t);
  }
  _onResize() {
    this.calcOffset(), this._resetTransformEventData();
  }
  _shouldRender(t) {
    const e = this.getActiveObject();
    return !!e != !!t || e && t && e !== t;
  }
  __onMouseUp(t) {
    var e;
    this._cacheTransformEventData(t), this._handleEvent(t, "up:before");
    const A = this._currentTransform, r = this._isClick, n = this._target, { button: i } = t;
    if (i) return (this.fireMiddleClick && i === 1 || this.fireRightClick && i === 2) && this._handleEvent(t, "up"), void this._resetTransformEventData();
    if (this.isDrawingMode && this._isCurrentlyDrawing) return void this._onMouseUpInDrawingMode(t);
    if (!this._isMainEvent(t)) return;
    let o, a, c = !1;
    if (A && (this._finalizeCurrentTransform(t), c = A.actionPerformed), !r) {
      const l = n === this._activeObject;
      this.handleSelection(t), c || (c = this._shouldRender(n) || !l && n === this._activeObject);
    }
    if (n) {
      const l = n.findControl(this.getViewportPoint(t), Jh(t)), { key: h, control: d } = l || {};
      if (a = h, n.selectable && n !== this._activeObject && n.activeOn === "up") this.setActiveObject(n, t), c = !0;
      else if (d) {
        const u = d.getMouseUpHandler(t, n, d);
        u && (o = this.getScenePoint(t), u.call(d, t, A, o.x, o.y));
      }
      n.isMoving = !1;
    }
    if (A && (A.target !== n || A.corner !== a)) {
      const l = A.target && A.target.controls[A.corner], h = l && l.getMouseUpHandler(t, A.target, l);
      o = o || this.getScenePoint(t), h && h.call(l, t, A, o.x, o.y);
    }
    this._setCursorFromEvent(t, n), this._handleEvent(t, "up"), this._groupSelector = null, this._currentTransform = null, n && (n.__corner = void 0), c ? this.requestRenderAll() : r || (e = this._activeObject) !== null && e !== void 0 && e.isEditing || this.renderTop();
  }
  _basicEventHandler(t, e) {
    const { target: A, subTargets: r = [] } = e;
    this.fire(t, e), A && A.fire(t, e);
    for (let n = 0; n < r.length; n++) r[n] !== A && r[n].fire(t, e);
    return e;
  }
  _handleEvent(t, e) {
    const A = this._target, r = this.targets || [], n = x(x({ e: t, target: A, subTargets: r }, vr(this, t)), {}, { transform: this._currentTransform }, e === "up:before" || e === "up" ? { isClick: this._isClick, currentTarget: this.findTarget(t), currentSubTargets: this.targets } : {});
    this.fire("mouse:".concat(e), n), A && A.fire("mouse".concat(e), n);
    for (let i = 0; i < r.length; i++) r[i] !== A && r[i].fire("mouse".concat(e), n);
  }
  _onMouseDownInDrawingMode(t) {
    this._isCurrentlyDrawing = !0, this.getActiveObject() && (this.discardActiveObject(t), this.requestRenderAll());
    const e = this.getScenePoint(t);
    this.freeDrawingBrush && this.freeDrawingBrush.onMouseDown(e, { e: t, pointer: e }), this._handleEvent(t, "down");
  }
  _onMouseMoveInDrawingMode(t) {
    if (this._isCurrentlyDrawing) {
      const e = this.getScenePoint(t);
      this.freeDrawingBrush && this.freeDrawingBrush.onMouseMove(e, { e: t, pointer: e });
    }
    this.setCursor(this.freeDrawingCursor), this._handleEvent(t, "move");
  }
  _onMouseUpInDrawingMode(t) {
    const e = this.getScenePoint(t);
    this.freeDrawingBrush ? this._isCurrentlyDrawing = !!this.freeDrawingBrush.onMouseUp({ e: t, pointer: e }) : this._isCurrentlyDrawing = !1, this._handleEvent(t, "up");
  }
  __onMouseDown(t) {
    this._isClick = !0, this._cacheTransformEventData(t), this._handleEvent(t, "down:before");
    let e = this._target;
    const { button: A } = t;
    if (A) return (this.fireMiddleClick && A === 1 || this.fireRightClick && A === 2) && this._handleEvent(t, "down"), void this._resetTransformEventData();
    if (this.isDrawingMode) return void this._onMouseDownInDrawingMode(t);
    if (!this._isMainEvent(t) || this._currentTransform) return;
    let r = this._shouldRender(e), n = !1;
    if (this.handleMultiSelection(t, e) ? (e = this._activeObject, n = !0, r = !0) : this._shouldClearSelection(t, e) && this.discardActiveObject(t), this.selection && (!e || !e.selectable && !e.isEditing && e !== this._activeObject)) {
      const i = this.getScenePoint(t);
      this._groupSelector = { x: i.x, y: i.y, deltaY: 0, deltaX: 0 };
    }
    if (e) {
      const i = e === this._activeObject;
      e.selectable && e.activeOn === "down" && this.setActiveObject(e, t);
      const o = e.findControl(this.getViewportPoint(t), Jh(t));
      if (e === this._activeObject && (o || !n)) {
        this._setupCurrentTransform(t, e, i);
        const a = o ? o.control : void 0, c = this.getScenePoint(t), l = a && a.getMouseDownHandler(t, e, a);
        l && l.call(a, t, this._currentTransform, c.x, c.y);
      }
    }
    r && (this._objectsToRender = void 0), this._handleEvent(t, "down"), r && this.requestRenderAll();
  }
  _resetTransformEventData() {
    this._target = this._pointer = this._absolutePointer = void 0;
  }
  _cacheTransformEventData(t) {
    this._resetTransformEventData(), this._pointer = this.getViewportPoint(t), this._absolutePointer = Gr(this._pointer, void 0, this.viewportTransform), this._target = this._currentTransform ? this._currentTransform.target : this.findTarget(t);
  }
  __onMouseMove(t) {
    if (this._isClick = !1, this._cacheTransformEventData(t), this._handleEvent(t, "move:before"), this.isDrawingMode) return void this._onMouseMoveInDrawingMode(t);
    if (!this._isMainEvent(t)) return;
    const e = this._groupSelector;
    if (e) {
      const A = this.getScenePoint(t);
      e.deltaX = A.x - e.x, e.deltaY = A.y - e.y, this.renderTop();
    } else if (this._currentTransform) this._transformObject(t);
    else {
      const A = this.findTarget(t);
      this._setCursorFromEvent(t, A), this._fireOverOutEvents(t, A);
    }
    this.textEditingManager.onMouseMove(t), this._handleEvent(t, "move"), this._resetTransformEventData();
  }
  _fireOverOutEvents(t, e) {
    const A = this._hoveredTarget, r = this._hoveredTargets, n = this.targets, i = Math.max(r.length, n.length);
    this.fireSyntheticInOutEvents("mouse", { e: t, target: e, oldTarget: A, fireCanvas: !0 });
    for (let o = 0; o < i; o++) this.fireSyntheticInOutEvents("mouse", { e: t, target: n[o], oldTarget: r[o] });
    this._hoveredTarget = e, this._hoveredTargets = this.targets.concat();
  }
  _fireEnterLeaveEvents(t, e) {
    const A = this._draggedoverTarget, r = this._hoveredTargets, n = this.targets, i = Math.max(r.length, n.length);
    this.fireSyntheticInOutEvents("drag", x(x({}, e), {}, { target: t, oldTarget: A, fireCanvas: !0 }));
    for (let o = 0; o < i; o++) this.fireSyntheticInOutEvents("drag", x(x({}, e), {}, { target: n[o], oldTarget: r[o] }));
    this._draggedoverTarget = t;
  }
  fireSyntheticInOutEvents(t, e) {
    let { target: A, oldTarget: r, fireCanvas: n, e: i } = e, o = Vt(e, Nx);
    const { targetIn: a, targetOut: c, canvasIn: l, canvasOut: h } = jx[t], d = r !== A;
    if (r && d) {
      const u = x(x({}, o), {}, { e: i, target: r, nextTarget: A }, vr(this, i));
      n && this.fire(h, u), r.fire(c, u);
    }
    if (A && d) {
      const u = x(x({}, o), {}, { e: i, target: A, previousTarget: r }, vr(this, i));
      n && this.fire(l, u), A.fire(a, u);
    }
  }
  __onMouseWheel(t) {
    this._cacheTransformEventData(t), this._handleEvent(t, "wheel"), this._resetTransformEventData();
  }
  _transformObject(t) {
    const e = this.getScenePoint(t), A = this._currentTransform, r = A.target, n = r.group ? Gr(e, void 0, r.group.calcTransformMatrix()) : e;
    A.shiftKey = t.shiftKey, A.altKey = !!this.centeredKey && t[this.centeredKey], this._performTransformAction(t, A, n), A.actionPerformed && this.requestRenderAll();
  }
  _performTransformAction(t, e, A) {
    const { action: r, actionHandler: n, target: i } = e, o = !!n && n(t, e, A.x, A.y);
    o && i.setCoords(), r === "drag" && o && (e.target.isMoving = !0, this.setCursor(e.target.moveCursor || this.moveCursor)), e.actionPerformed = e.actionPerformed || o;
  }
  _setCursorFromEvent(t, e) {
    if (!e) return void this.setCursor(this.defaultCursor);
    let A = e.hoverCursor || this.hoverCursor;
    const r = Vs(this._activeObject) ? this._activeObject : null, n = (!r || e.group !== r) && e.findControl(this.getViewportPoint(t));
    if (n) {
      const i = n.control;
      this.setCursor(i.cursorStyleHandler(t, i, e));
    } else e.subTargetCheck && this.targets.concat().reverse().map((i) => {
      A = i.hoverCursor || A;
    }), this.setCursor(A);
  }
  handleMultiSelection(t, e) {
    const A = this._activeObject, r = Vs(A);
    if (A && this._isSelectionKeyPressed(t) && this.selection && e && e.selectable && (A !== e || r) && (r || !e.isDescendantOf(A) && !A.isDescendantOf(e)) && !e.onSelect({ e: t }) && !A.getActiveControl()) {
      if (r) {
        const n = A.getObjects();
        if (e === A) {
          const i = this.getViewportPoint(t);
          if (!(e = this.searchPossibleTargets(n, i) || this.searchPossibleTargets(this._objects, i)) || !e.selectable) return !1;
        }
        e.group === A ? (A.remove(e), this._hoveredTarget = e, this._hoveredTargets = [...this.targets], A.size() === 1 && this._setActiveObject(A.item(0), t)) : (A.multiSelectAdd(e), this._hoveredTarget = A, this._hoveredTargets = [...this.targets]), this._fireSelectionEvents(n, t);
      } else {
        A.isEditing && A.exitEditing();
        const n = new (J.getClass("ActiveSelection"))([], { canvas: this });
        n.multiSelectAdd(A, e), this._hoveredTarget = n, this._setActiveObject(n, t), this._fireSelectionEvents([A], t);
      }
      return !0;
    }
    return !1;
  }
  handleSelection(t) {
    if (!this.selection || !this._groupSelector) return !1;
    const { x: e, y: A, deltaX: r, deltaY: n } = this._groupSelector, i = new U(e, A), o = i.add(new U(r, n)), a = i.min(o), c = i.max(o).subtract(a), l = this.collectObjects({ left: a.x, top: a.y, width: c.x, height: c.y }, { includeIntersecting: !this.selectionFullyContained }), h = i.eq(o) ? l[0] ? [l[0]] : [] : l.length > 1 ? l.filter((d) => !d.onSelect({ e: t })).reverse() : l;
    if (h.length === 1) this.setActiveObject(h[0], t);
    else if (h.length > 1) {
      const d = J.getClass("ActiveSelection");
      this.setActiveObject(new d(h, { canvas: this }), t);
    }
    return this._groupSelector = null, !0;
  }
  clear() {
    this.textEditingManager.clear(), super.clear();
  }
  destroy() {
    this.removeListeners(), this.textEditingManager.dispose(), super.destroy();
  }
}
const H2 = { x1: 0, y1: 0, x2: 0, y2: 0 }, Vx = x(x({}, H2), {}, { r1: 0, r2: 0 }), Rr = (s, t) => isNaN(s) && typeof t == "number" ? t : s, Gx = /^(\d+\.\d+)%|(\d+)%$/;
function P2(s) {
  return s && Gx.test(s);
}
function K2(s, t) {
  const e = typeof s == "number" ? s : typeof s == "string" ? parseFloat(s) / (P2(s) ? 100 : 1) : NaN;
  return $r(0, Rr(e, t), 1);
}
const Wx = /\s*;\s*/, Yx = /\s*:\s*/;
function Jx(s, t) {
  let e, A;
  const r = s.getAttribute("style");
  if (r) {
    const i = r.split(Wx);
    i[i.length - 1] === "" && i.pop();
    for (let o = i.length; o--; ) {
      const [a, c] = i[o].split(Yx).map((l) => l.trim());
      a === "stop-color" ? e = c : a === "stop-opacity" && (A = c);
    }
  }
  const n = new Et(e || s.getAttribute("stop-color") || "rgb(0,0,0)");
  return { offset: K2(s.getAttribute("offset"), 0), color: n.toRgb(), opacity: Rr(parseFloat(A || s.getAttribute("stop-opacity") || ""), 1) * n.getAlpha() * t };
}
function Xx(s, t) {
  const e = [], A = s.getElementsByTagName("stop"), r = K2(t, 1);
  for (let n = A.length; n--; ) e.push(Jx(A[n], r));
  return e;
}
function N2(s) {
  return s.nodeName === "linearGradient" || s.nodeName === "LINEARGRADIENT" ? "linear" : "radial";
}
function j2(s) {
  return s.getAttribute("gradientUnits") === "userSpaceOnUse" ? "pixels" : "percentage";
}
function iA(s, t) {
  return s.getAttribute(t);
}
function zx(s, t) {
  return function(e, A) {
    let r, { width: n, height: i, gradientUnits: o } = A;
    return Object.keys(e).reduce((a, c) => {
      const l = e[c];
      return l === "Infinity" ? r = 1 : l === "-Infinity" ? r = 0 : (r = typeof l == "string" ? parseFloat(l) : l, typeof l == "string" && P2(l) && (r *= 0.01, o === "pixels" && (c !== "x1" && c !== "x2" && c !== "r2" || (r *= n), c !== "y1" && c !== "y2" || (r *= i)))), a[c] = r, a;
    }, {});
  }(N2(s) === "linear" ? function(e) {
    return { x1: iA(e, "x1") || 0, y1: iA(e, "y1") || 0, x2: iA(e, "x2") || "100%", y2: iA(e, "y2") || 0 };
  }(s) : function(e) {
    return { x1: iA(e, "fx") || iA(e, "cx") || "50%", y1: iA(e, "fy") || iA(e, "cy") || "50%", r1: 0, x2: iA(e, "cx") || "50%", y2: iA(e, "cy") || "50%", r2: iA(e, "r") || "50%" };
  }(s), x(x({}, t), {}, { gradientUnits: j2(s) }));
}
class uo {
  constructor(t) {
    const { type: e = "linear", gradientUnits: A = "pixels", coords: r = {}, colorStops: n = [], offsetX: i = 0, offsetY: o = 0, gradientTransform: a, id: c } = t || {};
    Object.assign(this, { type: e, gradientUnits: A, coords: x(x({}, e === "radial" ? Vx : H2), r), colorStops: n, offsetX: i, offsetY: o, gradientTransform: a, id: c ? "".concat(c, "_").concat(Os()) : Os() });
  }
  addColorStop(t) {
    for (const e in t) {
      const A = new Et(t[e]);
      this.colorStops.push({ offset: parseFloat(e), color: A.toRgb(), opacity: A.getAlpha() });
    }
    return this;
  }
  toObject(t) {
    return x(x({}, on(this, t)), {}, { type: this.type, coords: x({}, this.coords), colorStops: this.colorStops.map((e) => x({}, e)), offsetX: this.offsetX, offsetY: this.offsetY, gradientUnits: this.gradientUnits, gradientTransform: this.gradientTransform ? [...this.gradientTransform] : void 0 });
  }
  toSVG(t) {
    let { additionalTransform: e } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const A = [], r = this.gradientTransform ? this.gradientTransform.concat() : Ue.concat(), n = this.gradientUnits === "pixels" ? "userSpaceOnUse" : "objectBoundingBox", i = this.colorStops.map((h) => x({}, h)).sort((h, d) => h.offset - d.offset);
    let o = -this.offsetX, a = -this.offsetY;
    var c;
    n === "objectBoundingBox" ? (o /= t.width, a /= t.height) : (o += t.width / 2, a += t.height / 2), (c = t) && typeof c._renderPathCommands == "function" && this.gradientUnits !== "percentage" && (o -= t.pathOffset.x, a -= t.pathOffset.y), r[4] -= o, r[5] -= a;
    const l = ['id="SVGID_'.concat(this.id, '"'), 'gradientUnits="'.concat(n, '"'), 'gradientTransform="'.concat(e ? e + " " : "").concat(rc(r), '"'), ""].join(" ");
    if (this.type === "linear") {
      const { x1: h, y1: d, x2: u, y2: p } = this.coords;
      A.push("<linearGradient ", l, ' x1="', h, '" y1="', d, '" x2="', u, '" y2="', p, `">
`);
    } else if (this.type === "radial") {
      const { x1: h, y1: d, x2: u, y2: p, r1: g, r2: m } = this.coords, f = g > m;
      A.push("<radialGradient ", l, ' cx="', f ? h : u, '" cy="', f ? d : p, '" r="', f ? g : m, '" fx="', f ? u : h, '" fy="', f ? p : d, `">
`), f && (i.reverse(), i.forEach((B) => {
        B.offset = 1 - B.offset;
      }));
      const w = Math.min(g, m);
      if (w > 0) {
        const B = w / Math.max(g, m);
        i.forEach((C) => {
          C.offset += B * (1 - C.offset);
        });
      }
    }
    return i.forEach((h) => {
      let { color: d, offset: u, opacity: p } = h;
      A.push("<stop ", 'offset="', 100 * u + "%", '" style="stop-color:', d, p !== void 0 ? ";stop-opacity: " + p : ";", `"/>
`);
    }), A.push(this.type === "linear" ? "</linearGradient>" : "</radialGradient>", `
`), A.join("");
  }
  toLive(t) {
    const { x1: e, y1: A, x2: r, y2: n, r1: i, r2: o } = this.coords, a = this.type === "linear" ? t.createLinearGradient(e, A, r, n) : t.createRadialGradient(e, A, i, r, n, o);
    return this.colorStops.forEach((c) => {
      let { color: l, opacity: h, offset: d } = c;
      a.addColorStop(d, h !== void 0 ? new Et(l).setAlpha(h).toRgba() : l);
    }), a;
  }
  static async fromObject(t) {
    const { colorStops: e, gradientTransform: A } = t;
    return new this(x(x({}, t), {}, { colorStops: e ? e.map((r) => x({}, r)) : void 0, gradientTransform: A ? [...A] : void 0 }));
  }
  static fromElement(t, e, A) {
    const r = j2(t), n = e._findCenterFromElement();
    return new this(x({ id: t.getAttribute("id") || void 0, type: N2(t), coords: zx(t, { width: A.viewBoxWidth || A.width, height: A.viewBoxHeight || A.height }), colorStops: Xx(t, A.opacity), gradientUnits: r, gradientTransform: qh(t.getAttribute("gradientTransform") || "") }, r === "pixels" ? { offsetX: e.width / 2 - n.x, offsetY: e.height / 2 - n.y } : { offsetX: 0, offsetY: 0 }));
  }
}
k(uo, "type", "Gradient"), J.setClass(uo, "gradient"), J.setClass(uo, "linear"), J.setClass(uo, "radial");
const Zx = ["type", "source", "patternTransform"];
class Ol {
  get type() {
    return "pattern";
  }
  set type(t) {
    _s("warn", "Setting type has no effect", t);
  }
  constructor(t) {
    k(this, "repeat", "repeat"), k(this, "offsetX", 0), k(this, "offsetY", 0), k(this, "crossOrigin", ""), this.id = Os(), Object.assign(this, t);
  }
  isImageSource() {
    return !!this.source && typeof this.source.src == "string";
  }
  isCanvasSource() {
    return !!this.source && !!this.source.toDataURL;
  }
  sourceToString() {
    return this.isImageSource() ? this.source.src : this.isCanvasSource() ? this.source.toDataURL() : "";
  }
  toLive(t) {
    return this.source && (!this.isImageSource() || this.source.complete && this.source.naturalWidth !== 0 && this.source.naturalHeight !== 0) ? t.createPattern(this.source, this.repeat) : null;
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    const { repeat: e, crossOrigin: A } = this;
    return x(x({}, on(this, t)), {}, { type: "pattern", source: this.sourceToString(), repeat: e, crossOrigin: A, offsetX: Wt(this.offsetX, kt.NUM_FRACTION_DIGITS), offsetY: Wt(this.offsetY, kt.NUM_FRACTION_DIGITS), patternTransform: this.patternTransform ? [...this.patternTransform] : null });
  }
  toSVG(t) {
    let { width: e, height: A } = t;
    const { source: r, repeat: n, id: i } = this, o = Rr(this.offsetX / e, 0), a = Rr(this.offsetY / A, 0), c = n === "repeat-y" || n === "no-repeat" ? 1 + Math.abs(o || 0) : Rr(r.width / e, 0), l = n === "repeat-x" || n === "no-repeat" ? 1 + Math.abs(a || 0) : Rr(r.height / A, 0);
    return ['<pattern id="SVGID_'.concat(i, '" x="').concat(o, '" y="').concat(a, '" width="').concat(c, '" height="').concat(l, '">'), '<image x="0" y="0" width="'.concat(r.width, '" height="').concat(r.height, '" xlink:href="').concat(this.sourceToString(), '"></image>'), "</pattern>", ""].join(`
`);
  }
  static async fromObject(t, e) {
    let { type: A, source: r, patternTransform: n } = t, i = Vt(t, Zx);
    const o = await ca(r, x(x({}, e), {}, { crossOrigin: i.crossOrigin }));
    return new this(x(x({}, i), {}, { patternTransform: n && n.slice(0), source: o }));
  }
}
k(Ol, "type", "Pattern"), J.setClass(Ol), J.setClass(Ol, "pattern");
class qx {
  constructor(t) {
    k(this, "color", "rgb(0, 0, 0)"), k(this, "width", 1), k(this, "shadow", null), k(this, "strokeLineCap", "round"), k(this, "strokeLineJoin", "round"), k(this, "strokeMiterLimit", 10), k(this, "strokeDashArray", null), k(this, "limitedToCanvasSize", !1), this.canvas = t;
  }
  _setBrushStyles(t) {
    t.strokeStyle = this.color, t.lineWidth = this.width, t.lineCap = this.strokeLineCap, t.miterLimit = this.strokeMiterLimit, t.lineJoin = this.strokeLineJoin, t.setLineDash(this.strokeDashArray || []);
  }
  _saveAndTransform(t) {
    const e = this.canvas.viewportTransform;
    t.save(), t.transform(e[0], e[1], e[2], e[3], e[4], e[5]);
  }
  needsFullRender() {
    return new Et(this.color).getAlpha() < 1 || !!this.shadow;
  }
  _setShadow() {
    if (!this.shadow || !this.canvas) return;
    const t = this.canvas, e = this.shadow, A = t.contextTop, r = t.getZoom() * t.getRetinaScaling();
    A.shadowColor = e.color, A.shadowBlur = e.blur * r, A.shadowOffsetX = e.offsetX * r, A.shadowOffsetY = e.offsetY * r;
  }
  _resetShadow() {
    const t = this.canvas.contextTop;
    t.shadowColor = "", t.shadowBlur = t.shadowOffsetX = t.shadowOffsetY = 0;
  }
  _isOutSideCanvas(t) {
    return t.x < 0 || t.x > this.canvas.getWidth() || t.y < 0 || t.y > this.canvas.getHeight();
  }
}
const $x = ["path", "left", "top"], tS = ["d"];
class ys extends ye {
  constructor(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, { path: A, left: r, top: n } = e, i = Vt(e, $x);
    super(), Object.assign(this, ys.ownDefaults), this.setOptions(i), this._setPath(t || [], !0), typeof r == "number" && this.set(Ft, r), typeof n == "number" && this.set(Re, n);
  }
  _setPath(t, e) {
    this.path = ((A) => {
      let r = 0, n = 0, i = 0, o = 0;
      const a = [];
      let c, l = 0, h = 0;
      for (const d of A) {
        const u = [...d];
        let p;
        switch (u[0]) {
          case "l":
            u[1] += r, u[2] += n;
          case "L":
            r = u[1], n = u[2], p = ["L", r, n];
            break;
          case "h":
            u[1] += r;
          case "H":
            r = u[1], p = ["L", r, n];
            break;
          case "v":
            u[1] += n;
          case "V":
            n = u[1], p = ["L", r, n];
            break;
          case "m":
            u[1] += r, u[2] += n;
          case "M":
            r = u[1], n = u[2], i = u[1], o = u[2], p = ["M", r, n];
            break;
          case "c":
            u[1] += r, u[2] += n, u[3] += r, u[4] += n, u[5] += r, u[6] += n;
          case "C":
            l = u[3], h = u[4], r = u[5], n = u[6], p = ["C", u[1], u[2], l, h, r, n];
            break;
          case "s":
            u[1] += r, u[2] += n, u[3] += r, u[4] += n;
          case "S":
            c === "C" ? (l = 2 * r - l, h = 2 * n - h) : (l = r, h = n), r = u[3], n = u[4], p = ["C", l, h, u[1], u[2], r, n], l = p[3], h = p[4];
            break;
          case "q":
            u[1] += r, u[2] += n, u[3] += r, u[4] += n;
          case "Q":
            l = u[1], h = u[2], r = u[3], n = u[4], p = ["Q", l, h, r, n];
            break;
          case "t":
            u[1] += r, u[2] += n;
          case "T":
            c === "Q" ? (l = 2 * r - l, h = 2 * n - h) : (l = r, h = n), r = u[1], n = u[2], p = ["Q", l, h, r, n];
            break;
          case "a":
            u[6] += r, u[7] += n;
          case "A":
            Tx(r, n, u).forEach((g) => a.push(g)), r = u[6], n = u[7];
            break;
          case "z":
          case "Z":
            r = i, n = o, p = ["Z"];
        }
        p ? (a.push(p), c = p[0]) : c = "";
      }
      return a;
    })(Array.isArray(t) ? t : ((A) => {
      var r;
      const n = [], i = (r = A.match(Dx)) !== null && r !== void 0 ? r : [];
      for (const o of i) {
        const a = o[0];
        if (a === "z" || a === "Z") {
          n.push([a]);
          continue;
        }
        const c = Hx[a.toLowerCase()];
        let l = [];
        if (a === "a" || a === "A") {
          p0.lastIndex = 0;
          for (let h = null; h = p0.exec(o); ) l.push(...h.slice(1));
        } else l = o.match(Rx) || [];
        for (let h = 0; h < l.length; h += c) {
          const d = new Array(c), u = Ux[a];
          d[0] = h > 0 && u ? u : a;
          for (let p = 0; p < c; p++) d[p + 1] = parseFloat(l[h + p]);
          n.push(d);
        }
      }
      return n;
    })(t)), this.setBoundingBox(e);
  }
  _findCenterFromElement() {
    const t = this._calcBoundsFromPath();
    return new U(t.left + t.width / 2, t.top + t.height / 2);
  }
  _renderPathCommands(t) {
    const e = -this.pathOffset.x, A = -this.pathOffset.y;
    t.beginPath();
    for (const r of this.path) switch (r[0]) {
      case "L":
        t.lineTo(r[1] + e, r[2] + A);
        break;
      case "M":
        t.moveTo(r[1] + e, r[2] + A);
        break;
      case "C":
        t.bezierCurveTo(r[1] + e, r[2] + A, r[3] + e, r[4] + A, r[5] + e, r[6] + A);
        break;
      case "Q":
        t.quadraticCurveTo(r[1] + e, r[2] + A, r[3] + e, r[4] + A);
        break;
      case "Z":
        t.closePath();
    }
  }
  _render(t) {
    this._renderPathCommands(t), this._renderPaintInOrder(t);
  }
  toString() {
    return "#<Path (".concat(this.complexity(), '): { "top": ').concat(this.top, ', "left": ').concat(this.left, " }>");
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return x(x({}, super.toObject(t)), {}, { path: this.path.map((e) => e.slice()) });
  }
  toDatalessObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    const e = this.toObject(t);
    return this.sourcePath && (delete e.path, e.sourcePath = this.sourcePath), e;
  }
  _toSVG() {
    const t = R2(this.path, kt.NUM_FRACTION_DIGITS);
    return ["<path ", "COMMON_PARTS", 'd="'.concat(t, `" stroke-linecap="round" />
`)];
  }
  _getOffsetTransform() {
    const t = kt.NUM_FRACTION_DIGITS;
    return " translate(".concat(Wt(-this.pathOffset.x, t), ", ").concat(Wt(-this.pathOffset.y, t), ")");
  }
  toClipPathSVG(t) {
    const e = this._getOffsetTransform();
    return "	" + this._createBaseClipPathSVGMarkup(this._toSVG(), { reviver: t, additionalTransform: e });
  }
  toSVG(t) {
    const e = this._getOffsetTransform();
    return this._createBaseSVGMarkup(this._toSVG(), { reviver: t, additionalTransform: e });
  }
  complexity() {
    return this.path.length;
  }
  setDimensions() {
    this.setBoundingBox();
  }
  setBoundingBox(t) {
    const { width: e, height: A, pathOffset: r } = this._calcDimensions();
    this.set({ width: e, height: A, pathOffset: r }), t && this.setPositionByOrigin(r, dt, dt);
  }
  _calcBoundsFromPath() {
    const t = [];
    let e = 0, A = 0, r = 0, n = 0;
    for (const i of this.path) switch (i[0]) {
      case "L":
        r = i[1], n = i[2], t.push({ x: e, y: A }, { x: r, y: n });
        break;
      case "M":
        r = i[1], n = i[2], e = r, A = n;
        break;
      case "C":
        t.push(...d0(r, n, i[1], i[2], i[3], i[4], i[5], i[6])), r = i[5], n = i[6];
        break;
      case "Q":
        t.push(...d0(r, n, i[1], i[2], i[1], i[2], i[3], i[4])), r = i[3], n = i[4];
        break;
      case "Z":
        r = e, n = A;
    }
    return As(t);
  }
  _calcDimensions() {
    const t = this._calcBoundsFromPath();
    return x(x({}, t), {}, { pathOffset: new U(t.left + t.width / 2, t.top + t.height / 2) });
  }
  static fromObject(t) {
    return this._fromObject(t, { extraParam: "path" });
  }
  static async fromElement(t, e, A) {
    const r = cs(t, this.ATTRIBUTE_NAMES, A), { d: n } = r;
    return new this(n, x(x(x({}, Vt(r, tS)), e), {}, { left: void 0, top: void 0 }));
  }
}
k(ys, "type", "Path"), k(ys, "cacheProperties", [...as, "path", "fillRule"]), k(ys, "ATTRIBUTE_NAMES", [...Ds, "d"]), J.setClass(ys), J.setSVGClass(ys);
class dc extends qx {
  constructor(t) {
    super(t), k(this, "decimate", 0.4), k(this, "drawStraightLine", !1), k(this, "straightLineKey", "shiftKey"), this._points = [], this._hasStraightLine = !1;
  }
  needsFullRender() {
    return super.needsFullRender() || this._hasStraightLine;
  }
  static drawSegment(t, e, A) {
    const r = e.midPointFrom(A);
    return t.quadraticCurveTo(e.x, e.y, r.x, r.y), r;
  }
  onMouseDown(t, e) {
    let { e: A } = e;
    this.canvas._isMainEvent(A) && (this.drawStraightLine = !!this.straightLineKey && A[this.straightLineKey], this._prepareForDrawing(t), this._addPoint(t), this._render());
  }
  onMouseMove(t, e) {
    let { e: A } = e;
    if (this.canvas._isMainEvent(A) && (this.drawStraightLine = !!this.straightLineKey && A[this.straightLineKey], (this.limitedToCanvasSize !== !0 || !this._isOutSideCanvas(t)) && this._addPoint(t) && this._points.length > 1)) if (this.needsFullRender()) this.canvas.clearContext(this.canvas.contextTop), this._render();
    else {
      const r = this._points, n = r.length, i = this.canvas.contextTop;
      this._saveAndTransform(i), this.oldEnd && (i.beginPath(), i.moveTo(this.oldEnd.x, this.oldEnd.y)), this.oldEnd = dc.drawSegment(i, r[n - 2], r[n - 1]), i.stroke(), i.restore();
    }
  }
  onMouseUp(t) {
    let { e } = t;
    return !this.canvas._isMainEvent(e) || (this.drawStraightLine = !1, this.oldEnd = void 0, this._finalizeAndAddPath(), !1);
  }
  _prepareForDrawing(t) {
    this._reset(), this._addPoint(t), this.canvas.contextTop.moveTo(t.x, t.y);
  }
  _addPoint(t) {
    return !(this._points.length > 1 && t.eq(this._points[this._points.length - 1]) || (this.drawStraightLine && this._points.length > 1 && (this._hasStraightLine = !0, this._points.pop()), this._points.push(t), 0));
  }
  _reset() {
    this._points = [], this._setBrushStyles(this.canvas.contextTop), this._setShadow(), this._hasStraightLine = !1;
  }
  _render() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.canvas.contextTop, e = this._points[0], A = this._points[1];
    if (this._saveAndTransform(t), t.beginPath(), this._points.length === 2 && e.x === A.x && e.y === A.y) {
      const r = this.width / 1e3;
      e.x -= r, A.x += r;
    }
    t.moveTo(e.x, e.y);
    for (let r = 1; r < this._points.length; r++) dc.drawSegment(t, e, A), e = this._points[r], A = this._points[r + 1];
    t.lineTo(e.x, e.y), t.stroke(), t.restore();
  }
  convertPointsToSVGPath(t) {
    return function(e) {
      let A = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r = new U(e[0]), n = new U(e[1]), i = 1, o = 0;
      const a = [], c = e.length, l = c > 2;
      let h;
      for (l && (i = e[2].x < n.x ? -1 : e[2].x === n.x ? 0 : 1, o = e[2].y < n.y ? -1 : e[2].y === n.y ? 0 : 1), a.push(["M", r.x - i * A, r.y - o * A]), h = 1; h < c; h++) {
        if (!r.eq(n)) {
          const d = r.midPointFrom(n);
          a.push(["Q", r.x, r.y, d.x, d.y]);
        }
        r = e[h], h + 1 < e.length && (n = e[h + 1]);
      }
      return l && (i = r.x > e[h - 2].x ? 1 : r.x === e[h - 2].x ? 0 : -1, o = r.y > e[h - 2].y ? 1 : r.y === e[h - 2].y ? 0 : -1), a.push(["L", r.x + i * A, r.y + o * A]), a;
    }(t, this.width / 1e3);
  }
  createPath(t) {
    const e = new ys(t, { fill: null, stroke: this.color, strokeWidth: this.width, strokeLineCap: this.strokeLineCap, strokeMiterLimit: this.strokeMiterLimit, strokeLineJoin: this.strokeLineJoin, strokeDashArray: this.strokeDashArray });
    return this.shadow && (this.shadow.affectStroke = !0, e.shadow = new OA(this.shadow)), e;
  }
  decimatePoints(t, e) {
    if (t.length <= 2) return t;
    let A, r = t[0];
    const n = this.canvas.getZoom(), i = Math.pow(e / n, 2), o = t.length - 1, a = [r];
    for (let c = 1; c < o - 1; c++) A = Math.pow(r.x - t[c].x, 2) + Math.pow(r.y - t[c].y, 2), A >= i && (r = t[c], a.push(r));
    return a.push(t[o]), a;
  }
  _finalizeAndAddPath() {
    this.canvas.contextTop.closePath(), this.decimate && (this._points = this.decimatePoints(this._points, this.decimate));
    const t = this.convertPointsToSVGPath(this._points);
    if (function(A) {
      return R2(A) === "M 0 0 Q 0 0 0 0 L 0 0";
    }(t)) return void this.canvas.requestRenderAll();
    const e = this.createPath(t);
    this.canvas.clearContext(this.canvas.contextTop), this.canvas.fire("before:path:created", { path: e }), this.canvas.add(e), this.canvas.requestRenderAll(), e.setCoords(), this._resetShadow(), this.canvas.fire("path:created", { path: e });
  }
}
const eS = ["left", "top", "radius"], V2 = ["radius", "startAngle", "endAngle", "counterClockwise"];
class YA extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), YA.ownDefaults);
  }
  constructor(t) {
    super(), Object.assign(this, YA.ownDefaults), this.setOptions(t);
  }
  _set(t, e) {
    return super._set(t, e), t === "radius" && this.setRadius(e), this;
  }
  _render(t) {
    t.beginPath(), t.arc(0, 0, this.radius, $t(this.startAngle), $t(this.endAngle), this.counterClockwise), this._renderPaintInOrder(t);
  }
  getRadiusX() {
    return this.get("radius") * this.get(Ke);
  }
  getRadiusY() {
    return this.get("radius") * this.get(nA);
  }
  setRadius(t) {
    this.radius = t, this.set({ width: 2 * t, height: 2 * t });
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return super.toObject([...V2, ...t]);
  }
  _toSVG() {
    const t = (this.endAngle - this.startAngle) % 360;
    if (t === 0) return ["<circle ", "COMMON_PARTS", 'cx="0" cy="0" ', 'r="', "".concat(this.radius), `" />
`];
    {
      const { radius: e } = this, A = $t(this.startAngle), r = $t(this.endAngle), n = ns(A) * e, i = is(A) * e, o = ns(r) * e, a = is(r) * e, c = t > 180 ? 1 : 0, l = this.counterClockwise ? 0 : 1;
      return ['<path d="M '.concat(n, " ").concat(i, " A ").concat(e, " ").concat(e, " 0 ").concat(c, " ").concat(l, " ").concat(o, " ").concat(a, '" '), "COMMON_PARTS", ` />
`];
    }
  }
  static async fromElement(t, e, A) {
    const r = cs(t, this.ATTRIBUTE_NAMES, A), { left: n = 0, top: i = 0, radius: o = 0 } = r;
    return new this(x(x({}, Vt(r, eS)), {}, { radius: o, left: n - o, top: i - o }));
  }
  static fromObject(t) {
    return super._fromObject(t);
  }
}
k(YA, "type", "Circle"), k(YA, "cacheProperties", [...as, ...V2]), k(YA, "ownDefaults", { radius: 0, startAngle: 0, endAngle: 360, counterClockwise: !1 }), k(YA, "ATTRIBUTE_NAMES", ["cx", "cy", "r", ...Ds]), J.setClass(YA), J.setSVGClass(YA);
const AS = ["x1", "y1", "x2", "y2"], sS = ["x1", "y1", "x2", "y2"], sd = ["x1", "x2", "y1", "y2"];
class Gs extends ye {
  constructor() {
    let [t, e, A, r] = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [0, 0, 0, 0], n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(), Object.assign(this, Gs.ownDefaults), this.setOptions(n), this.x1 = t, this.x2 = A, this.y1 = e, this.y2 = r, this._setWidthHeight();
    const { left: i, top: o } = n;
    typeof i == "number" && this.set(Ft, i), typeof o == "number" && this.set(Re, o);
  }
  _setWidthHeight() {
    const { x1: t, y1: e, x2: A, y2: r } = this;
    this.width = Math.abs(A - t), this.height = Math.abs(r - e);
    const { left: n, top: i, width: o, height: a } = As([{ x: t, y: e }, { x: A, y: r }]), c = new U(n + o / 2, i + a / 2);
    this.setPositionByOrigin(c, dt, dt);
  }
  _set(t, e) {
    return super._set(t, e), sd.includes(t) && this._setWidthHeight(), this;
  }
  _render(t) {
    t.beginPath();
    const e = this.calcLinePoints();
    t.moveTo(e.x1, e.y1), t.lineTo(e.x2, e.y2), t.lineWidth = this.strokeWidth;
    const A = t.strokeStyle;
    var r;
    sA(this.stroke) ? t.strokeStyle = this.stroke.toLive(t) : t.strokeStyle = (r = this.stroke) !== null && r !== void 0 ? r : t.fillStyle, this.stroke && this._renderStroke(t), t.strokeStyle = A;
  }
  _findCenterFromElement() {
    return new U((this.x1 + this.x2) / 2, (this.y1 + this.y2) / 2);
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return x(x({}, super.toObject(t)), this.calcLinePoints());
  }
  _getNonTransformedDimensions() {
    const t = super._getNonTransformedDimensions();
    return this.strokeLineCap === "butt" && (this.width === 0 && (t.y -= this.strokeWidth), this.height === 0 && (t.x -= this.strokeWidth)), t;
  }
  calcLinePoints() {
    const { x1: t, x2: e, y1: A, y2: r, width: n, height: i } = this, o = t <= e ? -1 : 1, a = A <= r ? -1 : 1;
    return { x1: o * n / 2, x2: o * -n / 2, y1: a * i / 2, y2: a * -i / 2 };
  }
  _toSVG() {
    const { x1: t, x2: e, y1: A, y2: r } = this.calcLinePoints();
    return ["<line ", "COMMON_PARTS", 'x1="'.concat(t, '" y1="').concat(A, '" x2="').concat(e, '" y2="').concat(r, `" />
`)];
  }
  static async fromElement(t, e, A) {
    const r = cs(t, this.ATTRIBUTE_NAMES, A), { x1: n = 0, y1: i = 0, x2: o = 0, y2: a = 0 } = r;
    return new this([n, i, o, a], Vt(r, AS));
  }
  static fromObject(t) {
    let { x1: e, y1: A, x2: r, y2: n } = t, i = Vt(t, sS);
    return this._fromObject(x(x({}, i), {}, { points: [e, A, r, n] }), { extraParam: "points" });
  }
}
k(Gs, "type", "Line"), k(Gs, "cacheProperties", [...as, ...sd]), k(Gs, "ATTRIBUTE_NAMES", Ds.concat(sd)), J.setClass(Gs), J.setSVGClass(Gs);
class zs extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), zs.ownDefaults);
  }
  constructor(t) {
    super(), Object.assign(this, zs.ownDefaults), this.setOptions(t);
  }
  _render(t) {
    const e = this.width / 2, A = this.height / 2;
    t.beginPath(), t.moveTo(-e, A), t.lineTo(0, -A), t.lineTo(e, A), t.closePath(), this._renderPaintInOrder(t);
  }
  _toSVG() {
    const t = this.width / 2, e = this.height / 2;
    return ["<polygon ", "COMMON_PARTS", 'points="', "".concat(-t, " ").concat(e, ",0 ").concat(-e, ",").concat(t, " ").concat(e), '" />'];
  }
}
k(zs, "type", "Triangle"), k(zs, "ownDefaults", { width: 100, height: 100 }), J.setClass(zs), J.setSVGClass(zs);
const G2 = ["rx", "ry"];
class uA extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), uA.ownDefaults);
  }
  constructor(t) {
    super(), Object.assign(this, uA.ownDefaults), this.setOptions(t);
  }
  _set(t, e) {
    switch (super._set(t, e), t) {
      case "rx":
        this.rx = e, this.set("width", 2 * e);
        break;
      case "ry":
        this.ry = e, this.set("height", 2 * e);
    }
    return this;
  }
  getRx() {
    return this.get("rx") * this.get(Ke);
  }
  getRy() {
    return this.get("ry") * this.get(nA);
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return super.toObject([...G2, ...t]);
  }
  _toSVG() {
    return ["<ellipse ", "COMMON_PARTS", 'cx="0" cy="0" rx="'.concat(this.rx, '" ry="').concat(this.ry, `" />
`)];
  }
  _render(t) {
    t.beginPath(), t.save(), t.transform(1, 0, 0, this.ry / this.rx, 0, 0), t.arc(0, 0, this.rx, 0, $a, !1), t.restore(), this._renderPaintInOrder(t);
  }
  static async fromElement(t, e, A) {
    const r = cs(t, this.ATTRIBUTE_NAMES, A);
    return r.left = (r.left || 0) - r.rx, r.top = (r.top || 0) - r.ry, new this(r);
  }
}
k(uA, "type", "Ellipse"), k(uA, "cacheProperties", [...as, ...G2]), k(uA, "ownDefaults", { rx: 0, ry: 0 }), k(uA, "ATTRIBUTE_NAMES", [...Ds, "cx", "cy", "rx", "ry"]), J.setClass(uA), J.setSVGClass(uA);
const rS = ["left", "top"], W2 = { exactBoundingBox: !1 };
class lA extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), lA.ownDefaults);
  }
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(), k(this, "strokeDiff", void 0), Object.assign(this, lA.ownDefaults), this.setOptions(e), this.points = t;
    const { left: A, top: r } = e;
    this.initialized = !0, this.setBoundingBox(!0), typeof A == "number" && this.set(Ft, A), typeof r == "number" && this.set(Re, r);
  }
  isOpen() {
    return !0;
  }
  _projectStrokeOnPoints(t) {
    return function(e, A) {
      let r = arguments.length > 2 && arguments[2] !== void 0 && arguments[2];
      const n = [];
      if (e.length === 0) return n;
      const i = e.reduce((o, a) => (o[o.length - 1].eq(a) || o.push(new U(a)), o), [new U(e[0])]);
      if (i.length === 1) r = !0;
      else if (!r) {
        const o = i[0], a = ((c, l) => {
          for (let h = c.length - 1; h >= 0; h--) if (l(c[h])) return h;
          return -1;
        })(i, (c) => !c.eq(o));
        i.splice(a + 1);
      }
      return i.forEach((o, a, c) => {
        let l, h;
        a === 0 ? (h = c[1], l = r ? o : c[c.length - 1]) : a === c.length - 1 ? (l = c[a - 1], h = r ? o : c[0]) : (l = c[a - 1], h = c[a + 1]), r && c.length === 1 ? n.push(...new A0(o, o, A).project()) : !r || a !== 0 && a !== c.length - 1 ? n.push(...new Wr(o, l, h, A).project()) : n.push(...new A0(o, a === 0 ? h : l, A).project());
      }), n;
    }(this.points, t, this.isOpen());
  }
  _calcDimensions(t) {
    t = x({ scaleX: this.scaleX, scaleY: this.scaleY, skewX: this.skewX, skewY: this.skewY, strokeLineCap: this.strokeLineCap, strokeLineJoin: this.strokeLineJoin, strokeMiterLimit: this.strokeMiterLimit, strokeUniform: this.strokeUniform, strokeWidth: this.strokeWidth }, t || {});
    const e = this.exactBoundingBox ? this._projectStrokeOnPoints(t).map((c) => c.projectedPoint) : this.points;
    if (e.length === 0) return { left: 0, top: 0, width: 0, height: 0, pathOffset: new U(), strokeOffset: new U(), strokeDiff: new U() };
    const A = As(e), r = Vc(x(x({}, t), {}, { scaleX: 1, scaleY: 1 })), n = As(this.points.map((c) => _e(c, r, !0))), i = new U(this.scaleX, this.scaleY);
    let o = A.left + A.width / 2, a = A.top + A.height / 2;
    return this.exactBoundingBox && (o -= a * Math.tan($t(this.skewX)), a -= o * Math.tan($t(this.skewY))), x(x({}, A), {}, { pathOffset: new U(o, a), strokeOffset: new U(n.left, n.top).subtract(new U(A.left, A.top)).multiply(i), strokeDiff: new U(A.width, A.height).subtract(new U(n.width, n.height)).multiply(i) });
  }
  _findCenterFromElement() {
    const t = As(this.points);
    return new U(t.left + t.width / 2, t.top + t.height / 2);
  }
  setDimensions() {
    this.setBoundingBox();
  }
  setBoundingBox(t) {
    const { left: e, top: A, width: r, height: n, pathOffset: i, strokeOffset: o, strokeDiff: a } = this._calcDimensions();
    this.set({ width: r, height: n, pathOffset: i, strokeOffset: o, strokeDiff: a }), t && this.setPositionByOrigin(new U(e + r / 2, A + n / 2), dt, dt);
  }
  isStrokeAccountedForInDimensions() {
    return this.exactBoundingBox;
  }
  _getNonTransformedDimensions() {
    return this.exactBoundingBox ? new U(this.width, this.height) : super._getNonTransformedDimensions();
  }
  _getTransformedDimensions() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    if (this.exactBoundingBox) {
      let i;
      if (Object.keys(t).some((o) => this.strokeUniform || this.constructor.layoutProperties.includes(o))) {
        var e, A;
        const { width: o, height: a } = this._calcDimensions(t);
        i = new U((e = t.width) !== null && e !== void 0 ? e : o, (A = t.height) !== null && A !== void 0 ? A : a);
      } else {
        var r, n;
        i = new U((r = t.width) !== null && r !== void 0 ? r : this.width, (n = t.height) !== null && n !== void 0 ? n : this.height);
      }
      return i.multiply(new U(t.scaleX || this.scaleX, t.scaleY || this.scaleY));
    }
    return super._getTransformedDimensions(t);
  }
  _set(t, e) {
    const A = this.initialized && this[t] !== e, r = super._set(t, e);
    return this.exactBoundingBox && A && ((t === Ke || t === nA) && this.strokeUniform && this.constructor.layoutProperties.includes("strokeUniform") || this.constructor.layoutProperties.includes(t)) && this.setDimensions(), r;
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return x(x({}, super.toObject(t)), {}, { points: this.points.map((e) => {
      let { x: A, y: r } = e;
      return { x: A, y: r };
    }) });
  }
  _toSVG() {
    const t = [], e = this.pathOffset.x, A = this.pathOffset.y, r = kt.NUM_FRACTION_DIGITS;
    for (let n = 0, i = this.points.length; n < i; n++) t.push(Wt(this.points[n].x - e, r), ",", Wt(this.points[n].y - A, r), " ");
    return ["<".concat(this.constructor.type.toLowerCase(), " "), "COMMON_PARTS", 'points="'.concat(t.join(""), `" />
`)];
  }
  _render(t) {
    const e = this.points.length, A = this.pathOffset.x, r = this.pathOffset.y;
    if (e && !isNaN(this.points[e - 1].y)) {
      t.beginPath(), t.moveTo(this.points[0].x - A, this.points[0].y - r);
      for (let n = 0; n < e; n++) {
        const i = this.points[n];
        t.lineTo(i.x - A, i.y - r);
      }
      !this.isOpen() && t.closePath(), this._renderPaintInOrder(t);
    }
  }
  complexity() {
    return this.points.length;
  }
  static async fromElement(t, e, A) {
    return new this(function(r) {
      if (!r) return [];
      const n = r.replace(/,/g, " ").trim().split(/\s+/), i = [];
      for (let o = 0; o < n.length; o += 2) i.push({ x: parseFloat(n[o]), y: parseFloat(n[o + 1]) });
      return i;
    }(t.getAttribute("points")), x(x({}, Vt(cs(t, this.ATTRIBUTE_NAMES, A), rS)), e));
  }
  static fromObject(t) {
    return this._fromObject(t, { extraParam: "points" });
  }
}
k(lA, "ownDefaults", W2), k(lA, "type", "Polyline"), k(lA, "layoutProperties", [rn, nn, "strokeLineCap", "strokeLineJoin", "strokeMiterLimit", "strokeWidth", "strokeUniform", "points"]), k(lA, "cacheProperties", [...as, "points"]), k(lA, "ATTRIBUTE_NAMES", [...Ds]), J.setClass(lA), J.setSVGClass(lA);
class po extends lA {
  isOpen() {
    return !1;
  }
}
k(po, "ownDefaults", W2), k(po, "type", "Polygon"), J.setClass(po), J.setSVGClass(po);
const Y2 = ["fontSize", "fontWeight", "fontFamily", "fontStyle"], J2 = ["underline", "overline", "linethrough"], X2 = [...Y2, "lineHeight", "text", "charSpacing", "textAlign", "styles", "path", "pathStartOffset", "pathSide", "pathAlign"], z2 = [...X2, ...J2, "textBackgroundColor", "direction"], nS = [...Y2, ...J2, He, "strokeWidth", ae, "deltaY", "textBackgroundColor"], iS = { _reNewline: Iu, _reSpacesAndTabs: /[ \t\r]/g, _reSpaceAndTab: /[ \t\r]/, _reWords: /\S+/g, fontSize: 40, fontWeight: "normal", fontFamily: "Times New Roman", underline: !1, overline: !1, linethrough: !1, textAlign: Ft, fontStyle: "normal", lineHeight: 1.16, superscript: { size: 0.6, baseline: -0.35 }, subscript: { size: 0.6, baseline: 0.11 }, textBackgroundColor: "", stroke: null, shadow: null, path: void 0, pathStartOffset: 0, pathSide: Ft, pathAlign: "baseline", _fontSizeFraction: 0.222, offsets: { underline: 0.1, linethrough: -0.315, overline: -0.88 }, _fontSizeMult: 1.13, charSpacing: 0, deltaY: 0, direction: "ltr", CACHE_FONT_SIZE: 400, MIN_TEXT_WIDTH: 2 }, QA = "justify", uc = "justify-left", oi = "justify-right", ai = "justify-center";
class Z2 extends ye {
  isEmptyStyles(t) {
    if (!this.styles || t !== void 0 && !this.styles[t]) return !0;
    const e = t === void 0 ? this.styles : { line: this.styles[t] };
    for (const A in e) for (const r in e[A]) for (const n in e[A][r]) return !1;
    return !0;
  }
  styleHas(t, e) {
    if (!this.styles || e !== void 0 && !this.styles[e]) return !1;
    const A = e === void 0 ? this.styles : { 0: this.styles[e] };
    for (const r in A) for (const n in A[r]) if (A[r][n][t] !== void 0) return !0;
    return !1;
  }
  cleanStyle(t) {
    if (!this.styles) return !1;
    const e = this.styles;
    let A, r, n = 0, i = !0, o = 0;
    for (const a in e) {
      A = 0;
      for (const c in e[a]) {
        const l = e[a][c] || {};
        n++, l[t] !== void 0 ? (r ? l[t] !== r && (i = !1) : r = l[t], l[t] === this[t] && delete l[t]) : i = !1, Object.keys(l).length !== 0 ? A++ : delete e[a][c];
      }
      A === 0 && delete e[a];
    }
    for (let a = 0; a < this._textLines.length; a++) o += this._textLines[a].length;
    i && n === o && (this[t] = r, this.removeStyle(t));
  }
  removeStyle(t) {
    if (!this.styles) return;
    const e = this.styles;
    let A, r, n;
    for (r in e) {
      for (n in A = e[r], A) delete A[n][t], Object.keys(A[n]).length === 0 && delete A[n];
      Object.keys(A).length === 0 && delete e[r];
    }
  }
  _extendStyles(t, e) {
    const { lineIndex: A, charIndex: r } = this.get2DCursorLocation(t);
    this._getLineStyle(A) || this._setLineStyle(A);
    const n = Mu(x(x({}, this._getStyleDeclaration(A, r)), e), (i) => i !== void 0);
    this._setStyleDeclaration(A, r, n);
  }
  getSelectionStyles(t, e, A) {
    const r = [];
    for (let n = t; n < (e || t); n++) r.push(this.getStyleAtPosition(n, A));
    return r;
  }
  getStyleAtPosition(t, e) {
    const { lineIndex: A, charIndex: r } = this.get2DCursorLocation(t);
    return e ? this.getCompleteStyleDeclaration(A, r) : this._getStyleDeclaration(A, r);
  }
  setSelectionStyles(t, e, A) {
    for (let r = e; r < (A || e); r++) this._extendStyles(r, t);
    this._forceClearCache = !0;
  }
  _getStyleDeclaration(t, e) {
    var A;
    const r = this.styles && this.styles[t];
    return r && (A = r[e]) !== null && A !== void 0 ? A : {};
  }
  getCompleteStyleDeclaration(t, e) {
    return x(x({}, on(this, this.constructor._styleProperties)), this._getStyleDeclaration(t, e));
  }
  _setStyleDeclaration(t, e, A) {
    this.styles[t][e] = A;
  }
  _deleteStyleDeclaration(t, e) {
    delete this.styles[t][e];
  }
  _getLineStyle(t) {
    return !!this.styles[t];
  }
  _setLineStyle(t) {
    this.styles[t] = {};
  }
  _deleteLineStyle(t) {
    delete this.styles[t];
  }
}
k(Z2, "_styleProperties", nS);
const oS = /  +/g, aS = /"/g;
function Ll(s, t, e, A, r) {
  return "		".concat(function(n, i) {
    let { left: o, top: a, width: c, height: l } = i, h = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : kt.NUM_FRACTION_DIGITS;
    const d = wi(ae, n, !1), [u, p, g, m] = [o, a, c, l].map((f) => Wt(f, h));
    return "<rect ".concat(d, ' x="').concat(u, '" y="').concat(p, '" width="').concat(g, '" height="').concat(m, '"></rect>');
  }(s, { left: t, top: e, width: A, height: r }), `
`);
}
const cS = ["textAnchor", "textDecoration", "dx", "dy", "top", "left", "fontSize", "strokeWidth"];
let Ml;
class ve extends Z2 {
  static getDefaults() {
    return x(x({}, super.getDefaults()), ve.ownDefaults);
  }
  constructor(t, e) {
    super(), k(this, "__charBounds", []), Object.assign(this, ve.ownDefaults), this.setOptions(e), this.styles || (this.styles = {}), this.text = t, this.initialized = !0, this.path && this.setPathInfo(), this.initDimensions(), this.setCoords();
  }
  setPathInfo() {
    const t = this.path;
    t && (t.segmentsInfo = D2(t.path));
  }
  _splitText() {
    const t = this._splitTextIntoLines(this.text);
    return this.textLines = t.lines, this._textLines = t.graphemeLines, this._unwrappedTextLines = t._unwrappedLines, this._text = t.graphemeText, t;
  }
  initDimensions() {
    this._splitText(), this._clearCache(), this.dirty = !0, this.path ? (this.width = this.path.width, this.height = this.path.height) : (this.width = this.calcTextWidth() || this.cursorWidth || this.MIN_TEXT_WIDTH, this.height = this.calcTextHeight()), this.textAlign.includes(QA) && this.enlargeSpaces();
  }
  enlargeSpaces() {
    let t, e, A, r, n, i, o;
    for (let a = 0, c = this._textLines.length; a < c; a++) if ((this.textAlign === QA || a !== c - 1 && !this.isEndOfWrapping(a)) && (r = 0, n = this._textLines[a], e = this.getLineWidth(a), e < this.width && (o = this.textLines[a].match(this._reSpacesAndTabs)))) {
      A = o.length, t = (this.width - e) / A;
      for (let l = 0; l <= n.length; l++) i = this.__charBounds[a][l], this._reSpaceAndTab.test(n[l]) ? (i.width += t, i.kernedWidth += t, i.left += r, r += t) : i.left += r;
    }
  }
  isEndOfWrapping(t) {
    return t === this._textLines.length - 1;
  }
  missingNewlineOffset(t) {
    return 1;
  }
  get2DCursorLocation(t, e) {
    const A = e ? this._unwrappedTextLines : this._textLines;
    let r;
    for (r = 0; r < A.length; r++) {
      if (t <= A[r].length) return { lineIndex: r, charIndex: t };
      t -= A[r].length + this.missingNewlineOffset(r, e);
    }
    return { lineIndex: r - 1, charIndex: A[r - 1].length < t ? A[r - 1].length : t };
  }
  toString() {
    return "#<Text (".concat(this.complexity(), '): { "text": "').concat(this.text, '", "fontFamily": "').concat(this.fontFamily, '" }>');
  }
  _getCacheCanvasDimensions() {
    const t = super._getCacheCanvasDimensions(), e = this.fontSize;
    return t.width += e * t.zoomX, t.height += e * t.zoomY, t;
  }
  _render(t) {
    const e = this.path;
    e && !e.isNotVisible() && e._render(t), this._setTextStyles(t), this._renderTextLinesBackground(t), this._renderTextDecoration(t, "underline"), this._renderText(t), this._renderTextDecoration(t, "overline"), this._renderTextDecoration(t, "linethrough");
  }
  _renderText(t) {
    this.paintFirst === He ? (this._renderTextStroke(t), this._renderTextFill(t)) : (this._renderTextFill(t), this._renderTextStroke(t));
  }
  _setTextStyles(t, e, A) {
    if (t.textBaseline = "alphabetic", this.path) switch (this.pathAlign) {
      case dt:
        t.textBaseline = "middle";
        break;
      case "ascender":
        t.textBaseline = Re;
        break;
      case "descender":
        t.textBaseline = Wh;
    }
    t.font = this._getFontDeclaration(e, A);
  }
  calcTextWidth() {
    let t = this.getLineWidth(0);
    for (let e = 1, A = this._textLines.length; e < A; e++) {
      const r = this.getLineWidth(e);
      r > t && (t = r);
    }
    return t;
  }
  _renderTextLine(t, e, A, r, n, i) {
    this._renderChars(t, e, A, r, n, i);
  }
  _renderTextLinesBackground(t) {
    if (!this.textBackgroundColor && !this.styleHas("textBackgroundColor")) return;
    const e = t.fillStyle, A = this._getLeftOffset();
    let r = this._getTopOffset();
    for (let n = 0, i = this._textLines.length; n < i; n++) {
      const o = this.getHeightOfLine(n);
      if (!this.textBackgroundColor && !this.styleHas("textBackgroundColor", n)) {
        r += o;
        continue;
      }
      const a = this._textLines[n].length, c = this._getLineLeftOffset(n);
      let l, h, d = 0, u = 0, p = this.getValueOfPropertyAt(n, 0, "textBackgroundColor");
      for (let g = 0; g < a; g++) {
        const m = this.__charBounds[n][g];
        h = this.getValueOfPropertyAt(n, g, "textBackgroundColor"), this.path ? (t.save(), t.translate(m.renderLeft, m.renderTop), t.rotate(m.angle), t.fillStyle = h, h && t.fillRect(-m.width / 2, -o / this.lineHeight * (1 - this._fontSizeFraction), m.width, o / this.lineHeight), t.restore()) : h !== p ? (l = A + c + u, this.direction === "rtl" && (l = this.width - l - d), t.fillStyle = p, p && t.fillRect(l, r, d, o / this.lineHeight), u = m.left, d = m.width, p = h) : d += m.kernedWidth;
      }
      h && !this.path && (l = A + c + u, this.direction === "rtl" && (l = this.width - l - d), t.fillStyle = h, t.fillRect(l, r, d, o / this.lineHeight)), r += o;
    }
    t.fillStyle = e, this._removeShadow(t);
  }
  _measureChar(t, e, A, r) {
    const n = ni.getFontCache(e), i = this._getFontDeclaration(e), o = A + t, a = A && i === this._getFontDeclaration(r), c = e.fontSize / this.CACHE_FONT_SIZE;
    let l, h, d, u;
    if (A && n[A] !== void 0 && (d = n[A]), n[t] !== void 0 && (u = l = n[t]), a && n[o] !== void 0 && (h = n[o], u = h - d), l === void 0 || d === void 0 || h === void 0) {
      const p = function() {
        return Ml || (Ml = HA({ width: 0, height: 0 }).getContext("2d")), Ml;
      }();
      this._setTextStyles(p, e, !0), l === void 0 && (u = l = p.measureText(t).width, n[t] = l), d === void 0 && a && A && (d = p.measureText(A).width, n[A] = d), a && h === void 0 && (h = p.measureText(o).width, n[o] = h, u = h - d);
    }
    return { width: l * c, kernedWidth: u * c };
  }
  getHeightOfChar(t, e) {
    return this.getValueOfPropertyAt(t, e, "fontSize");
  }
  measureLine(t) {
    const e = this._measureLine(t);
    return this.charSpacing !== 0 && (e.width -= this._getWidthOfCharSpacing()), e.width < 0 && (e.width = 0), e;
  }
  _measureLine(t) {
    let e, A, r = 0;
    const n = this.pathSide === Zt, i = this.path, o = this._textLines[t], a = o.length, c = new Array(a);
    this.__charBounds[t] = c;
    for (let l = 0; l < a; l++) {
      const h = o[l];
      A = this._getGraphemeBox(h, t, l, e), c[l] = A, r += A.kernedWidth, e = h;
    }
    if (c[a] = { left: A ? A.left + A.width : 0, width: 0, kernedWidth: 0, height: this.fontSize, deltaY: 0 }, i && i.segmentsInfo) {
      let l = 0;
      const h = i.segmentsInfo[i.segmentsInfo.length - 1].length;
      switch (this.textAlign) {
        case Ft:
          l = n ? h - r : 0;
          break;
        case dt:
          l = (h - r) / 2;
          break;
        case Zt:
          l = n ? 0 : h - r;
      }
      l += this.pathStartOffset * (n ? -1 : 1);
      for (let d = n ? a - 1 : 0; n ? d >= 0 : d < a; n ? d-- : d++) A = c[d], l > h ? l %= h : l < 0 && (l += h), this._setGraphemeOnPath(l, A), l += A.kernedWidth;
    }
    return { width: r, numOfSpaces: 0 };
  }
  _setGraphemeOnPath(t, e) {
    const A = t + e.kernedWidth / 2, r = this.path, n = Mx(r.path, A, r.segmentsInfo);
    e.renderLeft = n.x - r.pathOffset.x, e.renderTop = n.y - r.pathOffset.y, e.angle = n.angle + (this.pathSide === Zt ? Math.PI : 0);
  }
  _getGraphemeBox(t, e, A, r, n) {
    const i = this.getCompleteStyleDeclaration(e, A), o = r ? this.getCompleteStyleDeclaration(e, A - 1) : {}, a = this._measureChar(t, i, r, o);
    let c, l = a.kernedWidth, h = a.width;
    this.charSpacing !== 0 && (c = this._getWidthOfCharSpacing(), h += c, l += c);
    const d = { width: h, left: 0, height: i.fontSize, kernedWidth: l, deltaY: i.deltaY };
    if (A > 0 && !n) {
      const u = this.__charBounds[e][A - 1];
      d.left = u.left + u.width + a.kernedWidth - a.width;
    }
    return d;
  }
  getHeightOfLine(t) {
    if (this.__lineHeights[t]) return this.__lineHeights[t];
    let e = this.getHeightOfChar(t, 0);
    for (let A = 1, r = this._textLines[t].length; A < r; A++) e = Math.max(this.getHeightOfChar(t, A), e);
    return this.__lineHeights[t] = e * this.lineHeight * this._fontSizeMult;
  }
  calcTextHeight() {
    let t, e = 0;
    for (let A = 0, r = this._textLines.length; A < r; A++) t = this.getHeightOfLine(A), e += A === r - 1 ? t / this.lineHeight : t;
    return e;
  }
  _getLeftOffset() {
    return this.direction === "ltr" ? -this.width / 2 : this.width / 2;
  }
  _getTopOffset() {
    return -this.height / 2;
  }
  _renderTextCommon(t, e) {
    t.save();
    let A = 0;
    const r = this._getLeftOffset(), n = this._getTopOffset();
    for (let i = 0, o = this._textLines.length; i < o; i++) {
      const a = this.getHeightOfLine(i), c = a / this.lineHeight, l = this._getLineLeftOffset(i);
      this._renderTextLine(e, t, this._textLines[i], r + l, n + A + c, i), A += a;
    }
    t.restore();
  }
  _renderTextFill(t) {
    (this.fill || this.styleHas(ae)) && this._renderTextCommon(t, "fillText");
  }
  _renderTextStroke(t) {
    (this.stroke && this.strokeWidth !== 0 || !this.isEmptyStyles()) && (this.shadow && !this.shadow.affectStroke && this._removeShadow(t), t.save(), this._setLineDash(t, this.strokeDashArray), t.beginPath(), this._renderTextCommon(t, "strokeText"), t.closePath(), t.restore());
  }
  _renderChars(t, e, A, r, n, i) {
    const o = this.getHeightOfLine(i), a = this.textAlign.includes(QA), c = this.path, l = !a && this.charSpacing === 0 && this.isEmptyStyles(i) && !c, h = this.direction === "ltr", d = this.direction === "ltr" ? 1 : -1, u = e.direction;
    let p, g, m, f, w, B = "", C = 0;
    if (e.save(), u !== this.direction && (e.canvas.setAttribute("dir", h ? "ltr" : "rtl"), e.direction = h ? "ltr" : "rtl", e.textAlign = h ? Ft : Zt), n -= o * this._fontSizeFraction / this.lineHeight, l) return this._renderChar(t, e, i, 0, A.join(""), r, n), void e.restore();
    for (let v = 0, F = A.length - 1; v <= F; v++) f = v === F || this.charSpacing || c, B += A[v], m = this.__charBounds[i][v], C === 0 ? (r += d * (m.kernedWidth - m.width), C += m.width) : C += m.kernedWidth, a && !f && this._reSpaceAndTab.test(A[v]) && (f = !0), f || (p = p || this.getCompleteStyleDeclaration(i, v), g = this.getCompleteStyleDeclaration(i, v + 1), f = Vu(p, g, !1)), f && (c ? (e.save(), e.translate(m.renderLeft, m.renderTop), e.rotate(m.angle), this._renderChar(t, e, i, v, B, -C / 2, 0), e.restore()) : (w = r, this._renderChar(t, e, i, v, B, w, n)), B = "", p = g, r += d * C, C = 0);
    e.restore();
  }
  _applyPatternGradientTransformText(t) {
    const e = this.width + this.strokeWidth, A = this.height + this.strokeWidth, r = HA({ width: e, height: A }), n = r.getContext("2d");
    return r.width = e, r.height = A, n.beginPath(), n.moveTo(0, 0), n.lineTo(e, 0), n.lineTo(e, A), n.lineTo(0, A), n.closePath(), n.translate(e / 2, A / 2), n.fillStyle = t.toLive(n), this._applyPatternGradientTransform(n, t), n.fill(), n.createPattern(r, "no-repeat");
  }
  handleFiller(t, e, A) {
    let r, n;
    return sA(A) ? A.gradientUnits === "percentage" || A.gradientTransform || A.patternTransform ? (r = -this.width / 2, n = -this.height / 2, t.translate(r, n), t[e] = this._applyPatternGradientTransformText(A), { offsetX: r, offsetY: n }) : (t[e] = A.toLive(t), this._applyPatternGradientTransform(t, A)) : (t[e] = A, { offsetX: 0, offsetY: 0 });
  }
  _setStrokeStyles(t, e) {
    let { stroke: A, strokeWidth: r } = e;
    return t.lineWidth = r, t.lineCap = this.strokeLineCap, t.lineDashOffset = this.strokeDashOffset, t.lineJoin = this.strokeLineJoin, t.miterLimit = this.strokeMiterLimit, this.handleFiller(t, "strokeStyle", A);
  }
  _setFillStyles(t, e) {
    let { fill: A } = e;
    return this.handleFiller(t, "fillStyle", A);
  }
  _renderChar(t, e, A, r, n, i, o) {
    const a = this._getStyleDeclaration(A, r), c = this.getCompleteStyleDeclaration(A, r), l = t === "fillText" && c.fill, h = t === "strokeText" && c.stroke && c.strokeWidth;
    if (h || l) {
      if (e.save(), e.font = this._getFontDeclaration(c), a.textBackgroundColor && this._removeShadow(e), a.deltaY && (o += a.deltaY), l) {
        const d = this._setFillStyles(e, c);
        e.fillText(n, i - d.offsetX, o - d.offsetY);
      }
      if (h) {
        const d = this._setStrokeStyles(e, c);
        e.strokeText(n, i - d.offsetX, o - d.offsetY);
      }
      e.restore();
    }
  }
  setSuperscript(t, e) {
    this._setScript(t, e, this.superscript);
  }
  setSubscript(t, e) {
    this._setScript(t, e, this.subscript);
  }
  _setScript(t, e, A) {
    const r = this.get2DCursorLocation(t, !0), n = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "fontSize"), i = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "deltaY"), o = { fontSize: n * A.size, deltaY: i + n * A.baseline };
    this.setSelectionStyles(o, t, e);
  }
  _getLineLeftOffset(t) {
    const e = this.getLineWidth(t), A = this.width - e, r = this.textAlign, n = this.direction, i = this.isEndOfWrapping(t);
    let o = 0;
    return r === QA || r === ai && !i || r === oi && !i || r === uc && !i ? 0 : (r === dt && (o = A / 2), r === Zt && (o = A), r === ai && (o = A / 2), r === oi && (o = A), n === "rtl" && (r === Zt || r === QA || r === oi ? o = 0 : r === Ft || r === uc ? o = -A : r !== dt && r !== ai || (o = -A / 2)), o);
  }
  _clearCache() {
    this._forceClearCache = !1, this.__lineWidths = [], this.__lineHeights = [], this.__charBounds = [];
  }
  getLineWidth(t) {
    if (this.__lineWidths[t] !== void 0) return this.__lineWidths[t];
    const { width: e } = this.measureLine(t);
    return this.__lineWidths[t] = e, e;
  }
  _getWidthOfCharSpacing() {
    return this.charSpacing !== 0 ? this.fontSize * this.charSpacing / 1e3 : 0;
  }
  getValueOfPropertyAt(t, e, A) {
    var r;
    return (r = this._getStyleDeclaration(t, e)[A]) !== null && r !== void 0 ? r : this[A];
  }
  _renderTextDecoration(t, e) {
    if (!this[e] && !this.styleHas(e)) return;
    let A = this._getTopOffset();
    const r = this._getLeftOffset(), n = this.path, i = this._getWidthOfCharSpacing(), o = this.offsets[e];
    for (let a = 0, c = this._textLines.length; a < c; a++) {
      const l = this.getHeightOfLine(a);
      if (!this[e] && !this.styleHas(e, a)) {
        A += l;
        continue;
      }
      const h = this._textLines[a], d = l / this.lineHeight, u = this._getLineLeftOffset(a);
      let p, g, m = 0, f = 0, w = this.getValueOfPropertyAt(a, 0, e), B = this.getValueOfPropertyAt(a, 0, ae);
      const C = A + d * (1 - this._fontSizeFraction);
      let v = this.getHeightOfChar(a, 0), F = this.getValueOfPropertyAt(a, 0, "deltaY");
      for (let E = 0, _ = h.length; E < _; E++) {
        const P = this.__charBounds[a][E];
        p = this.getValueOfPropertyAt(a, E, e), g = this.getValueOfPropertyAt(a, E, ae);
        const K = this.getHeightOfChar(a, E), T = this.getValueOfPropertyAt(a, E, "deltaY");
        if (n && p && g) t.save(), t.fillStyle = B, t.translate(P.renderLeft, P.renderTop), t.rotate(P.angle), t.fillRect(-P.kernedWidth / 2, o * K + T, P.kernedWidth, this.fontSize / 15), t.restore();
        else if ((p !== w || g !== B || K !== v || T !== F) && f > 0) {
          let D = r + u + m;
          this.direction === "rtl" && (D = this.width - D - f), w && B && (t.fillStyle = B, t.fillRect(D, C + o * v + F, f, this.fontSize / 15)), m = P.left, f = P.width, w = p, B = g, v = K, F = T;
        } else f += P.kernedWidth;
      }
      let Q = r + u + m;
      this.direction === "rtl" && (Q = this.width - Q - f), t.fillStyle = g, p && g && t.fillRect(Q, C + o * v + F, f - i, this.fontSize / 15), A += l;
    }
    this._removeShadow(t);
  }
  _getFontDeclaration() {
    let { fontFamily: t = this.fontFamily, fontStyle: e = this.fontStyle, fontWeight: A = this.fontWeight, fontSize: r = this.fontSize } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, n = arguments.length > 1 ? arguments[1] : void 0;
    const i = t.includes("'") || t.includes('"') || t.includes(",") || ve.genericFonts.includes(t.toLowerCase()) ? t : '"'.concat(t, '"');
    return [e, A, "".concat(n ? this.CACHE_FONT_SIZE : r, "px"), i].join(" ");
  }
  render(t) {
    this.visible && (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (this._forceClearCache && this.initDimensions(), super.render(t)));
  }
  graphemeSplit(t) {
    return ju(t);
  }
  _splitTextIntoLines(t) {
    const e = t.split(this._reNewline), A = new Array(e.length), r = [`
`];
    let n = [];
    for (let i = 0; i < e.length; i++) A[i] = this.graphemeSplit(e[i]), n = n.concat(A[i], r);
    return n.pop(), { _unwrappedLines: A, lines: e, graphemeText: n, graphemeLines: A };
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return x(x({}, super.toObject([...z2, ...t])), {}, { styles: ix(this.styles, this.text) }, this.path ? { path: this.path.toObject() } : {});
  }
  set(t, e) {
    const { textLayoutProperties: A } = this.constructor;
    super.set(t, e);
    let r = !1, n = !1;
    if (typeof t == "object") for (const i in t) i === "path" && this.setPathInfo(), r = r || A.includes(i), n = n || i === "path";
    else r = A.includes(t), n = t === "path";
    return n && this.setPathInfo(), r && this.initialized && (this.initDimensions(), this.setCoords()), this;
  }
  complexity() {
    return 1;
  }
  static async fromElement(t, e, A) {
    const r = cs(t, ve.ATTRIBUTE_NAMES, A), n = x(x({}, e), r), { textAnchor: i = Ft, textDecoration: o = "", dx: a = 0, dy: c = 0, top: l = 0, left: h = 0, fontSize: d = Uu, strokeWidth: u = 1 } = n, p = Vt(n, cS), g = new this((t.textContent || "").replace(/^\s+|\s+$|\n+/g, "").replace(/\s+/g, " "), x({ left: h + a, top: l + c, underline: o.includes("underline"), overline: o.includes("overline"), linethrough: o.includes("line-through"), strokeWidth: 0, fontSize: d }, p)), m = g.getScaledHeight() / g.height, f = ((g.height + g.strokeWidth) * g.lineHeight - g.height) * m, w = g.getScaledHeight() + f;
    let B = 0;
    return i === dt && (B = g.getScaledWidth() / 2), i === Zt && (B = g.getScaledWidth()), g.set({ left: g.left - B, top: g.top - (w - g.fontSize * (0.07 + g._fontSizeFraction)) / g.lineHeight, strokeWidth: u }), g;
  }
  static fromObject(t) {
    return this._fromObject(x(x({}, t), {}, { styles: ox(t.styles || {}, t.text) }), { extraParam: "text" });
  }
}
k(ve, "textLayoutProperties", X2), k(ve, "cacheProperties", [...as, ...z2]), k(ve, "ownDefaults", iS), k(ve, "type", "Text"), k(ve, "genericFonts", ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui", "ui-serif", "ui-sans-serif", "ui-monospace", "ui-rounded", "math", "emoji", "fangsong"]), k(ve, "ATTRIBUTE_NAMES", Ds.concat("x", "y", "dx", "dy", "font-family", "font-style", "font-weight", "font-size", "letter-spacing", "text-decoration", "text-anchor")), F2(ve, [class extends B2 {
  _toSVG() {
    const s = this._getSVGLeftTopOffsets(), t = this._getSVGTextAndBg(s.textTop, s.textLeft);
    return this._wrapSVGTextAndBg(t);
  }
  toSVG(s) {
    return this._createBaseSVGMarkup(this._toSVG(), { reviver: s, noStyle: !0, withShadow: !0 });
  }
  _getSVGLeftTopOffsets() {
    return { textLeft: -this.width / 2, textTop: -this.height / 2, lineTop: this.getHeightOfLine(0) };
  }
  _wrapSVGTextAndBg(s) {
    let { textBgRects: t, textSpans: e } = s;
    const A = this.getSvgTextDecoration(this);
    return [t.join(""), '		<text xml:space="preserve" ', this.fontFamily ? 'font-family="'.concat(this.fontFamily.replace(aS, "'"), '" ') : "", this.fontSize ? 'font-size="'.concat(this.fontSize, '" ') : "", this.fontStyle ? 'font-style="'.concat(this.fontStyle, '" ') : "", this.fontWeight ? 'font-weight="'.concat(this.fontWeight, '" ') : "", A ? 'text-decoration="'.concat(A, '" ') : "", this.direction === "rtl" ? 'direction="'.concat(this.direction, '" ') : "", 'style="', this.getSvgStyles(!0), '"', this.addPaintOrder(), " >", e.join(""), `</text>
`];
  }
  _getSVGTextAndBg(s, t) {
    const e = [], A = [];
    let r, n = s;
    this.backgroundColor && A.push(...Ll(this.backgroundColor, -this.width / 2, -this.height / 2, this.width, this.height));
    for (let i = 0, o = this._textLines.length; i < o; i++) r = this._getLineLeftOffset(i), this.direction === "rtl" && (r += this.width), (this.textBackgroundColor || this.styleHas("textBackgroundColor", i)) && this._setSVGTextLineBg(A, i, t + r, n), this._setSVGTextLineText(e, i, t + r, n), n += this.getHeightOfLine(i);
    return { textSpans: e, textBgRects: A };
  }
  _createTextCharSpan(s, t, e, A) {
    const r = this.getSvgSpanStyles(t, s !== s.trim() || !!s.match(oS)), n = r ? 'style="'.concat(r, '"') : "", i = t.deltaY, o = i ? ' dy="'.concat(Wt(i, kt.NUM_FRACTION_DIGITS), '" ') : "";
    return '<tspan x="'.concat(Wt(e, kt.NUM_FRACTION_DIGITS), '" y="').concat(Wt(A, kt.NUM_FRACTION_DIGITS), '" ').concat(o).concat(n, ">").concat(((a) => a.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;"))(s), "</tspan>");
  }
  _setSVGTextLineText(s, t, e, A) {
    const r = this.getHeightOfLine(t), n = this.textAlign.includes(QA), i = this._textLines[t];
    let o, a, c, l, h, d = "", u = 0;
    A += r * (1 - this._fontSizeFraction) / this.lineHeight;
    for (let p = 0, g = i.length - 1; p <= g; p++) h = p === g || this.charSpacing, d += i[p], c = this.__charBounds[t][p], u === 0 ? (e += c.kernedWidth - c.width, u += c.width) : u += c.kernedWidth, n && !h && this._reSpaceAndTab.test(i[p]) && (h = !0), h || (o = o || this.getCompleteStyleDeclaration(t, p), a = this.getCompleteStyleDeclaration(t, p + 1), h = Vu(o, a, !0)), h && (l = this._getStyleDeclaration(t, p), s.push(this._createTextCharSpan(d, l, e, A)), d = "", o = a, this.direction === "rtl" ? e -= u : e += u, u = 0);
  }
  _setSVGTextLineBg(s, t, e, A) {
    const r = this._textLines[t], n = this.getHeightOfLine(t) / this.lineHeight;
    let i, o = 0, a = 0, c = this.getValueOfPropertyAt(t, 0, "textBackgroundColor");
    for (let l = 0; l < r.length; l++) {
      const { left: h, width: d, kernedWidth: u } = this.__charBounds[t][l];
      i = this.getValueOfPropertyAt(t, l, "textBackgroundColor"), i !== c ? (c && s.push(...Ll(c, e + a, A, o, n)), a = h, o = d, c = i) : o += u;
    }
    i && s.push(...Ll(c, e + a, A, o, n));
  }
  _getSVGLineTopOffset(s) {
    let t, e = 0;
    for (t = 0; t < s; t++) e += this.getHeightOfLine(t);
    const A = this.getHeightOfLine(t);
    return { lineTop: e, offset: (this._fontSizeMult - this._fontSizeFraction) * A / (this.lineHeight * this._fontSizeMult) };
  }
  getSvgStyles(s) {
    return "".concat(super.getSvgStyles(s), " white-space: pre;");
  }
  getSvgSpanStyles(s, t) {
    const { fontFamily: e, strokeWidth: A, stroke: r, fill: n, fontSize: i, fontStyle: o, fontWeight: a, deltaY: c } = s, l = this.getSvgTextDecoration(s);
    return [r ? wi(He, r) : "", A ? "stroke-width: ".concat(A, "; ") : "", e ? "font-family: ".concat(e.includes("'") || e.includes('"') ? e : "'".concat(e, "'"), "; ") : "", i ? "font-size: ".concat(i, "px; ") : "", o ? "font-style: ".concat(o, "; ") : "", a ? "font-weight: ".concat(a, "; ") : "", l && "text-decoration: ".concat(l, "; "), n ? wi(ae, n) : "", c ? "baseline-shift: ".concat(-c, "; ") : "", t ? "white-space: pre; " : ""].join("");
  }
  getSvgTextDecoration(s) {
    return ["overline", "underline", "line-through"].filter((t) => s[t.replace("-", "")]).join(" ");
  }
}]), J.setClass(ve), J.setSVGClass(ve);
class lS {
  constructor(t) {
    k(this, "target", void 0), k(this, "__mouseDownInPlace", !1), k(this, "__dragStartFired", !1), k(this, "__isDraggingOver", !1), k(this, "__dragStartSelection", void 0), k(this, "__dragImageDisposer", void 0), k(this, "_dispose", void 0), this.target = t;
    const e = [this.target.on("dragenter", this.dragEnterHandler.bind(this)), this.target.on("dragover", this.dragOverHandler.bind(this)), this.target.on("dragleave", this.dragLeaveHandler.bind(this)), this.target.on("dragend", this.dragEndHandler.bind(this)), this.target.on("drop", this.dropHandler.bind(this))];
    this._dispose = () => {
      e.forEach((A) => A()), this._dispose = void 0;
    };
  }
  isPointerOverSelection(t) {
    const e = this.target, A = e.getSelectionStartFromPointer(t);
    return e.isEditing && A >= e.selectionStart && A <= e.selectionEnd && e.selectionStart < e.selectionEnd;
  }
  start(t) {
    return this.__mouseDownInPlace = this.isPointerOverSelection(t);
  }
  isActive() {
    return this.__mouseDownInPlace;
  }
  end(t) {
    const e = this.isActive();
    return e && !this.__dragStartFired && (this.target.setCursorByClick(t), this.target.initDelayedCursor(!0)), this.__mouseDownInPlace = !1, this.__dragStartFired = !1, this.__isDraggingOver = !1, e;
  }
  getDragStartSelection() {
    return this.__dragStartSelection;
  }
  setDragImage(t, e) {
    var A;
    let { selectionStart: r, selectionEnd: n } = e;
    const i = this.target, o = i.canvas, a = new U(i.flipX ? -1 : 1, i.flipY ? -1 : 1), c = i._getCursorBoundaries(r), l = new U(c.left + c.leftOffset, c.top + c.topOffset).multiply(a).transform(i.calcTransformMatrix()), h = o.getScenePoint(t).subtract(l), d = i.getCanvasRetinaScaling(), u = i.getBoundingRect(), p = l.subtract(new U(u.left, u.top)), g = o.viewportTransform, m = p.add(h).transform(g, !0), f = i.backgroundColor, w = Nu(i.styles);
    i.backgroundColor = "";
    const B = { stroke: "transparent", fill: "transparent", textBackgroundColor: "transparent" };
    i.setSelectionStyles(B, 0, r), i.setSelectionStyles(B, n, i.text.length), i.dirty = !0;
    const C = i.toCanvasElement({ enableRetinaScaling: o.enableRetinaScaling, viewportTransform: !0 });
    i.backgroundColor = f, i.styles = w, i.dirty = !0, ed(C, { position: "fixed", left: "".concat(-C.width, "px"), border: Le, width: "".concat(C.width / d, "px"), height: "".concat(C.height / d, "px") }), this.__dragImageDisposer && this.__dragImageDisposer(), this.__dragImageDisposer = () => {
      C.remove();
    }, pA(t.target || this.target.hiddenTextarea).body.appendChild(C), (A = t.dataTransfer) === null || A === void 0 || A.setDragImage(C, m.x, m.y);
  }
  onDragStart(t) {
    this.__dragStartFired = !0;
    const e = this.target, A = this.isActive();
    if (A && t.dataTransfer) {
      const r = this.__dragStartSelection = { selectionStart: e.selectionStart, selectionEnd: e.selectionEnd }, n = e._text.slice(r.selectionStart, r.selectionEnd).join(""), i = x({ text: e.text, value: n }, r);
      t.dataTransfer.setData("text/plain", n), t.dataTransfer.setData("application/fabric", JSON.stringify({ value: n, styles: e.getSelectionStyles(r.selectionStart, r.selectionEnd, !0) })), t.dataTransfer.effectAllowed = "copyMove", this.setDragImage(t, i);
    }
    return e.abortCursorAnimation(), A;
  }
  canDrop(t) {
    if (this.target.editable && !this.target.getActiveControl() && !t.defaultPrevented) {
      if (this.isActive() && this.__dragStartSelection) {
        const e = this.target.getSelectionStartFromPointer(t), A = this.__dragStartSelection;
        return e < A.selectionStart || e > A.selectionEnd;
      }
      return !0;
    }
    return !1;
  }
  targetCanDrop(t) {
    return this.target.canDrop(t);
  }
  dragEnterHandler(t) {
    let { e } = t;
    const A = this.targetCanDrop(e);
    !this.__isDraggingOver && A && (this.__isDraggingOver = !0);
  }
  dragOverHandler(t) {
    const { e } = t, A = this.targetCanDrop(e);
    !this.__isDraggingOver && A ? this.__isDraggingOver = !0 : this.__isDraggingOver && !A && (this.__isDraggingOver = !1), this.__isDraggingOver && (e.preventDefault(), t.canDrop = !0, t.dropTarget = this.target);
  }
  dragLeaveHandler() {
    (this.__isDraggingOver || this.isActive()) && (this.__isDraggingOver = !1);
  }
  dropHandler(t) {
    var e;
    const { e: A } = t, r = A.defaultPrevented;
    this.__isDraggingOver = !1, A.preventDefault();
    let n = (e = A.dataTransfer) === null || e === void 0 ? void 0 : e.getData("text/plain");
    if (n && !r) {
      const i = this.target, o = i.canvas;
      let a = i.getSelectionStartFromPointer(A);
      const { styles: c } = A.dataTransfer.types.includes("application/fabric") ? JSON.parse(A.dataTransfer.getData("application/fabric")) : {}, l = n[Math.max(0, n.length - 1)], h = 0;
      if (this.__dragStartSelection) {
        const d = this.__dragStartSelection.selectionStart, u = this.__dragStartSelection.selectionEnd;
        a > d && a <= u ? a = d : a > u && (a -= u - d), i.removeChars(d, u), delete this.__dragStartSelection;
      }
      i._reNewline.test(l) && (i._reNewline.test(i._text[a]) || a === i._text.length) && (n = n.trimEnd()), t.didDrop = !0, t.dropTarget = i, i.insertChars(n, c, a), o.setActiveObject(i), i.enterEditing(A), i.selectionStart = Math.min(a + h, i._text.length), i.selectionEnd = Math.min(i.selectionStart + n.length, i._text.length), i.hiddenTextarea.value = i.text, i._updateTextarea(), i.hiddenTextarea.focus(), i.fire(tc, { index: a + h, action: "drop" }), o.fire("text:changed", { target: i }), o.contextTopDirty = !0, o.requestRenderAll();
    }
  }
  dragEndHandler(t) {
    let { e } = t;
    if (this.isActive() && this.__dragStartFired && this.__dragStartSelection) {
      var A;
      const r = this.target, n = this.target.canvas, { selectionStart: i, selectionEnd: o } = this.__dragStartSelection, a = ((A = e.dataTransfer) === null || A === void 0 ? void 0 : A.dropEffect) || Le;
      a === Le ? (r.selectionStart = i, r.selectionEnd = o, r._updateTextarea(), r.hiddenTextarea.focus()) : (r.clearContextTop(), a === "move" && (r.removeChars(i, o), r.selectionStart = r.selectionEnd = i, r.hiddenTextarea && (r.hiddenTextarea.value = r.text), r._updateTextarea(), r.fire(tc, { index: i, action: "dragend" }), n.fire("text:changed", { target: r }), n.requestRenderAll()), r.exitEditing());
    }
    this.__dragImageDisposer && this.__dragImageDisposer(), delete this.__dragImageDisposer, delete this.__dragStartSelection, this.__isDraggingOver = !1;
  }
  dispose() {
    this._dispose && this._dispose();
  }
}
const g0 = /[ \n\.,;!\?\-]/;
class hS extends ve {
  constructor() {
    super(...arguments), k(this, "_currentCursorOpacity", 1);
  }
  initBehavior() {
    this._tick = this._tick.bind(this), this._onTickComplete = this._onTickComplete.bind(this), this.updateSelectionOnMouseMove = this.updateSelectionOnMouseMove.bind(this);
  }
  onDeselect(t) {
    return this.isEditing && this.exitEditing(), this.selected = !1, super.onDeselect(t);
  }
  _animateCursor(t) {
    let { toValue: e, duration: A, delay: r, onComplete: n } = t;
    return v2({ startValue: this._currentCursorOpacity, endValue: e, duration: A, delay: r, onComplete: n, abort: () => !this.canvas || this.selectionStart !== this.selectionEnd, onChange: (i) => {
      this._currentCursorOpacity = i, this.renderCursorOrSelection();
    } });
  }
  _tick(t) {
    this._currentTickState = this._animateCursor({ toValue: 0, duration: this.cursorDuration / 2, delay: Math.max(t || 0, 100), onComplete: this._onTickComplete });
  }
  _onTickComplete() {
    var t;
    (t = this._currentTickCompleteState) === null || t === void 0 || t.abort(), this._currentTickCompleteState = this._animateCursor({ toValue: 1, duration: this.cursorDuration, onComplete: this._tick });
  }
  initDelayedCursor(t) {
    this.abortCursorAnimation(), this._tick(t ? 0 : this.cursorDelay);
  }
  abortCursorAnimation() {
    let t = !1;
    [this._currentTickState, this._currentTickCompleteState].forEach((e) => {
      e && !e.isDone() && (t = !0, e.abort());
    }), this._currentCursorOpacity = 1, t && this.clearContextTop();
  }
  restartCursorIfNeeded() {
    [this._currentTickState, this._currentTickCompleteState].some((t) => !t || t.isDone()) && this.initDelayedCursor();
  }
  selectAll() {
    return this.selectionStart = 0, this.selectionEnd = this._text.length, this._fireSelectionChanged(), this._updateTextarea(), this;
  }
  getSelectedText() {
    return this._text.slice(this.selectionStart, this.selectionEnd).join("");
  }
  findWordBoundaryLeft(t) {
    let e = 0, A = t - 1;
    if (this._reSpace.test(this._text[A])) for (; this._reSpace.test(this._text[A]); ) e++, A--;
    for (; /\S/.test(this._text[A]) && A > -1; ) e++, A--;
    return t - e;
  }
  findWordBoundaryRight(t) {
    let e = 0, A = t;
    if (this._reSpace.test(this._text[A])) for (; this._reSpace.test(this._text[A]); ) e++, A++;
    for (; /\S/.test(this._text[A]) && A < this._text.length; ) e++, A++;
    return t + e;
  }
  findLineBoundaryLeft(t) {
    let e = 0, A = t - 1;
    for (; !/\n/.test(this._text[A]) && A > -1; ) e++, A--;
    return t - e;
  }
  findLineBoundaryRight(t) {
    let e = 0, A = t;
    for (; !/\n/.test(this._text[A]) && A < this._text.length; ) e++, A++;
    return t + e;
  }
  searchWordBoundary(t, e) {
    const A = this._text;
    let r = t > 0 && this._reSpace.test(A[t]) && (e === -1 || !Iu.test(A[t - 1])) ? t - 1 : t, n = A[r];
    for (; r > 0 && r < A.length && !g0.test(n); ) r += e, n = A[r];
    return e === -1 && g0.test(n) && r++, r;
  }
  selectWord(t) {
    t = t || this.selectionStart;
    const e = this.searchWordBoundary(t, -1), A = Math.max(e, this.searchWordBoundary(t, 1));
    this.selectionStart = e, this.selectionEnd = A, this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection();
  }
  selectLine(t) {
    t = t || this.selectionStart;
    const e = this.findLineBoundaryLeft(t), A = this.findLineBoundaryRight(t);
    return this.selectionStart = e, this.selectionEnd = A, this._fireSelectionChanged(), this._updateTextarea(), this;
  }
  enterEditing(t) {
    !this.isEditing && this.editable && (this.enterEditingImpl(), this.fire("editing:entered", t ? { e: t } : void 0), this._fireSelectionChanged(), this.canvas && (this.canvas.fire("text:editing:entered", { target: this, e: t }), this.canvas.requestRenderAll()));
  }
  enterEditingImpl() {
    this.canvas && (this.canvas.calcOffset(), this.canvas.textEditingManager.exitTextEditing()), this.isEditing = !0, this.initHiddenTextarea(), this.hiddenTextarea.focus(), this.hiddenTextarea.value = this.text, this._updateTextarea(), this._saveEditingProps(), this._setEditingProps(), this._textBeforeEdit = this.text, this._tick();
  }
  updateSelectionOnMouseMove(t) {
    if (this.getActiveControl()) return;
    const e = this.hiddenTextarea;
    pA(e).activeElement !== e && e.focus();
    const A = this.getSelectionStartFromPointer(t), r = this.selectionStart, n = this.selectionEnd;
    (A === this.__selectionStartOnMouseDown && r !== n || r !== A && n !== A) && (A > this.__selectionStartOnMouseDown ? (this.selectionStart = this.__selectionStartOnMouseDown, this.selectionEnd = A) : (this.selectionStart = A, this.selectionEnd = this.__selectionStartOnMouseDown), this.selectionStart === r && this.selectionEnd === n || (this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection()));
  }
  _setEditingProps() {
    this.hoverCursor = "text", this.canvas && (this.canvas.defaultCursor = this.canvas.moveCursor = "text"), this.borderColor = this.editingBorderColor, this.hasControls = this.selectable = !1, this.lockMovementX = this.lockMovementY = !0;
  }
  fromStringToGraphemeSelection(t, e, A) {
    const r = A.slice(0, t), n = this.graphemeSplit(r).length;
    if (t === e) return { selectionStart: n, selectionEnd: n };
    const i = A.slice(t, e);
    return { selectionStart: n, selectionEnd: n + this.graphemeSplit(i).length };
  }
  fromGraphemeToStringSelection(t, e, A) {
    const r = A.slice(0, t).join("").length;
    return t === e ? { selectionStart: r, selectionEnd: r } : { selectionStart: r, selectionEnd: r + A.slice(t, e).join("").length };
  }
  _updateTextarea() {
    if (this.cursorOffsetCache = {}, this.hiddenTextarea) {
      if (!this.inCompositionMode) {
        const t = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text);
        this.hiddenTextarea.selectionStart = t.selectionStart, this.hiddenTextarea.selectionEnd = t.selectionEnd;
      }
      this.updateTextareaPosition();
    }
  }
  updateFromTextArea() {
    if (!this.hiddenTextarea) return;
    this.cursorOffsetCache = {};
    const t = this.hiddenTextarea;
    this.text = t.value, this.set("dirty", !0), this.initDimensions(), this.setCoords();
    const e = this.fromStringToGraphemeSelection(t.selectionStart, t.selectionEnd, t.value);
    this.selectionEnd = this.selectionStart = e.selectionEnd, this.inCompositionMode || (this.selectionStart = e.selectionStart), this.updateTextareaPosition();
  }
  updateTextareaPosition() {
    if (this.selectionStart === this.selectionEnd) {
      const t = this._calcTextareaPosition();
      this.hiddenTextarea.style.left = t.left, this.hiddenTextarea.style.top = t.top;
    }
  }
  _calcTextareaPosition() {
    if (!this.canvas) return { left: "1px", top: "1px" };
    const t = this.inCompositionMode ? this.compositionStart : this.selectionStart, e = this._getCursorBoundaries(t), A = this.get2DCursorLocation(t), r = A.lineIndex, n = A.charIndex, i = this.getValueOfPropertyAt(r, n, "fontSize") * this.lineHeight, o = e.leftOffset, a = this.getCanvasRetinaScaling(), c = this.canvas.upperCanvasEl, l = c.width / a, h = c.height / a, d = l - i, u = h - i, p = new U(e.left + o, e.top + e.topOffset + i).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new U(c.clientWidth / l, c.clientHeight / h));
    return p.x < 0 && (p.x = 0), p.x > d && (p.x = d), p.y < 0 && (p.y = 0), p.y > u && (p.y = u), p.x += this.canvas._offset.left, p.y += this.canvas._offset.top, { left: "".concat(p.x, "px"), top: "".concat(p.y, "px"), fontSize: "".concat(i, "px"), charHeight: i };
  }
  _saveEditingProps() {
    this._savedProps = { hasControls: this.hasControls, borderColor: this.borderColor, lockMovementX: this.lockMovementX, lockMovementY: this.lockMovementY, hoverCursor: this.hoverCursor, selectable: this.selectable, defaultCursor: this.canvas && this.canvas.defaultCursor, moveCursor: this.canvas && this.canvas.moveCursor };
  }
  _restoreEditingProps() {
    this._savedProps && (this.hoverCursor = this._savedProps.hoverCursor, this.hasControls = this._savedProps.hasControls, this.borderColor = this._savedProps.borderColor, this.selectable = this._savedProps.selectable, this.lockMovementX = this._savedProps.lockMovementX, this.lockMovementY = this._savedProps.lockMovementY, this.canvas && (this.canvas.defaultCursor = this._savedProps.defaultCursor || this.canvas.defaultCursor, this.canvas.moveCursor = this._savedProps.moveCursor || this.canvas.moveCursor), delete this._savedProps);
  }
  _exitEditing() {
    const t = this.hiddenTextarea;
    this.selected = !1, this.isEditing = !1, t && (t.blur && t.blur(), t.parentNode && t.parentNode.removeChild(t)), this.hiddenTextarea = null, this.abortCursorAnimation(), this.selectionStart !== this.selectionEnd && this.clearContextTop();
  }
  exitEditingImpl() {
    this._exitEditing(), this.selectionEnd = this.selectionStart, this._restoreEditingProps(), this._forceClearCache && (this.initDimensions(), this.setCoords());
  }
  exitEditing() {
    const t = this._textBeforeEdit !== this.text;
    return this.exitEditingImpl(), this.fire("editing:exited"), t && this.fire(ec), this.canvas && (this.canvas.fire("text:editing:exited", { target: this }), t && this.canvas.fire("object:modified", { target: this })), this;
  }
  _removeExtraneousStyles() {
    for (const t in this.styles) this._textLines[t] || delete this.styles[t];
  }
  removeStyleFromTo(t, e) {
    const { lineIndex: A, charIndex: r } = this.get2DCursorLocation(t, !0), { lineIndex: n, charIndex: i } = this.get2DCursorLocation(e, !0);
    if (A !== n) {
      if (this.styles[A]) for (let o = r; o < this._unwrappedTextLines[A].length; o++) delete this.styles[A][o];
      if (this.styles[n]) for (let o = i; o < this._unwrappedTextLines[n].length; o++) {
        const a = this.styles[n][o];
        a && (this.styles[A] || (this.styles[A] = {}), this.styles[A][r + o - i] = a);
      }
      for (let o = A + 1; o <= n; o++) delete this.styles[o];
      this.shiftLineStyles(n, A - n);
    } else if (this.styles[A]) {
      const o = this.styles[A], a = i - r;
      for (let c = r; c < i; c++) delete o[c];
      for (const c in this.styles[A]) {
        const l = parseInt(c, 10);
        l >= i && (o[l - a] = o[c], delete o[c]);
      }
    }
  }
  shiftLineStyles(t, e) {
    const A = Object.assign({}, this.styles);
    for (const r in this.styles) {
      const n = parseInt(r, 10);
      n > t && (this.styles[n + e] = A[n], A[n - e] || delete this.styles[n]);
    }
  }
  insertNewlineStyleObject(t, e, A, r) {
    const n = {}, i = this._unwrappedTextLines[t].length, o = i === e;
    let a = !1;
    A || (A = 1), this.shiftLineStyles(t, A);
    const c = this.styles[t] ? this.styles[t][e === 0 ? e : e - 1] : void 0;
    for (const h in this.styles[t]) {
      const d = parseInt(h, 10);
      d >= e && (a = !0, n[d - e] = this.styles[t][h], o && e === 0 || delete this.styles[t][h]);
    }
    let l = !1;
    for (a && !o && (this.styles[t + A] = n, l = !0), (l || i > e) && A--; A > 0; ) r && r[A - 1] ? this.styles[t + A] = { 0: x({}, r[A - 1]) } : c ? this.styles[t + A] = { 0: x({}, c) } : delete this.styles[t + A], A--;
    this._forceClearCache = !0;
  }
  insertCharStyleObject(t, e, A, r) {
    this.styles || (this.styles = {});
    const n = this.styles[t], i = n ? x({}, n) : {};
    A || (A = 1);
    for (const a in i) {
      const c = parseInt(a, 10);
      c >= e && (n[c + A] = i[c], i[c - A] || delete n[c]);
    }
    if (this._forceClearCache = !0, r) {
      for (; A--; ) Object.keys(r[A]).length && (this.styles[t] || (this.styles[t] = {}), this.styles[t][e + A] = x({}, r[A]));
      return;
    }
    if (!n) return;
    const o = n[e ? e - 1 : 1];
    for (; o && A--; ) this.styles[t][e + A] = x({}, o);
  }
  insertNewStyleBlock(t, e, A) {
    const r = this.get2DCursorLocation(e, !0), n = [0];
    let i, o = 0;
    for (let a = 0; a < t.length; a++) t[a] === `
` ? (o++, n[o] = 0) : n[o]++;
    for (n[0] > 0 && (this.insertCharStyleObject(r.lineIndex, r.charIndex, n[0], A), A = A && A.slice(n[0] + 1)), o && this.insertNewlineStyleObject(r.lineIndex, r.charIndex + n[0], o), i = 1; i < o; i++) n[i] > 0 ? this.insertCharStyleObject(r.lineIndex + i, 0, n[i], A) : A && this.styles[r.lineIndex + i] && A[0] && (this.styles[r.lineIndex + i][0] = A[0]), A = A && A.slice(n[i] + 1);
    n[i] > 0 && this.insertCharStyleObject(r.lineIndex + i, 0, n[i], A);
  }
  removeChars(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t + 1;
    this.removeStyleFromTo(t, e), this._text.splice(t, e - t), this.text = this._text.join(""), this.set("dirty", !0), this.initDimensions(), this.setCoords(), this._removeExtraneousStyles();
  }
  insertChars(t, e, A) {
    let r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : A;
    r > A && this.removeStyleFromTo(A, r);
    const n = this.graphemeSplit(t);
    this.insertNewStyleBlock(n, A, e), this._text = [...this._text.slice(0, A), ...n, ...this._text.slice(r)], this.text = this._text.join(""), this.set("dirty", !0), this.initDimensions(), this.setCoords(), this._removeExtraneousStyles();
  }
  setSelectionStartEndWithShift(t, e, A) {
    A <= t ? (e === t ? this._selectionDirection = Ft : this._selectionDirection === Zt && (this._selectionDirection = Ft, this.selectionEnd = t), this.selectionStart = A) : A > t && A < e ? this._selectionDirection === Zt ? this.selectionEnd = A : this.selectionStart = A : (e === t ? this._selectionDirection = Zt : this._selectionDirection === Ft && (this._selectionDirection = Zt, this.selectionStart = e), this.selectionEnd = A);
  }
}
class dS extends hS {
  initHiddenTextarea() {
    const t = this.canvas && pA(this.canvas.getElement()) || sn(), e = t.createElement("textarea");
    Object.entries({ autocapitalize: "off", autocorrect: "off", autocomplete: "off", spellcheck: "false", "data-fabric": "textarea", wrap: "off" }).map((i) => {
      let [o, a] = i;
      return e.setAttribute(o, a);
    });
    const { top: A, left: r, fontSize: n } = this._calcTextareaPosition();
    e.style.cssText = "position: absolute; top: ".concat(A, "; left: ").concat(r, "; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(n, ";"), (this.hiddenTextareaContainer || t.body).appendChild(e), Object.entries({ blur: "blur", keydown: "onKeyDown", keyup: "onKeyUp", input: "onInput", copy: "copy", cut: "copy", paste: "paste", compositionstart: "onCompositionStart", compositionupdate: "onCompositionUpdate", compositionend: "onCompositionEnd" }).map((i) => {
      let [o, a] = i;
      return e.addEventListener(o, this[a].bind(this));
    }), this.hiddenTextarea = e;
  }
  blur() {
    this.abortCursorAnimation();
  }
  onKeyDown(t) {
    if (!this.isEditing) return;
    const e = this.direction === "rtl" ? this.keysMapRtl : this.keysMap;
    if (t.keyCode in e) this[e[t.keyCode]](t);
    else {
      if (!(t.keyCode in this.ctrlKeysMapDown) || !t.ctrlKey && !t.metaKey) return;
      this[this.ctrlKeysMapDown[t.keyCode]](t);
    }
    t.stopImmediatePropagation(), t.preventDefault(), t.keyCode >= 33 && t.keyCode <= 40 ? (this.inCompositionMode = !1, this.clearContextTop(), this.renderCursorOrSelection()) : this.canvas && this.canvas.requestRenderAll();
  }
  onKeyUp(t) {
    !this.isEditing || this._copyDone || this.inCompositionMode ? this._copyDone = !1 : t.keyCode in this.ctrlKeysMapUp && (t.ctrlKey || t.metaKey) && (this[this.ctrlKeysMapUp[t.keyCode]](t), t.stopImmediatePropagation(), t.preventDefault(), this.canvas && this.canvas.requestRenderAll());
  }
  onInput(t) {
    const e = this.fromPaste;
    if (this.fromPaste = !1, t && t.stopPropagation(), !this.isEditing) return;
    const A = () => {
      this.updateFromTextArea(), this.fire(tc), this.canvas && (this.canvas.fire("text:changed", { target: this }), this.canvas.requestRenderAll());
    };
    if (this.hiddenTextarea.value === "") return this.styles = {}, void A();
    const r = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText, n = this._text.length, i = r.length, o = this.selectionStart, a = this.selectionEnd, c = o !== a;
    let l, h, d, u, p = i - n;
    const g = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value), m = o > g.selectionStart;
    c ? (h = this._text.slice(o, a), p += a - o) : i < n && (h = m ? this._text.slice(a + p, a) : this._text.slice(o, o - p));
    const f = r.slice(g.selectionEnd - p, g.selectionEnd);
    if (h && h.length && (f.length && (l = this.getSelectionStyles(o, o + 1, !1), l = f.map(() => l[0])), c ? (d = o, u = a) : m ? (d = a - h.length, u = a) : (d = a, u = a + h.length), this.removeStyleFromTo(d, u)), f.length) {
      const { copyPasteData: w } = RA();
      e && f.join("") === w.copiedText && !kt.disableStyleCopyPaste && (l = w.copiedTextStyle), this.insertNewStyleBlock(f, o, l);
    }
    A();
  }
  onCompositionStart() {
    this.inCompositionMode = !0;
  }
  onCompositionEnd() {
    this.inCompositionMode = !1;
  }
  onCompositionUpdate(t) {
    let { target: e } = t;
    const { selectionStart: A, selectionEnd: r } = e;
    this.compositionStart = A, this.compositionEnd = r, this.updateTextareaPosition();
  }
  copy() {
    if (this.selectionStart === this.selectionEnd) return;
    const { copyPasteData: t } = RA();
    t.copiedText = this.getSelectedText(), kt.disableStyleCopyPaste ? t.copiedTextStyle = void 0 : t.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd, !0), this._copyDone = !0;
  }
  paste() {
    this.fromPaste = !0;
  }
  _getWidthBeforeCursor(t, e) {
    let A, r = this._getLineLeftOffset(t);
    return e > 0 && (A = this.__charBounds[t][e - 1], r += A.left + A.width), r;
  }
  getDownCursorOffset(t, e) {
    const A = this._getSelectionForOffset(t, e), r = this.get2DCursorLocation(A), n = r.lineIndex;
    if (n === this._textLines.length - 1 || t.metaKey || t.keyCode === 34) return this._text.length - A;
    const i = r.charIndex, o = this._getWidthBeforeCursor(n, i), a = this._getIndexOnLine(n + 1, o);
    return this._textLines[n].slice(i).length + a + 1 + this.missingNewlineOffset(n);
  }
  _getSelectionForOffset(t, e) {
    return t.shiftKey && this.selectionStart !== this.selectionEnd && e ? this.selectionEnd : this.selectionStart;
  }
  getUpCursorOffset(t, e) {
    const A = this._getSelectionForOffset(t, e), r = this.get2DCursorLocation(A), n = r.lineIndex;
    if (n === 0 || t.metaKey || t.keyCode === 33) return -A;
    const i = r.charIndex, o = this._getWidthBeforeCursor(n, i), a = this._getIndexOnLine(n - 1, o), c = this._textLines[n].slice(0, i), l = this.missingNewlineOffset(n - 1);
    return -this._textLines[n - 1].length + a - c.length + (1 - l);
  }
  _getIndexOnLine(t, e) {
    const A = this._textLines[t];
    let r, n, i = this._getLineLeftOffset(t), o = 0;
    for (let a = 0, c = A.length; a < c; a++) if (r = this.__charBounds[t][a].width, i += r, i > e) {
      n = !0;
      const l = i - r, h = i, d = Math.abs(l - e);
      o = Math.abs(h - e) < d ? a : a - 1;
      break;
    }
    return n || (o = A.length - 1), o;
  }
  moveCursorDown(t) {
    this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorUpOrDown("Down", t);
  }
  moveCursorUp(t) {
    this.selectionStart === 0 && this.selectionEnd === 0 || this._moveCursorUpOrDown("Up", t);
  }
  _moveCursorUpOrDown(t, e) {
    const A = this["get".concat(t, "CursorOffset")](e, this._selectionDirection === Zt);
    if (e.shiftKey ? this.moveCursorWithShift(A) : this.moveCursorWithoutShift(A), A !== 0) {
      const r = this.text.length;
      this.selectionStart = $r(0, this.selectionStart, r), this.selectionEnd = $r(0, this.selectionEnd, r), this.abortCursorAnimation(), this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea();
    }
  }
  moveCursorWithShift(t) {
    const e = this._selectionDirection === Ft ? this.selectionStart + t : this.selectionEnd + t;
    return this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, e), t !== 0;
  }
  moveCursorWithoutShift(t) {
    return t < 0 ? (this.selectionStart += t, this.selectionEnd = this.selectionStart) : (this.selectionEnd += t, this.selectionStart = this.selectionEnd), t !== 0;
  }
  moveCursorLeft(t) {
    this.selectionStart === 0 && this.selectionEnd === 0 || this._moveCursorLeftOrRight("Left", t);
  }
  _move(t, e, A) {
    let r;
    if (t.altKey) r = this["findWordBoundary".concat(A)](this[e]);
    else {
      if (!t.metaKey && t.keyCode !== 35 && t.keyCode !== 36) return this[e] += A === "Left" ? -1 : 1, !0;
      r = this["findLineBoundary".concat(A)](this[e]);
    }
    return r !== void 0 && this[e] !== r && (this[e] = r, !0);
  }
  _moveLeft(t, e) {
    return this._move(t, e, "Left");
  }
  _moveRight(t, e) {
    return this._move(t, e, "Right");
  }
  moveCursorLeftWithoutShift(t) {
    let e = !0;
    return this._selectionDirection = Ft, this.selectionEnd === this.selectionStart && this.selectionStart !== 0 && (e = this._moveLeft(t, "selectionStart")), this.selectionEnd = this.selectionStart, e;
  }
  moveCursorLeftWithShift(t) {
    return this._selectionDirection === Zt && this.selectionStart !== this.selectionEnd ? this._moveLeft(t, "selectionEnd") : this.selectionStart !== 0 ? (this._selectionDirection = Ft, this._moveLeft(t, "selectionStart")) : void 0;
  }
  moveCursorRight(t) {
    this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorLeftOrRight("Right", t);
  }
  _moveCursorLeftOrRight(t, e) {
    const A = "moveCursor".concat(t).concat(e.shiftKey ? "WithShift" : "WithoutShift");
    this._currentCursorOpacity = 1, this[A](e) && (this.abortCursorAnimation(), this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea());
  }
  moveCursorRightWithShift(t) {
    return this._selectionDirection === Ft && this.selectionStart !== this.selectionEnd ? this._moveRight(t, "selectionStart") : this.selectionEnd !== this._text.length ? (this._selectionDirection = Zt, this._moveRight(t, "selectionEnd")) : void 0;
  }
  moveCursorRightWithoutShift(t) {
    let e = !0;
    return this._selectionDirection = Zt, this.selectionStart === this.selectionEnd ? (e = this._moveRight(t, "selectionStart"), this.selectionEnd = this.selectionStart) : this.selectionStart = this.selectionEnd, e;
  }
}
const Dl = (s) => !!s.button;
class uS extends dS {
  constructor() {
    super(...arguments), k(this, "draggableTextDelegate", void 0);
  }
  initBehavior() {
    this.on("mousedown", this._mouseDownHandler), this.on("mousedown:before", this._mouseDownHandlerBefore), this.on("mouseup", this.mouseUpHandler), this.on("mousedblclick", this.doubleClickHandler), this.on("tripleclick", this.tripleClickHandler), this.__lastClickTime = +/* @__PURE__ */ new Date(), this.__lastLastClickTime = +/* @__PURE__ */ new Date(), this.__lastPointer = {}, this.on("mousedown", this.onMouseDown), this.draggableTextDelegate = new lS(this), super.initBehavior();
  }
  shouldStartDragging() {
    return this.draggableTextDelegate.isActive();
  }
  onDragStart(t) {
    return this.draggableTextDelegate.onDragStart(t);
  }
  canDrop(t) {
    return this.draggableTextDelegate.canDrop(t);
  }
  onMouseDown(t) {
    if (!this.canvas) return;
    this.__newClickTime = +/* @__PURE__ */ new Date();
    const e = t.pointer;
    this.isTripleClick(e) && (this.fire("tripleclick", t), Xh(t.e)), this.__lastLastClickTime = this.__lastClickTime, this.__lastClickTime = this.__newClickTime, this.__lastPointer = e, this.__lastSelected = this.selected && !this.getActiveControl();
  }
  isTripleClick(t) {
    return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this.__lastLastClickTime < 500 && this.__lastPointer.x === t.x && this.__lastPointer.y === t.y;
  }
  doubleClickHandler(t) {
    this.isEditing && this.selectWord(this.getSelectionStartFromPointer(t.e));
  }
  tripleClickHandler(t) {
    this.isEditing && this.selectLine(this.getSelectionStartFromPointer(t.e));
  }
  _mouseDownHandler(t) {
    let { e } = t;
    this.canvas && this.editable && !Dl(e) && !this.getActiveControl() && (this.draggableTextDelegate.start(e) || (this.canvas.textEditingManager.register(this), this.selected && (this.inCompositionMode = !1, this.setCursorByClick(e)), this.isEditing && (this.__selectionStartOnMouseDown = this.selectionStart, this.selectionStart === this.selectionEnd && this.abortCursorAnimation(), this.renderCursorOrSelection())));
  }
  _mouseDownHandlerBefore(t) {
    let { e } = t;
    this.canvas && this.editable && !Dl(e) && (this.selected = this === this.canvas._activeObject);
  }
  mouseUpHandler(t) {
    let { e, transform: A } = t;
    const r = this.draggableTextDelegate.end(e);
    if (this.canvas) {
      this.canvas.textEditingManager.unregister(this);
      const n = this.canvas._activeObject;
      if (n && n !== this) return;
    }
    !this.editable || this.group && !this.group.interactive || A && A.actionPerformed || Dl(e) || r || (this.__lastSelected && !this.getActiveControl() ? (this.selected = !1, this.__lastSelected = !1, this.enterEditing(e), this.selectionStart === this.selectionEnd ? this.initDelayedCursor(!0) : this.renderCursorOrSelection()) : this.selected = !0);
  }
  setCursorByClick(t) {
    const e = this.getSelectionStartFromPointer(t), A = this.selectionStart, r = this.selectionEnd;
    t.shiftKey ? this.setSelectionStartEndWithShift(A, r, e) : (this.selectionStart = e, this.selectionEnd = e), this.isEditing && (this._fireSelectionChanged(), this._updateTextarea());
  }
  getSelectionStartFromPointer(t) {
    const e = this.canvas.getScenePoint(t).transform(mA(this.calcTransformMatrix())).add(new U(-this._getLeftOffset(), -this._getTopOffset()));
    let A = 0, r = 0, n = 0;
    for (let c = 0; c < this._textLines.length && A <= e.y; c++) A += this.getHeightOfLine(c), n = c, c > 0 && (r += this._textLines[c - 1].length + this.missingNewlineOffset(c - 1));
    let i = Math.abs(this._getLineLeftOffset(n));
    const o = this._textLines[n].length, a = this.__charBounds[n];
    for (let c = 0; c < o; c++) {
      const l = i + a[c].kernedWidth;
      if (e.x <= l) {
        Math.abs(e.x - l) <= Math.abs(e.x - i) && r++;
        break;
      }
      i = l, r++;
    }
    return Math.min(this.flipX ? o - r : r, this._text.length);
  }
}
const go = "moveCursorUp", fo = "moveCursorDown", mo = "moveCursorLeft", wo = "moveCursorRight", Bo = "exitEditing", pS = x({ selectionStart: 0, selectionEnd: 0, selectionColor: "rgba(17,119,255,0.3)", isEditing: !1, editable: !0, editingBorderColor: "rgba(102,153,255,0.25)", cursorWidth: 2, cursorColor: "", cursorDelay: 1e3, cursorDuration: 600, caching: !0, hiddenTextareaContainer: null, keysMap: { 9: Bo, 27: Bo, 33: go, 34: fo, 35: wo, 36: mo, 37: mo, 38: go, 39: wo, 40: fo }, keysMapRtl: { 9: Bo, 27: Bo, 33: go, 34: fo, 35: mo, 36: wo, 37: wo, 38: go, 39: mo, 40: fo }, ctrlKeysMapDown: { 65: "selectAll" }, ctrlKeysMapUp: { 67: "copy", 88: "cut" } }, { _selectionDirection: null, _reSpace: /\s|\r?\n/, inCompositionMode: !1 });
class zA extends uS {
  static getDefaults() {
    return x(x({}, super.getDefaults()), zA.ownDefaults);
  }
  get type() {
    const t = super.type;
    return t === "itext" ? "i-text" : t;
  }
  constructor(t, e) {
    super(t, x(x({}, zA.ownDefaults), e)), this.initBehavior();
  }
  _set(t, e) {
    return this.isEditing && this._savedProps && t in this._savedProps ? (this._savedProps[t] = e, this) : (t === "canvas" && (this.canvas instanceof Ad && this.canvas.textEditingManager.remove(this), e instanceof Ad && e.textEditingManager.add(this)), super._set(t, e));
  }
  setSelectionStart(t) {
    t = Math.max(t, 0), this._updateAndFire("selectionStart", t);
  }
  setSelectionEnd(t) {
    t = Math.min(t, this.text.length), this._updateAndFire("selectionEnd", t);
  }
  _updateAndFire(t, e) {
    this[t] !== e && (this._fireSelectionChanged(), this[t] = e), this._updateTextarea();
  }
  _fireSelectionChanged() {
    this.fire("selection:changed"), this.canvas && this.canvas.fire("text:selection:changed", { target: this });
  }
  initDimensions() {
    this.isEditing && this.initDelayedCursor(), super.initDimensions();
  }
  getSelectionStyles() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.selectionStart || 0, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.selectionEnd, A = arguments.length > 2 ? arguments[2] : void 0;
    return super.getSelectionStyles(t, e, A);
  }
  setSelectionStyles(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.selectionStart || 0, A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.selectionEnd;
    return super.setSelectionStyles(t, e, A);
  }
  get2DCursorLocation() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.selectionStart, e = arguments.length > 1 ? arguments[1] : void 0;
    return super.get2DCursorLocation(t, e);
  }
  render(t) {
    super.render(t), this.cursorOffsetCache = {}, this.renderCursorOrSelection();
  }
  toCanvasElement(t) {
    const e = this.isEditing;
    this.isEditing = !1;
    const A = super.toCanvasElement(t);
    return this.isEditing = e, A;
  }
  renderCursorOrSelection() {
    if (!this.isEditing) return;
    const t = this.clearContextTop(!0);
    if (!t) return;
    const e = this._getCursorBoundaries();
    this.selectionStart !== this.selectionEnd || this.inCompositionMode ? this.renderSelection(t, e) : this.renderCursor(t, e), this.canvas.contextTopDirty = !0, t.restore();
  }
  _getCursorBoundaries() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.selectionStart, e = arguments.length > 1 ? arguments[1] : void 0;
    const A = this._getLeftOffset(), r = this._getTopOffset(), n = this._getCursorBoundariesOffsets(t, e);
    return { left: A, top: r, leftOffset: n.left, topOffset: n.top };
  }
  _getCursorBoundariesOffsets(t, e) {
    return e ? this.__getCursorBoundariesOffsets(t) : this.cursorOffsetCache && "top" in this.cursorOffsetCache ? this.cursorOffsetCache : this.cursorOffsetCache = this.__getCursorBoundariesOffsets(t);
  }
  __getCursorBoundariesOffsets(t) {
    let e = 0, A = 0;
    const { charIndex: r, lineIndex: n } = this.get2DCursorLocation(t);
    for (let c = 0; c < n; c++) e += this.getHeightOfLine(c);
    const i = this._getLineLeftOffset(n), o = this.__charBounds[n][r];
    o && (A = o.left), this.charSpacing !== 0 && r === this._textLines[n].length && (A -= this._getWidthOfCharSpacing());
    const a = { top: e, left: i + (A > 0 ? A : 0) };
    return this.direction === "rtl" && (this.textAlign === Zt || this.textAlign === QA || this.textAlign === oi ? a.left *= -1 : this.textAlign === Ft || this.textAlign === uc ? a.left = i - (A > 0 ? A : 0) : this.textAlign !== dt && this.textAlign !== ai || (a.left = i - (A > 0 ? A : 0))), a;
  }
  renderCursorAt(t) {
    this._renderCursor(this.canvas.contextTop, this._getCursorBoundaries(t, !0), t);
  }
  renderCursor(t, e) {
    this._renderCursor(t, e, this.selectionStart);
  }
  getCursorRenderingData() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.selectionStart, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this._getCursorBoundaries(t);
    const A = this.get2DCursorLocation(t), r = A.lineIndex, n = A.charIndex > 0 ? A.charIndex - 1 : 0, i = this.getValueOfPropertyAt(r, n, "fontSize"), o = this.getObjectScaling().x * this.canvas.getZoom(), a = this.cursorWidth / o, c = this.getValueOfPropertyAt(r, n, "deltaY"), l = e.topOffset + (1 - this._fontSizeFraction) * this.getHeightOfLine(r) / this.lineHeight - i * (1 - this._fontSizeFraction);
    return { color: this.cursorColor || this.getValueOfPropertyAt(r, n, "fill"), opacity: this._currentCursorOpacity, left: e.left + e.leftOffset - a / 2, top: l + e.top + c, width: a, height: i };
  }
  _renderCursor(t, e, A) {
    const { color: r, opacity: n, left: i, top: o, width: a, height: c } = this.getCursorRenderingData(A, e);
    t.fillStyle = r, t.globalAlpha = n, t.fillRect(i, o, a, c);
  }
  renderSelection(t, e) {
    const A = { selectionStart: this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart, selectionEnd: this.inCompositionMode ? this.hiddenTextarea.selectionEnd : this.selectionEnd };
    this._renderSelection(t, A, e);
  }
  renderDragSourceEffect() {
    const t = this.draggableTextDelegate.getDragStartSelection();
    this._renderSelection(this.canvas.contextTop, t, this._getCursorBoundaries(t.selectionStart, !0));
  }
  renderDropTargetEffect(t) {
    const e = this.getSelectionStartFromPointer(t);
    this.renderCursorAt(e);
  }
  _renderSelection(t, e, A) {
    const r = e.selectionStart, n = e.selectionEnd, i = this.textAlign.includes(QA), o = this.get2DCursorLocation(r), a = this.get2DCursorLocation(n), c = o.lineIndex, l = a.lineIndex, h = o.charIndex < 0 ? 0 : o.charIndex, d = a.charIndex < 0 ? 0 : a.charIndex;
    for (let u = c; u <= l; u++) {
      const p = this._getLineLeftOffset(u) || 0;
      let g = this.getHeightOfLine(u), m = 0, f = 0, w = 0;
      if (u === c && (f = this.__charBounds[c][h].left), u >= c && u < l) w = i && !this.isEndOfWrapping(u) ? this.width : this.getLineWidth(u) || 5;
      else if (u === l) if (d === 0) w = this.__charBounds[l][d].left;
      else {
        const Q = this._getWidthOfCharSpacing();
        w = this.__charBounds[l][d - 1].left + this.__charBounds[l][d - 1].width - Q;
      }
      m = g, (this.lineHeight < 1 || u === l && this.lineHeight > 1) && (g /= this.lineHeight);
      let B = A.left + p + f, C = g, v = 0;
      const F = w - f;
      this.inCompositionMode ? (t.fillStyle = this.compositionColor || "black", C = 1, v = g) : t.fillStyle = this.selectionColor, this.direction === "rtl" && (this.textAlign === Zt || this.textAlign === QA || this.textAlign === oi ? B = this.width - B - F : this.textAlign === Ft || this.textAlign === uc ? B = A.left + p - w : this.textAlign !== dt && this.textAlign !== ai || (B = A.left + p - w)), t.fillRect(B, A.top + A.topOffset + v, F, C), A.topOffset += m;
    }
  }
  getCurrentCharFontSize() {
    const t = this._getCurrentCharIndex();
    return this.getValueOfPropertyAt(t.l, t.c, "fontSize");
  }
  getCurrentCharColor() {
    const t = this._getCurrentCharIndex();
    return this.getValueOfPropertyAt(t.l, t.c, ae);
  }
  _getCurrentCharIndex() {
    const t = this.get2DCursorLocation(this.selectionStart, !0), e = t.charIndex > 0 ? t.charIndex - 1 : 0;
    return { l: t.lineIndex, c: e };
  }
  dispose() {
    this.exitEditingImpl(), this.draggableTextDelegate.dispose(), super.dispose();
  }
}
k(zA, "ownDefaults", pS), k(zA, "type", "IText"), J.setClass(zA), J.setClass(zA, "i-text");
class Zs extends zA {
  static getDefaults() {
    return x(x({}, super.getDefaults()), Zs.ownDefaults);
  }
  constructor(t, e) {
    super(t, x(x({}, Zs.ownDefaults), e));
  }
  static createControls() {
    return { controls: sx() };
  }
  initDimensions() {
    this.initialized && (this.isEditing && this.initDelayedCursor(), this._clearCache(), this.dynamicMinWidth = 0, this._styleMap = this._generateStyleMap(this._splitText()), this.dynamicMinWidth > this.width && this._set("width", this.dynamicMinWidth), this.textAlign.includes(QA) && this.enlargeSpaces(), this.height = this.calcTextHeight());
  }
  _generateStyleMap(t) {
    let e = 0, A = 0, r = 0;
    const n = {};
    for (let i = 0; i < t.graphemeLines.length; i++) t.graphemeText[r] === `
` && i > 0 ? (A = 0, r++, e++) : !this.splitByGrapheme && this._reSpaceAndTab.test(t.graphemeText[r]) && i > 0 && (A++, r++), n[i] = { line: e, offset: A }, r += t.graphemeLines[i].length, A += t.graphemeLines[i].length;
    return n;
  }
  styleHas(t, e) {
    if (this._styleMap && !this.isWrapping) {
      const A = this._styleMap[e];
      A && (e = A.line);
    }
    return super.styleHas(t, e);
  }
  isEmptyStyles(t) {
    if (!this.styles) return !0;
    let e, A = 0, r = t + 1, n = !1;
    const i = this._styleMap[t], o = this._styleMap[t + 1];
    i && (t = i.line, A = i.offset), o && (r = o.line, n = r === t, e = o.offset);
    const a = t === void 0 ? this.styles : { line: this.styles[t] };
    for (const c in a) for (const l in a[c]) {
      const h = parseInt(l, 10);
      if (h >= A && (!n || h < e)) for (const d in a[c][l]) return !1;
    }
    return !0;
  }
  _getStyleDeclaration(t, e) {
    if (this._styleMap && !this.isWrapping) {
      const A = this._styleMap[t];
      if (!A) return {};
      t = A.line, e = A.offset + e;
    }
    return super._getStyleDeclaration(t, e);
  }
  _setStyleDeclaration(t, e, A) {
    const r = this._styleMap[t];
    super._setStyleDeclaration(r.line, r.offset + e, A);
  }
  _deleteStyleDeclaration(t, e) {
    const A = this._styleMap[t];
    super._deleteStyleDeclaration(A.line, A.offset + e);
  }
  _getLineStyle(t) {
    const e = this._styleMap[t];
    return !!this.styles[e.line];
  }
  _setLineStyle(t) {
    const e = this._styleMap[t];
    super._setLineStyle(e.line);
  }
  _wrapText(t, e) {
    this.isWrapping = !0;
    const A = this.getGraphemeDataForRender(t), r = [];
    for (let n = 0; n < A.wordsData.length; n++) r.push(...this._wrapLine(n, e, A));
    return this.isWrapping = !1, r;
  }
  getGraphemeDataForRender(t) {
    const e = this.splitByGrapheme, A = e ? "" : " ";
    let r = 0;
    return { wordsData: t.map((n, i) => {
      let o = 0;
      const a = e ? this.graphemeSplit(n) : this.wordSplit(n);
      return a.length === 0 ? [{ word: [], width: 0 }] : a.map((c) => {
        const l = e ? [c] : this.graphemeSplit(c), h = this._measureWord(l, i, o);
        return r = Math.max(h, r), o += l.length + A.length, { word: l, width: h };
      });
    }), largestWordWidth: r };
  }
  _measureWord(t, e) {
    let A, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, n = 0;
    for (let i = 0, o = t.length; i < o; i++) n += this._getGraphemeBox(t[i], e, i + r, A, !0).kernedWidth, A = t[i];
    return n;
  }
  wordSplit(t) {
    return t.split(this._wordJoiners);
  }
  _wrapLine(t, e, A) {
    let { largestWordWidth: r, wordsData: n } = A, i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
    const o = this._getWidthOfCharSpacing(), a = this.splitByGrapheme, c = [], l = a ? "" : " ";
    let h = 0, d = [], u = 0, p = 0, g = !0;
    e -= i;
    const m = Math.max(e, r, this.dynamicMinWidth), f = n[t];
    let w;
    for (u = 0, w = 0; w < f.length; w++) {
      const { word: B, width: C } = f[w];
      u += B.length, h += p + C - o, h > m && !g ? (c.push(d), d = [], h = C, g = !0) : h += o, g || a || d.push(l), d = d.concat(B), p = a ? 0 : this._measureWord([l], t, u), u++, g = !1;
    }
    return w && c.push(d), r + i > this.dynamicMinWidth && (this.dynamicMinWidth = r - o + i), c;
  }
  isEndOfWrapping(t) {
    return !this._styleMap[t + 1] || this._styleMap[t + 1].line !== this._styleMap[t].line;
  }
  missingNewlineOffset(t, e) {
    return this.splitByGrapheme && !e ? this.isEndOfWrapping(t) ? 1 : 0 : 1;
  }
  _splitTextIntoLines(t) {
    const e = super._splitTextIntoLines(t), A = this._wrapText(e.lines, this.width), r = new Array(A.length);
    for (let n = 0; n < A.length; n++) r[n] = A[n].join("");
    return e.lines = r, e.graphemeLines = A, e;
  }
  getMinWidth() {
    return Math.max(this.minWidth, this.dynamicMinWidth);
  }
  _removeExtraneousStyles() {
    const t = /* @__PURE__ */ new Map();
    for (const e in this._styleMap) {
      const A = parseInt(e, 10);
      if (this._textLines[A]) {
        const r = this._styleMap[e].line;
        t.set("".concat(r), !0);
      }
    }
    for (const e in this.styles) t.has(e) || delete this.styles[e];
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    return super.toObject(["minWidth", "splitByGrapheme", ...t]);
  }
}
k(Zs, "type", "Textbox"), k(Zs, "textLayoutProperties", [...zA.textLayoutProperties, "width"]), k(Zs, "ownDefaults", { minWidth: 20, dynamicMinWidth: 2, lockScalingFlip: !0, noScaleCache: !1, _wordJoiners: /[ \t\r]/, splitByGrapheme: !1 }), J.setClass(Zs);
class f0 extends Yc {
  shouldPerformLayout(t) {
    return !!t.target.clipPath && super.shouldPerformLayout(t);
  }
  shouldLayoutClipPath() {
    return !1;
  }
  calcLayoutResult(t, e) {
    const { target: A } = t, { clipPath: r, group: n } = A;
    if (!r || !this.shouldPerformLayout(t)) return;
    const { width: i, height: o } = As(I2(A, r)), a = new U(i, o);
    if (r.absolutePositioned) return { center: Gr(r.getRelativeCenterPoint(), void 0, n ? n.calcTransformMatrix() : void 0), size: a };
    {
      const c = r.getRelativeCenterPoint().transform(A.calcOwnMatrix(), !0);
      if (this.shouldPerformLayout(t)) {
        const { center: l = new U(), correction: h = new U() } = this.calcBoundingBox(e, t) || {};
        return { center: l.add(c), correction: h.subtract(c), size: a };
      }
      return { center: A.getRelativeCenterPoint().add(c), size: a };
    }
  }
}
k(f0, "type", "clip-path"), J.setClass(f0);
class m0 extends Yc {
  getInitialSize(t, e) {
    let { target: A } = t, { size: r } = e;
    return new U(A.width || r.x, A.height || r.y);
  }
}
k(m0, "type", "fixed"), J.setClass(m0);
class gS extends yi {
  subscribeTargets(t) {
    const e = t.target;
    t.targets.reduce((A, r) => (r.parent && A.add(r.parent), A), /* @__PURE__ */ new Set()).forEach((A) => {
      A.layoutManager.subscribeTargets({ target: A, targets: [e] });
    });
  }
  unsubscribeTargets(t) {
    const e = t.target, A = e.getObjects();
    t.targets.reduce((r, n) => (n.parent && r.add(n.parent), r), /* @__PURE__ */ new Set()).forEach((r) => {
      !A.some((n) => n.parent === r) && r.layoutManager.unsubscribeTargets({ target: r, targets: [e] });
    });
  }
}
class ZA extends er {
  static getDefaults() {
    return x(x({}, super.getDefaults()), ZA.ownDefaults);
  }
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super(), Object.assign(this, ZA.ownDefaults), this.setOptions(e);
    const { left: A, top: r, layoutManager: n } = e;
    this.groupInit(t, { left: A, top: r, layoutManager: n ?? new gS() });
  }
  _shouldSetNestedCoords() {
    return !0;
  }
  __objectSelectionMonitor() {
  }
  multiSelectAdd() {
    for (var t = arguments.length, e = new Array(t), A = 0; A < t; A++) e[A] = arguments[A];
    this.multiSelectionStacking === "selection-order" ? this.add(...e) : e.forEach((r) => {
      const n = this._objects.findIndex((o) => o.isInFrontOf(r)), i = n === -1 ? this.size() : n;
      this.insertAt(i, r);
    });
  }
  canEnterGroup(t) {
    return this.getObjects().some((e) => e.isDescendantOf(t) || t.isDescendantOf(e)) ? (_s("error", "ActiveSelection: circular object trees are not supported, this call has no effect"), !1) : super.canEnterGroup(t);
  }
  enterGroup(t, e) {
    t.parent && t.parent === t.group ? t.parent._exitGroup(t) : t.group && t.parent !== t.group && t.group.remove(t), this._enterGroup(t, e);
  }
  exitGroup(t, e) {
    this._exitGroup(t, e), t.parent && t.parent._enterGroup(t, !0);
  }
  _onAfterObjectsChange(t, e) {
    super._onAfterObjectsChange(t, e);
    const A = /* @__PURE__ */ new Set();
    e.forEach((r) => {
      const { parent: n } = r;
      n && A.add(n);
    }), t === Wu ? A.forEach((r) => {
      r._onAfterObjectsChange(cc, e);
    }) : A.forEach((r) => {
      r._set("dirty", !0);
    });
  }
  onDeselect() {
    return this.removeAll(), !1;
  }
  toString() {
    return "#<ActiveSelection: (".concat(this.complexity(), ")>");
  }
  shouldCache() {
    return !1;
  }
  isOnACache() {
    return !1;
  }
  _renderControls(t, e, A) {
    t.save(), t.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;
    const r = x(x({ hasControls: !1 }, A), {}, { forActiveSelection: !0 });
    for (let n = 0; n < this._objects.length; n++) this._objects[n]._renderControls(t, r);
    super._renderControls(t, e), t.restore();
  }
}
k(ZA, "type", "ActiveSelection"), k(ZA, "ownDefaults", { multiSelectionStacking: "canvas-stacking" }), J.setClass(ZA), J.setClass(ZA, "activeSelection");
class fS {
  constructor() {
    k(this, "resources", {});
  }
  applyFilters(t, e, A, r, n) {
    const i = n.getContext("2d");
    if (!i) return;
    i.drawImage(e, 0, 0, A, r);
    const o = { sourceWidth: A, sourceHeight: r, imageData: i.getImageData(0, 0, A, r), originalEl: e, originalImageData: i.getImageData(0, 0, A, r), canvasEl: n, ctx: i, filterBackend: this };
    t.forEach((c) => {
      c.applyTo(o);
    });
    const { imageData: a } = o;
    return a.width === A && a.height === r || (n.width = a.width, n.height = a.height), i.putImageData(a, 0, 0), o;
  }
}
class q2 {
  constructor() {
    let { tileSize: t = kt.textureSize } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    k(this, "aPosition", new Float32Array([0, 0, 0, 1, 1, 0, 1, 1])), k(this, "resources", {}), this.tileSize = t, this.setupGLContext(t, t), this.captureGPUInfo();
  }
  setupGLContext(t, e) {
    this.dispose(), this.createWebGLCanvas(t, e);
  }
  createWebGLCanvas(t, e) {
    const A = HA({ width: t, height: e }), r = A.getContext("webgl", { alpha: !0, premultipliedAlpha: !1, depth: !1, stencil: !1, antialias: !1 });
    r && (r.clearColor(0, 0, 0, 0), this.canvas = A, this.gl = r);
  }
  applyFilters(t, e, A, r, n, i) {
    const o = this.gl, a = n.getContext("2d");
    if (!o || !a) return;
    let c;
    i && (c = this.getCachedTexture(i, e));
    const l = { originalWidth: e.width || e.naturalWidth || 0, originalHeight: e.height || e.naturalHeight || 0, sourceWidth: A, sourceHeight: r, destinationWidth: A, destinationHeight: r, context: o, sourceTexture: this.createTexture(o, A, r, c ? void 0 : e), targetTexture: this.createTexture(o, A, r), originalTexture: c || this.createTexture(o, A, r, c ? void 0 : e), passes: t.length, webgl: !0, aPosition: this.aPosition, programCache: this.programCache, pass: 0, filterBackend: this, targetCanvas: n }, h = o.createFramebuffer();
    return o.bindFramebuffer(o.FRAMEBUFFER, h), t.forEach((d) => {
      d && d.applyTo(l);
    }), function(d) {
      const u = d.targetCanvas, p = u.width, g = u.height, m = d.destinationWidth, f = d.destinationHeight;
      p === m && g === f || (u.width = m, u.height = f);
    }(l), this.copyGLTo2D(o, l), o.bindTexture(o.TEXTURE_2D, null), o.deleteTexture(l.sourceTexture), o.deleteTexture(l.targetTexture), o.deleteFramebuffer(h), a.setTransform(1, 0, 0, 1, 0, 0), l;
  }
  dispose() {
    this.canvas && (this.canvas = null, this.gl = null), this.clearWebGLCaches();
  }
  clearWebGLCaches() {
    this.programCache = {}, this.textureCache = {};
  }
  createTexture(t, e, A, r, n) {
    const { NEAREST: i, TEXTURE_2D: o, RGBA: a, UNSIGNED_BYTE: c, CLAMP_TO_EDGE: l, TEXTURE_MAG_FILTER: h, TEXTURE_MIN_FILTER: d, TEXTURE_WRAP_S: u, TEXTURE_WRAP_T: p } = t, g = t.createTexture();
    return t.bindTexture(o, g), t.texParameteri(o, h, n || i), t.texParameteri(o, d, n || i), t.texParameteri(o, u, l), t.texParameteri(o, p, l), r ? t.texImage2D(o, 0, a, a, c, r) : t.texImage2D(o, 0, a, e, A, 0, a, c, null), g;
  }
  getCachedTexture(t, e, A) {
    const { textureCache: r } = this;
    if (r[t]) return r[t];
    {
      const n = this.createTexture(this.gl, e.width, e.height, e, A);
      return n && (r[t] = n), n;
    }
  }
  evictCachesForKey(t) {
    this.textureCache[t] && (this.gl.deleteTexture(this.textureCache[t]), delete this.textureCache[t]);
  }
  copyGLTo2D(t, e) {
    const A = t.canvas, r = e.targetCanvas, n = r.getContext("2d");
    if (!n) return;
    n.translate(0, r.height), n.scale(1, -1);
    const i = A.height - r.height;
    n.drawImage(A, 0, i, r.width, r.height, 0, 0, r.width, r.height);
  }
  copyGLTo2DPutImageData(t, e) {
    const A = e.targetCanvas.getContext("2d"), r = e.destinationWidth, n = e.destinationHeight, i = r * n * 4;
    if (!A) return;
    const o = new Uint8Array(this.imageBuffer, 0, i), a = new Uint8ClampedArray(this.imageBuffer, 0, i);
    t.readPixels(0, 0, r, n, t.RGBA, t.UNSIGNED_BYTE, o);
    const c = new ImageData(a, r, n);
    A.putImageData(c, 0, 0);
  }
  captureGPUInfo() {
    if (this.gpuInfo) return this.gpuInfo;
    const t = this.gl, e = { renderer: "", vendor: "" };
    if (!t) return e;
    const A = t.getExtension("WEBGL_debug_renderer_info");
    if (A) {
      const r = t.getParameter(A.UNMASKED_RENDERER_WEBGL), n = t.getParameter(A.UNMASKED_VENDOR_WEBGL);
      r && (e.renderer = r.toLowerCase()), n && (e.vendor = n.toLowerCase());
    }
    return this.gpuInfo = e, e;
  }
}
let Rl;
function Hl() {
  return !Rl && (!(arguments.length > 0 && arguments[0] !== void 0) || arguments[0]) && (Rl = function() {
    const { WebGLProbe: s } = RA();
    return s.queryWebGL(BA()), kt.enableGLFiltering && s.isSupported(kt.textureSize) ? new q2({ tileSize: kt.textureSize }) : new fS();
  }()), Rl;
}
const mS = ["filters", "resizeFilter", "src", "crossOrigin", "type"], $2 = ["cropX", "cropY"];
class he extends ye {
  static getDefaults() {
    return x(x({}, super.getDefaults()), he.ownDefaults);
  }
  constructor(t, e) {
    super(), k(this, "_lastScaleX", 1), k(this, "_lastScaleY", 1), k(this, "_filterScalingX", 1), k(this, "_filterScalingY", 1), this.filters = [], Object.assign(this, he.ownDefaults), this.setOptions(e), this.cacheKey = "texture".concat(Os()), this.setElement(typeof t == "string" ? (this.canvas && pA(this.canvas.getElement()) || sn()).getElementById(t) : t, e);
  }
  getElement() {
    return this._element;
  }
  setElement(t) {
    var e;
    let A = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.removeTexture(this.cacheKey), this.removeTexture("".concat(this.cacheKey, "_filtered")), this._element = t, this._originalElement = t, this._setWidthHeight(A), (e = t.classList) === null || e === void 0 || e.add(he.CSS_CANVAS), this.filters.length !== 0 && this.applyFilters(), this.resizeFilter && this.applyResizeFilters();
  }
  removeTexture(t) {
    const e = Hl(!1);
    e instanceof q2 && e.evictCachesForKey(t);
  }
  dispose() {
    super.dispose(), this.removeTexture(this.cacheKey), this.removeTexture("".concat(this.cacheKey, "_filtered")), this._cacheContext = null, ["_originalElement", "_element", "_filteredEl", "_cacheCanvas"].forEach((t) => {
      const e = this[t];
      e && RA().dispose(e), this[t] = void 0;
    });
  }
  getCrossOrigin() {
    return this._originalElement && (this._originalElement.crossOrigin || null);
  }
  getOriginalSize() {
    const t = this.getElement();
    return t ? { width: t.naturalWidth || t.width, height: t.naturalHeight || t.height } : { width: 0, height: 0 };
  }
  _stroke(t) {
    if (!this.stroke || this.strokeWidth === 0) return;
    const e = this.width / 2, A = this.height / 2;
    t.beginPath(), t.moveTo(-e, -A), t.lineTo(e, -A), t.lineTo(e, A), t.lineTo(-e, A), t.lineTo(-e, -A), t.closePath();
  }
  toObject() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    const e = [];
    return this.filters.forEach((A) => {
      A && e.push(A.toObject());
    }), x(x({}, super.toObject([...$2, ...t])), {}, { src: this.getSrc(), crossOrigin: this.getCrossOrigin(), filters: e }, this.resizeFilter ? { resizeFilter: this.resizeFilter.toObject() } : {});
  }
  hasCrop() {
    return !!this.cropX || !!this.cropY || this.width < this._element.width || this.height < this._element.height;
  }
  _toSVG() {
    const t = [], e = this._element, A = -this.width / 2, r = -this.height / 2;
    let n = [], i = [], o = "", a = "";
    if (!e) return [];
    if (this.hasCrop()) {
      const c = Os();
      n.push('<clipPath id="imageCrop_' + c + `">
`, '	<rect x="' + A + '" y="' + r + '" width="' + this.width + '" height="' + this.height + `" />
`, `</clipPath>
`), o = ' clip-path="url(#imageCrop_' + c + ')" ';
    }
    if (this.imageSmoothing || (a = ' image-rendering="optimizeSpeed"'), t.push("	<image ", "COMMON_PARTS", 'xlink:href="'.concat(this.getSvgSrc(!0), '" x="').concat(A - this.cropX, '" y="').concat(r - this.cropY, '" width="').concat(e.width || e.naturalWidth, '" height="').concat(e.height || e.naturalHeight, '"').concat(a).concat(o, `></image>
`)), this.stroke || this.strokeDashArray) {
      const c = this.fill;
      this.fill = null, i = ['	<rect x="'.concat(A, '" y="').concat(r, '" width="').concat(this.width, '" height="').concat(this.height, '" style="').concat(this.getSvgStyles(), `" />
`)], this.fill = c;
    }
    return n = this.paintFirst !== ae ? n.concat(i, t) : n.concat(t, i), n;
  }
  getSrc(t) {
    const e = t ? this._element : this._originalElement;
    return e ? e.toDataURL ? e.toDataURL() : this.srcFromAttribute ? e.getAttribute("src") || "" : e.src : this.src || "";
  }
  getSvgSrc(t) {
    return this.getSrc(t);
  }
  setSrc(t) {
    let { crossOrigin: e, signal: A } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return ca(t, { crossOrigin: e, signal: A }).then((r) => {
      e !== void 0 && this.set({ crossOrigin: e }), this.setElement(r);
    });
  }
  toString() {
    return '#<Image: { src: "'.concat(this.getSrc(), '" }>');
  }
  applyResizeFilters() {
    const t = this.resizeFilter, e = this.minimumScaleTrigger, A = this.getTotalObjectScaling(), r = A.x, n = A.y, i = this._filteredEl || this._originalElement;
    if (this.group && this.set("dirty", !0), !t || r > e && n > e) return this._element = i, this._filterScalingX = 1, this._filterScalingY = 1, this._lastScaleX = r, void (this._lastScaleY = n);
    const o = HA(i), { width: a, height: c } = i;
    this._element = o, this._lastScaleX = t.scaleX = r, this._lastScaleY = t.scaleY = n, Hl().applyFilters([t], i, a, c, this._element), this._filterScalingX = o.width / this._originalElement.width, this._filterScalingY = o.height / this._originalElement.height;
  }
  applyFilters() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.filters || [];
    if (t = t.filter((n) => n && !n.isNeutralState()), this.set("dirty", !0), this.removeTexture("".concat(this.cacheKey, "_filtered")), t.length === 0) return this._element = this._originalElement, this._filteredEl = void 0, this._filterScalingX = 1, void (this._filterScalingY = 1);
    const e = this._originalElement, A = e.naturalWidth || e.width, r = e.naturalHeight || e.height;
    if (this._element === this._originalElement) {
      const n = HA({ width: A, height: r });
      this._element = n, this._filteredEl = n;
    } else this._filteredEl && (this._element = this._filteredEl, this._filteredEl.getContext("2d").clearRect(0, 0, A, r), this._lastScaleX = 1, this._lastScaleY = 1);
    Hl().applyFilters(t, this._originalElement, A, r, this._element, this.cacheKey), this._originalElement.width === this._element.width && this._originalElement.height === this._element.height || (this._filterScalingX = this._element.width / this._originalElement.width, this._filterScalingY = this._element.height / this._originalElement.height);
  }
  _render(t) {
    t.imageSmoothingEnabled = this.imageSmoothing, this.isMoving !== !0 && this.resizeFilter && this._needsResize() && this.applyResizeFilters(), this._stroke(t), this._renderPaintInOrder(t);
  }
  drawCacheOnCanvas(t) {
    t.imageSmoothingEnabled = this.imageSmoothing, super.drawCacheOnCanvas(t);
  }
  shouldCache() {
    return this.needsItsOwnCache();
  }
  _renderFill(t) {
    const e = this._element;
    if (!e) return;
    const A = this._filterScalingX, r = this._filterScalingY, n = this.width, i = this.height, o = Math.max(this.cropX, 0), a = Math.max(this.cropY, 0), c = e.naturalWidth || e.width, l = e.naturalHeight || e.height, h = o * A, d = a * r, u = Math.min(n * A, c - h), p = Math.min(i * r, l - d), g = -n / 2, m = -i / 2, f = Math.min(n, c / A - o), w = Math.min(i, l / r - a);
    e && t.drawImage(e, h, d, u, p, g, m, f, w);
  }
  _needsResize() {
    const t = this.getTotalObjectScaling();
    return t.x !== this._lastScaleX || t.y !== this._lastScaleY;
  }
  _resetWidthHeight() {
    this.set(this.getOriginalSize());
  }
  _setWidthHeight() {
    let { width: t, height: e } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const A = this.getOriginalSize();
    this.width = t || A.width, this.height = e || A.height;
  }
  parsePreserveAspectRatioAttribute() {
    const t = ((p) => {
      const [g, m] = p.trim().split(" "), [f, w] = (B = g) && B !== Le ? [B.slice(1, 4), B.slice(5, 8)] : B === Le ? [B, B] : ["Mid", "Mid"];
      var B;
      return { meetOrSlice: m || "meet", alignX: f, alignY: w };
    })(this.preserveAspectRatio || ""), e = this.width, A = this.height, r = { width: e, height: A };
    let n, i = this._element.width, o = this._element.height, a = 1, c = 1, l = 0, h = 0, d = 0, u = 0;
    return !t || t.alignX === Le && t.alignY === Le ? (a = e / i, c = A / o) : (t.meetOrSlice === "meet" && (a = c = ((p, g) => Math.min(g.width / p.width, g.height / p.height))(this._element, r), n = (e - i * a) / 2, t.alignX === "Min" && (l = -n), t.alignX === "Max" && (l = n), n = (A - o * c) / 2, t.alignY === "Min" && (h = -n), t.alignY === "Max" && (h = n)), t.meetOrSlice === "slice" && (a = c = ((p, g) => Math.max(g.width / p.width, g.height / p.height))(this._element, r), n = i - e / a, t.alignX === "Mid" && (d = n / 2), t.alignX === "Max" && (d = n), n = o - A / c, t.alignY === "Mid" && (u = n / 2), t.alignY === "Max" && (u = n), i = e / a, o = A / c)), { width: i, height: o, scaleX: a, scaleY: c, offsetLeft: l, offsetTop: h, cropX: d, cropY: u };
  }
  static fromObject(t, e) {
    let { filters: A, resizeFilter: r, src: n, crossOrigin: i, type: o } = t, a = Vt(t, mS);
    return Promise.all([ca(n, x(x({}, e), {}, { crossOrigin: i })), A && mi(A, e), r && mi([r], e), Gc(a, e)]).then((c) => {
      let [l, h = [], [d] = [], u = {}] = c;
      return new this(l, x(x({}, a), {}, { src: n, filters: h, resizeFilter: d }, u));
    });
  }
  static fromURL(t) {
    let { crossOrigin: e = null, signal: A } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, r = arguments.length > 2 ? arguments[2] : void 0;
    return ca(t, { crossOrigin: e, signal: A }).then((n) => new this(n, r));
  }
  static async fromElement(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, A = arguments.length > 2 ? arguments[2] : void 0;
    const r = cs(t, this.ATTRIBUTE_NAMES, A);
    return this.fromURL(r["xlink:href"], e, r).catch((n) => (_s("log", "Unable to parse Image", n), null));
  }
}
k(he, "type", "Image"), k(he, "cacheProperties", [...as, ...$2]), k(he, "ownDefaults", { strokeWidth: 0, srcFromAttribute: !1, minimumScaleTrigger: 0.5, cropX: 0, cropY: 0, imageSmoothing: !0 }), k(he, "CSS_CANVAS", "canvas-img"), k(he, "ATTRIBUTE_NAMES", [...Ds, "x", "y", "width", "height", "preserveAspectRatio", "xlink:href", "crossOrigin", "image-rendering"]), J.setClass(he), J.setSVGClass(he), ac(["pattern", "defs", "symbol", "metadata", "clipPath", "mask", "desc"]);
const Xc = (s) => s.webgl !== void 0, Yu = "precision highp float", wS = `
    `.concat(Yu, `;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`), BS = ["type"], yS = ["type"], CS = new RegExp(Yu, "g");
class ne {
  get type() {
    return this.constructor.type;
  }
  constructor() {
    let t = Vt(arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, BS);
    Object.assign(this, this.constructor.defaults, t);
  }
  getFragmentSource() {
    return wS;
  }
  getVertexSource() {
    return `
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`;
  }
  createProgram(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getFragmentSource(), A = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.getVertexSource();
    const { WebGLProbe: { GLPrecision: r = "highp" } } = RA();
    r !== "highp" && (e = e.replace(CS, Yu.replace("highp", r)));
    const n = t.createShader(t.VERTEX_SHADER), i = t.createShader(t.FRAGMENT_SHADER), o = t.createProgram();
    if (!n || !i || !o) throw new UA("Vertex, fragment shader or program creation error");
    if (t.shaderSource(n, A), t.compileShader(n), !t.getShaderParameter(n, t.COMPILE_STATUS)) throw new UA("Vertex shader compile error for ".concat(this.type, ": ").concat(t.getShaderInfoLog(n)));
    if (t.shaderSource(i, e), t.compileShader(i), !t.getShaderParameter(i, t.COMPILE_STATUS)) throw new UA("Fragment shader compile error for ".concat(this.type, ": ").concat(t.getShaderInfoLog(i)));
    if (t.attachShader(o, n), t.attachShader(o, i), t.linkProgram(o), !t.getProgramParameter(o, t.LINK_STATUS)) throw new UA('Shader link error for "'.concat(this.type, '" ').concat(t.getProgramInfoLog(o)));
    const a = this.getUniformLocations(t, o) || {};
    return a.uStepW = t.getUniformLocation(o, "uStepW"), a.uStepH = t.getUniformLocation(o, "uStepH"), { program: o, attributeLocations: this.getAttributeLocations(t, o), uniformLocations: a };
  }
  getAttributeLocations(t, e) {
    return { aPosition: t.getAttribLocation(e, "aPosition") };
  }
  getUniformLocations(t, e) {
    const A = this.constructor.uniformLocations, r = {};
    for (let n = 0; n < A.length; n++) r[A[n]] = t.getUniformLocation(e, A[n]);
    return r;
  }
  sendAttributeData(t, e, A) {
    const r = e.aPosition, n = t.createBuffer();
    t.bindBuffer(t.ARRAY_BUFFER, n), t.enableVertexAttribArray(r), t.vertexAttribPointer(r, 2, t.FLOAT, !1, 0, 0), t.bufferData(t.ARRAY_BUFFER, A, t.STATIC_DRAW);
  }
  _setupFrameBuffer(t) {
    const e = t.context;
    if (t.passes > 1) {
      const A = t.destinationWidth, r = t.destinationHeight;
      t.sourceWidth === A && t.sourceHeight === r || (e.deleteTexture(t.targetTexture), t.targetTexture = t.filterBackend.createTexture(e, A, r)), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, t.targetTexture, 0);
    } else e.bindFramebuffer(e.FRAMEBUFFER, null), e.finish();
  }
  _swapTextures(t) {
    t.passes--, t.pass++;
    const e = t.targetTexture;
    t.targetTexture = t.sourceTexture, t.sourceTexture = e;
  }
  isNeutralState(t) {
    return !1;
  }
  applyTo(t) {
    Xc(t) ? (this._setupFrameBuffer(t), this.applyToWebGL(t), this._swapTextures(t)) : this.applyTo2d(t);
  }
  applyTo2d(t) {
  }
  getCacheKey() {
    return this.type;
  }
  retrieveShader(t) {
    const e = this.getCacheKey();
    return t.programCache[e] || (t.programCache[e] = this.createProgram(t.context)), t.programCache[e];
  }
  applyToWebGL(t) {
    const e = t.context, A = this.retrieveShader(t);
    t.pass === 0 && t.originalTexture ? e.bindTexture(e.TEXTURE_2D, t.originalTexture) : e.bindTexture(e.TEXTURE_2D, t.sourceTexture), e.useProgram(A.program), this.sendAttributeData(e, A.attributeLocations, t.aPosition), e.uniform1f(A.uniformLocations.uStepW, 1 / t.sourceWidth), e.uniform1f(A.uniformLocations.uStepH, 1 / t.sourceHeight), this.sendUniformData(e, A.uniformLocations), e.viewport(0, 0, t.destinationWidth, t.destinationHeight), e.drawArrays(e.TRIANGLE_STRIP, 0, 4);
  }
  bindAdditionalTexture(t, e, A) {
    t.activeTexture(A), t.bindTexture(t.TEXTURE_2D, e), t.activeTexture(t.TEXTURE0);
  }
  unbindAdditionalTexture(t, e) {
    t.activeTexture(e), t.bindTexture(t.TEXTURE_2D, null), t.activeTexture(t.TEXTURE0);
  }
  sendUniformData(t, e) {
  }
  createHelpLayer(t) {
    if (!t.helpLayer) {
      const { sourceWidth: e, sourceHeight: A } = t, r = HA({ width: e, height: A });
      t.helpLayer = r;
    }
  }
  toObject() {
    const t = Object.keys(this.constructor.defaults || {});
    return x({ type: this.type }, t.reduce((e, A) => (e[A] = this[A], e), {}));
  }
  toJSON() {
    return this.toObject();
  }
  static async fromObject(t, e) {
    return new this(Vt(t, yS));
  }
}
k(ne, "type", "BaseFilter"), k(ne, "uniformLocations", []);
const bS = { multiply: `gl_FragColor.rgb *= uColor.rgb;
`, screen: `gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`, add: `gl_FragColor.rgb += uColor.rgb;
`, difference: `gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`, subtract: `gl_FragColor.rgb -= uColor.rgb;
`, lighten: `gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`, darken: `gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`, exclusion: `gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`, overlay: `
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `, tint: `
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    ` };
class In extends ne {
  getCacheKey() {
    return "".concat(this.type, "_").concat(this.mode);
  }
  getFragmentSource() {
    return `
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(bS[this.mode], `
        }
      }
      `);
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = new Et(this.color).getSource(), r = this.alpha, n = A[0] * r, i = A[1] * r, o = A[2] * r, a = 1 - r;
    for (let c = 0; c < e.length; c += 4) {
      const l = e[c], h = e[c + 1], d = e[c + 2];
      let u, p, g;
      switch (this.mode) {
        case "multiply":
          u = l * n / 255, p = h * i / 255, g = d * o / 255;
          break;
        case "screen":
          u = 255 - (255 - l) * (255 - n) / 255, p = 255 - (255 - h) * (255 - i) / 255, g = 255 - (255 - d) * (255 - o) / 255;
          break;
        case "add":
          u = l + n, p = h + i, g = d + o;
          break;
        case "difference":
          u = Math.abs(l - n), p = Math.abs(h - i), g = Math.abs(d - o);
          break;
        case "subtract":
          u = l - n, p = h - i, g = d - o;
          break;
        case "darken":
          u = Math.min(l, n), p = Math.min(h, i), g = Math.min(d, o);
          break;
        case "lighten":
          u = Math.max(l, n), p = Math.max(h, i), g = Math.max(d, o);
          break;
        case "overlay":
          u = n < 128 ? 2 * l * n / 255 : 255 - 2 * (255 - l) * (255 - n) / 255, p = i < 128 ? 2 * h * i / 255 : 255 - 2 * (255 - h) * (255 - i) / 255, g = o < 128 ? 2 * d * o / 255 : 255 - 2 * (255 - d) * (255 - o) / 255;
          break;
        case "exclusion":
          u = n + l - 2 * n * l / 255, p = i + h - 2 * i * h / 255, g = o + d - 2 * o * d / 255;
          break;
        case "tint":
          u = n + l * a, p = i + h * a, g = o + d * a;
      }
      e[c] = u, e[c + 1] = p, e[c + 2] = g;
    }
  }
  sendUniformData(t, e) {
    const A = new Et(this.color).getSource();
    A[0] = this.alpha * A[0] / 255, A[1] = this.alpha * A[1] / 255, A[2] = this.alpha * A[2] / 255, A[3] = this.alpha, t.uniform4fv(e.uColor, A);
  }
}
k(In, "defaults", { color: "#F95C63", mode: "multiply", alpha: 1 }), k(In, "type", "BlendColor"), k(In, "uniformLocations", ["uColor"]), J.setClass(In);
const vS = { multiply: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `, mask: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    ` }, kS = ["type", "image"];
class Tn extends ne {
  getCacheKey() {
    return "".concat(this.type, "_").concat(this.mode);
  }
  getFragmentSource() {
    return vS[this.mode];
  }
  getVertexSource() {
    return `
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `;
  }
  applyToWebGL(t) {
    const e = t.context, A = this.createTexture(t.filterBackend, this.image);
    this.bindAdditionalTexture(e, A, e.TEXTURE1), super.applyToWebGL(t), this.unbindAdditionalTexture(e, e.TEXTURE1);
  }
  createTexture(t, e) {
    return t.getCachedTexture(e.cacheKey, e.getElement());
  }
  calculateMatrix() {
    const t = this.image, { width: e, height: A } = t.getElement();
    return [1 / t.scaleX, 0, 0, 0, 1 / t.scaleY, 0, -t.left / e, -t.top / A, 1];
  }
  applyTo2d(t) {
    let { imageData: { data: e, width: A, height: r }, filterBackend: { resources: n } } = t;
    const i = this.image;
    n.blendImage || (n.blendImage = BA());
    const o = n.blendImage, a = o.getContext("2d");
    o.width !== A || o.height !== r ? (o.width = A, o.height = r) : a.clearRect(0, 0, A, r), a.setTransform(i.scaleX, 0, 0, i.scaleY, i.left, i.top), a.drawImage(i.getElement(), 0, 0, A, r);
    const c = a.getImageData(0, 0, A, r).data;
    for (let l = 0; l < e.length; l += 4) {
      const h = e[l], d = e[l + 1], u = e[l + 2], p = e[l + 3], g = c[l], m = c[l + 1], f = c[l + 2], w = c[l + 3];
      switch (this.mode) {
        case "multiply":
          e[l] = h * g / 255, e[l + 1] = d * m / 255, e[l + 2] = u * f / 255, e[l + 3] = p * w / 255;
          break;
        case "mask":
          e[l + 3] = w;
      }
    }
  }
  sendUniformData(t, e) {
    const A = this.calculateMatrix();
    t.uniform1i(e.uImage, 1), t.uniformMatrix3fv(e.uTransformMatrix, !1, A);
  }
  toObject() {
    return x(x({}, super.toObject()), {}, { image: this.image && this.image.toObject() });
  }
  static async fromObject(t, e) {
    let { type: A, image: r } = t, n = Vt(t, kS);
    return he.fromObject(r, e).then((i) => new this(x(x({}, n), {}, { image: i })));
  }
}
k(Tn, "type", "BlendImage"), k(Tn, "defaults", { mode: "multiply", alpha: 1 }), k(Tn, "uniformLocations", ["uTransformMatrix", "uImage"]), J.setClass(Tn);
class _n extends ne {
  getFragmentSource() {
    return `
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `;
  }
  applyTo(t) {
    Xc(t) ? (this.aspectRatio = t.sourceWidth / t.sourceHeight, t.passes++, this._setupFrameBuffer(t), this.horizontal = !0, this.applyToWebGL(t), this._swapTextures(t), this._setupFrameBuffer(t), this.horizontal = !1, this.applyToWebGL(t), this._swapTextures(t)) : this.applyTo2d(t);
  }
  applyTo2d(t) {
    t.imageData = this.simpleBlur(t);
  }
  simpleBlur(t) {
    let { ctx: e, imageData: A, filterBackend: { resources: r } } = t;
    const { width: n, height: i } = A;
    r.blurLayer1 || (r.blurLayer1 = BA(), r.blurLayer2 = BA());
    const o = r.blurLayer1, a = r.blurLayer2;
    o.width === n && o.height === i || (a.width = o.width = n, a.height = o.height = i);
    const c = o.getContext("2d"), l = a.getContext("2d"), h = 0.06 * this.blur * 0.5;
    let d, u, p, g;
    for (c.putImageData(A, 0, 0), l.clearRect(0, 0, n, i), g = -15; g <= 15; g++) d = (Math.random() - 0.5) / 4, u = g / 15, p = h * u * n + d, l.globalAlpha = 1 - Math.abs(u), l.drawImage(o, p, d), c.drawImage(a, 0, 0), l.globalAlpha = 1, l.clearRect(0, 0, a.width, a.height);
    for (g = -15; g <= 15; g++) d = (Math.random() - 0.5) / 4, u = g / 15, p = h * u * i + d, l.globalAlpha = 1 - Math.abs(u), l.drawImage(o, d, p), c.drawImage(a, 0, 0), l.globalAlpha = 1, l.clearRect(0, 0, a.width, a.height);
    e.drawImage(o, 0, 0);
    const m = e.getImageData(0, 0, o.width, o.height);
    return c.globalAlpha = 1, c.clearRect(0, 0, o.width, o.height), m;
  }
  sendUniformData(t, e) {
    const A = this.chooseRightDelta();
    t.uniform2fv(e.uDelta, A);
  }
  isNeutralState() {
    return this.blur === 0;
  }
  chooseRightDelta() {
    let t = 1;
    const e = [0, 0];
    this.horizontal ? this.aspectRatio > 1 && (t = 1 / this.aspectRatio) : this.aspectRatio < 1 && (t = this.aspectRatio);
    const A = t * this.blur * 0.12;
    return this.horizontal ? e[0] = A : e[1] = A, e;
  }
}
k(_n, "type", "Blur"), k(_n, "defaults", { blur: 0 }), k(_n, "uniformLocations", ["uDelta"]), J.setClass(_n);
class On extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = Math.round(255 * this.brightness);
    for (let r = 0; r < e.length; r += 4) e[r] += A, e[r + 1] += A, e[r + 2] += A;
  }
  isNeutralState() {
    return this.brightness === 0;
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uBrightness, this.brightness);
  }
}
k(On, "type", "Brightness"), k(On, "defaults", { brightness: 0 }), k(On, "uniformLocations", ["uBrightness"]), J.setClass(On);
const tB = { matrix: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], colorsOnly: !0 };
class qs extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`;
  }
  applyTo2d(t) {
    const e = t.imageData.data, A = this.matrix, r = this.colorsOnly;
    for (let n = 0; n < e.length; n += 4) {
      const i = e[n], o = e[n + 1], a = e[n + 2];
      if (e[n] = i * A[0] + o * A[1] + a * A[2] + 255 * A[4], e[n + 1] = i * A[5] + o * A[6] + a * A[7] + 255 * A[9], e[n + 2] = i * A[10] + o * A[11] + a * A[12] + 255 * A[14], !r) {
        const c = e[n + 3];
        e[n] += c * A[3], e[n + 1] += c * A[8], e[n + 2] += c * A[13], e[n + 3] = i * A[15] + o * A[16] + a * A[17] + c * A[18] + 255 * A[19];
      }
    }
  }
  sendUniformData(t, e) {
    const A = this.matrix, r = [A[0], A[1], A[2], A[3], A[5], A[6], A[7], A[8], A[10], A[11], A[12], A[13], A[15], A[16], A[17], A[18]], n = [A[4], A[9], A[14], A[19]];
    t.uniformMatrix4fv(e.uColorMatrix, !1, r), t.uniform4fv(e.uConstants, n);
  }
  toObject() {
    return x(x({}, super.toObject()), {}, { matrix: [...this.matrix] });
  }
}
function lr(s, t) {
  var e;
  const A = (k(e = class extends qs {
    toObject() {
      return { type: this.type, colorsOnly: this.colorsOnly };
    }
  }, "type", s), k(e, "defaults", { colorsOnly: !1, matrix: t }), e);
  return J.setClass(A, s), A;
}
k(qs, "type", "ColorMatrix"), k(qs, "defaults", tB), k(qs, "uniformLocations", ["uColorMatrix", "uConstants"]), J.setClass(qs);
const xS = lr("Brownie", [0.5997, 0.34553, -0.27082, 0, 0.186, -0.0377, 0.86095, 0.15059, 0, -0.1449, 0.24113, -0.07441, 0.44972, 0, -0.02965, 0, 0, 0, 1, 0]), SS = lr("Vintage", [0.62793, 0.32021, -0.03965, 0, 0.03784, 0.02578, 0.64411, 0.03259, 0, 0.02926, 0.0466, -0.08512, 0.52416, 0, 0.02023, 0, 0, 0, 1, 0]), ES = lr("Kodachrome", [1.12855, -0.39673, -0.03992, 0, 0.24991, -0.16404, 1.08352, -0.05498, 0, 0.09698, -0.16786, -0.56034, 1.60148, 0, 0.13972, 0, 0, 0, 1, 0]), FS = lr("Technicolor", [1.91252, -0.85453, -0.09155, 0, 0.04624, -0.30878, 1.76589, -0.10601, 0, -0.27589, -0.2311, -0.75018, 1.84759, 0, 0.12137, 0, 0, 0, 1, 0]), QS = lr("Polaroid", [1.438, -0.062, -0.062, 0, 0, -0.122, 1.378, -0.122, 0, 0, -0.016, -0.016, 1.483, 0, 0, 0, 0, 0, 1, 0]), US = lr("Sepia", [0.393, 0.769, 0.189, 0, 0, 0.349, 0.686, 0.168, 0, 0, 0.272, 0.534, 0.131, 0, 0, 0, 0, 0, 1, 0]), IS = lr("BlackWhite", [1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 0, 0, 0, 1, 0]);
class rd extends ne {
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    super(t), this.subFilters = t.subFilters || [];
  }
  applyTo(t) {
    Xc(t) && (t.passes += this.subFilters.length - 1), this.subFilters.forEach((e) => {
      e.applyTo(t);
    });
  }
  toObject() {
    return { type: this.type, subFilters: this.subFilters.map((t) => t.toObject()) };
  }
  isNeutralState() {
    return !this.subFilters.some((t) => !t.isNeutralState());
  }
  static fromObject(t, e) {
    return Promise.all((t.subFilters || []).map((A) => J.getClass(A.type).fromObject(A, e))).then((A) => new this({ subFilters: A }));
  }
}
k(rd, "type", "Composed"), J.setClass(rd);
class Ln extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`;
  }
  isNeutralState() {
    return this.contrast === 0;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = Math.floor(255 * this.contrast), r = 259 * (A + 255) / (255 * (259 - A));
    for (let n = 0; n < e.length; n += 4) e[n] = r * (e[n] - 128) + 128, e[n + 1] = r * (e[n + 1] - 128) + 128, e[n + 2] = r * (e[n + 2] - 128) + 128;
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uContrast, this.contrast);
  }
}
k(Ln, "type", "Contrast"), k(Ln, "defaults", { contrast: 0 }), k(Ln, "uniformLocations", ["uContrast"]), J.setClass(Ln);
const TS = { Convolute_3_1: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `, Convolute_3_0: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `, Convolute_5_1: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `, Convolute_5_0: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `, Convolute_7_1: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `, Convolute_7_0: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `, Convolute_9_1: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `, Convolute_9_0: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    ` };
class Mn extends ne {
  getCacheKey() {
    return "".concat(this.type, "_").concat(Math.sqrt(this.matrix.length), "_").concat(this.opaque ? 1 : 0);
  }
  getFragmentSource() {
    return TS[this.getCacheKey()];
  }
  applyTo2d(t) {
    const e = t.imageData, A = e.data, r = this.matrix, n = Math.round(Math.sqrt(r.length)), i = Math.floor(n / 2), o = e.width, a = e.height, c = t.ctx.createImageData(o, a), l = c.data, h = this.opaque ? 1 : 0;
    let d, u, p, g, m, f, w, B, C, v, F, Q, E;
    for (F = 0; F < a; F++) for (v = 0; v < o; v++) {
      for (m = 4 * (F * o + v), d = 0, u = 0, p = 0, g = 0, E = 0; E < n; E++) for (Q = 0; Q < n; Q++) w = F + E - i, f = v + Q - i, w < 0 || w >= a || f < 0 || f >= o || (B = 4 * (w * o + f), C = r[E * n + Q], d += A[B] * C, u += A[B + 1] * C, p += A[B + 2] * C, h || (g += A[B + 3] * C));
      l[m] = d, l[m + 1] = u, l[m + 2] = p, l[m + 3] = h ? A[m + 3] : g;
    }
    t.imageData = c;
  }
  sendUniformData(t, e) {
    t.uniform1fv(e.uMatrix, this.matrix);
  }
  toObject() {
    return x(x({}, super.toObject()), {}, { opaque: this.opaque, matrix: [...this.matrix] });
  }
}
k(Mn, "type", "Convolute"), k(Mn, "defaults", { opaque: !1, matrix: [0, 0, 0, 0, 1, 0, 0, 0, 0] }), k(Mn, "uniformLocations", ["uMatrix", "uOpaque", "uHalfSize", "uSize"]), J.setClass(Mn);
const eB = "Gamma";
class Dn extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`;
  }
  constructor() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    super(t), this.gamma = t.gamma || this.constructor.defaults.gamma.concat();
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = this.gamma, r = 1 / A[0], n = 1 / A[1], i = 1 / A[2];
    this.rgbValues || (this.rgbValues = { r: new Uint8Array(256), g: new Uint8Array(256), b: new Uint8Array(256) });
    const o = this.rgbValues;
    for (let a = 0; a < 256; a++) o.r[a] = 255 * Math.pow(a / 255, r), o.g[a] = 255 * Math.pow(a / 255, n), o.b[a] = 255 * Math.pow(a / 255, i);
    for (let a = 0; a < e.length; a += 4) e[a] = o.r[e[a]], e[a + 1] = o.g[e[a + 1]], e[a + 2] = o.b[e[a + 2]];
  }
  sendUniformData(t, e) {
    t.uniform3fv(e.uGamma, this.gamma);
  }
  isNeutralState() {
    const { gamma: t } = this;
    return t[0] === 1 && t[1] === 1 && t[2] === 1;
  }
  toObject() {
    return { type: eB, gamma: this.gamma.concat() };
  }
}
k(Dn, "type", eB), k(Dn, "defaults", { gamma: [1, 1, 1] }), k(Dn, "uniformLocations", ["uGamma"]), J.setClass(Dn);
const _S = { average: `
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `, lightness: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `, luminosity: `
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    ` };
class Rn extends ne {
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    for (let A, r = 0; r < e.length; r += 4) {
      const n = e[r], i = e[r + 1], o = e[r + 2];
      switch (this.mode) {
        case "average":
          A = (n + i + o) / 3;
          break;
        case "lightness":
          A = (Math.min(n, i, o) + Math.max(n, i, o)) / 2;
          break;
        case "luminosity":
          A = 0.21 * n + 0.72 * i + 0.07 * o;
      }
      e[r + 2] = e[r + 1] = e[r] = A;
    }
  }
  getCacheKey() {
    return "".concat(this.type, "_").concat(this.mode);
  }
  getFragmentSource() {
    return _S[this.mode];
  }
  sendUniformData(t, e) {
    t.uniform1i(e.uMode, 1);
  }
  isNeutralState() {
    return !1;
  }
}
k(Rn, "type", "Grayscale"), k(Rn, "defaults", { mode: "average" }), k(Rn, "uniformLocations", ["uMode"]), J.setClass(Rn);
const OS = x(x({}, tB), {}, { rotation: 0 });
class ha extends qs {
  calculateMatrix() {
    const t = this.rotation * Math.PI, e = ns(t), A = is(t), r = 1 / 3, n = Math.sqrt(r) * A, i = 1 - e;
    this.matrix = [e + i / 3, r * i - n, r * i + n, 0, 0, r * i + n, e + r * i, r * i - n, 0, 0, r * i - n, r * i + n, e + r * i, 0, 0, 0, 0, 0, 1, 0];
  }
  isNeutralState() {
    return this.rotation === 0;
  }
  applyTo(t) {
    this.calculateMatrix(), super.applyTo(t);
  }
  toObject() {
    return { type: this.type, rotation: this.rotation };
  }
}
k(ha, "type", "HueRotation"), k(ha, "defaults", OS), J.setClass(ha);
class Hn extends ne {
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    for (let A = 0; A < e.length; A += 4) e[A] = 255 - e[A], e[A + 1] = 255 - e[A + 1], e[A + 2] = 255 - e[A + 2], this.alpha && (e[A + 3] = 255 - e[A + 3]);
  }
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`;
  }
  isNeutralState() {
    return !this.invert;
  }
  sendUniformData(t, e) {
    t.uniform1i(e.uInvert, Number(this.invert)), t.uniform1i(e.uAlpha, Number(this.alpha));
  }
}
k(Hn, "type", "Invert"), k(Hn, "defaults", { alpha: !1, invert: !0 }), k(Hn, "uniformLocations", ["uInvert", "uAlpha"]), J.setClass(Hn);
class Pn extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = this.noise;
    for (let r = 0; r < e.length; r += 4) {
      const n = (0.5 - Math.random()) * A;
      e[r] += n, e[r + 1] += n, e[r + 2] += n;
    }
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uNoise, this.noise / 255), t.uniform1f(e.uSeed, Math.random());
  }
  isNeutralState() {
    return this.noise === 0;
  }
}
k(Pn, "type", "Noise"), k(Pn, "defaults", { noise: 0 }), k(Pn, "uniformLocations", ["uNoise", "uSeed"]), J.setClass(Pn);
class Kn extends ne {
  applyTo2d(t) {
    let { imageData: { data: e, width: A, height: r } } = t;
    for (let n = 0; n < r; n += this.blocksize) for (let i = 0; i < A; i += this.blocksize) {
      const o = 4 * n * A + 4 * i, a = e[o], c = e[o + 1], l = e[o + 2], h = e[o + 3];
      for (let d = n; d < Math.min(n + this.blocksize, r); d++) for (let u = i; u < Math.min(i + this.blocksize, A); u++) {
        const p = 4 * d * A + 4 * u;
        e[p] = a, e[p + 1] = c, e[p + 2] = l, e[p + 3] = h;
      }
    }
  }
  isNeutralState() {
    return this.blocksize === 1;
  }
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`;
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uBlocksize, this.blocksize);
  }
}
k(Kn, "type", "Pixelate"), k(Kn, "defaults", { blocksize: 4 }), k(Kn, "uniformLocations", ["uBlocksize"]), J.setClass(Kn);
class Nn extends ne {
  getFragmentSource() {
    return `
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = 255 * this.distance, r = new Et(this.color).getSource(), n = [r[0] - A, r[1] - A, r[2] - A], i = [r[0] + A, r[1] + A, r[2] + A];
    for (let o = 0; o < e.length; o += 4) {
      const a = e[o], c = e[o + 1], l = e[o + 2];
      a > n[0] && c > n[1] && l > n[2] && a < i[0] && c < i[1] && l < i[2] && (e[o + 3] = 0);
    }
  }
  sendUniformData(t, e) {
    const A = new Et(this.color).getSource(), r = this.distance, n = [0 + A[0] / 255 - r, 0 + A[1] / 255 - r, 0 + A[2] / 255 - r, 1], i = [A[0] / 255 + r, A[1] / 255 + r, A[2] / 255 + r, 1];
    t.uniform4fv(e.uLow, n), t.uniform4fv(e.uHigh, i);
  }
}
k(Nn, "type", "RemoveColor"), k(Nn, "defaults", { color: "#FFFFFF", distance: 0.02, useAlpha: !1 }), k(Nn, "uniformLocations", ["uLow", "uHigh"]), J.setClass(Nn);
class jn extends ne {
  sendUniformData(t, e) {
    t.uniform2fv(e.uDelta, this.horizontal ? [1 / this.width, 0] : [0, 1 / this.height]), t.uniform1fv(e.uTaps, this.taps);
  }
  getFilterWindow() {
    const t = this.tempScale;
    return Math.ceil(this.lanczosLobes / t);
  }
  getCacheKey() {
    const t = this.getFilterWindow();
    return "".concat(this.type, "_").concat(t);
  }
  getFragmentSource() {
    const t = this.getFilterWindow();
    return this.generateShader(t);
  }
  getTaps() {
    const t = this.lanczosCreate(this.lanczosLobes), e = this.tempScale, A = this.getFilterWindow(), r = new Array(A);
    for (let n = 1; n <= A; n++) r[n - 1] = t(n * e);
    return r;
  }
  generateShader(t) {
    const e = new Array(t);
    for (let A = 1; A <= t; A++) e[A - 1] = "".concat(A, ".0 * uDelta");
    return `
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t, `];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((A, r) => `
              color += texture2D(uTexture, vTexCoord + `.concat(A, ") * uTaps[").concat(r, "] + texture2D(uTexture, vTexCoord - ").concat(A, ") * uTaps[").concat(r, `];
              sum += 2.0 * uTaps[`).concat(r, `];
            `)).join(`
`), `
        gl_FragColor = color / sum;
      }
    `);
  }
  applyToForWebgl(t) {
    t.passes++, this.width = t.sourceWidth, this.horizontal = !0, this.dW = Math.round(this.width * this.scaleX), this.dH = t.sourceHeight, this.tempScale = this.dW / this.width, this.taps = this.getTaps(), t.destinationWidth = this.dW, super.applyTo(t), t.sourceWidth = t.destinationWidth, this.height = t.sourceHeight, this.horizontal = !1, this.dH = Math.round(this.height * this.scaleY), this.tempScale = this.dH / this.height, this.taps = this.getTaps(), t.destinationHeight = this.dH, super.applyTo(t), t.sourceHeight = t.destinationHeight;
  }
  applyTo(t) {
    Xc(t) ? this.applyToForWebgl(t) : this.applyTo2d(t);
  }
  isNeutralState() {
    return this.scaleX === 1 && this.scaleY === 1;
  }
  lanczosCreate(t) {
    return (e) => {
      if (e >= t || e <= -t) return 0;
      if (e < 11920929e-14 && e > -11920929e-14) return 1;
      const A = (e *= Math.PI) / t;
      return Math.sin(e) / e * Math.sin(A) / A;
    };
  }
  applyTo2d(t) {
    const e = t.imageData, A = this.scaleX, r = this.scaleY;
    this.rcpScaleX = 1 / A, this.rcpScaleY = 1 / r;
    const n = e.width, i = e.height, o = Math.round(n * A), a = Math.round(i * r);
    let c;
    c = this.resizeType === "sliceHack" ? this.sliceByTwo(t, n, i, o, a) : this.resizeType === "hermite" ? this.hermiteFastResize(t, n, i, o, a) : this.resizeType === "bilinear" ? this.bilinearFiltering(t, n, i, o, a) : this.resizeType === "lanczos" ? this.lanczosResize(t, n, i, o, a) : new ImageData(o, a), t.imageData = c;
  }
  sliceByTwo(t, e, A, r, n) {
    const i = t.imageData, o = 0.5;
    let a = !1, c = !1, l = e * o, h = A * o;
    const d = t.filterBackend.resources;
    let u = 0, p = 0;
    const g = e;
    let m = 0;
    d.sliceByTwo || (d.sliceByTwo = BA());
    const f = d.sliceByTwo;
    (f.width < 1.5 * e || f.height < A) && (f.width = 1.5 * e, f.height = A);
    const w = f.getContext("2d");
    for (w.clearRect(0, 0, 1.5 * e, A), w.putImageData(i, 0, 0), r = Math.floor(r), n = Math.floor(n); !a || !c; ) e = l, A = h, r < Math.floor(l * o) ? l = Math.floor(l * o) : (l = r, a = !0), n < Math.floor(h * o) ? h = Math.floor(h * o) : (h = n, c = !0), w.drawImage(f, u, p, e, A, g, m, l, h), u = g, p = m, m += h;
    return w.getImageData(u, p, r, n);
  }
  lanczosResize(t, e, A, r, n) {
    const i = t.imageData.data, o = t.ctx.createImageData(r, n), a = o.data, c = this.lanczosCreate(this.lanczosLobes), l = this.rcpScaleX, h = this.rcpScaleY, d = 2 / this.rcpScaleX, u = 2 / this.rcpScaleY, p = Math.ceil(l * this.lanczosLobes / 2), g = Math.ceil(h * this.lanczosLobes / 2), m = {}, f = { x: 0, y: 0 }, w = { x: 0, y: 0 };
    return function B(C) {
      let v, F, Q, E, _, P, K, T, D, I, y;
      for (f.x = (C + 0.5) * l, w.x = Math.floor(f.x), v = 0; v < n; v++) {
        for (f.y = (v + 0.5) * h, w.y = Math.floor(f.y), _ = 0, P = 0, K = 0, T = 0, D = 0, F = w.x - p; F <= w.x + p; F++) if (!(F < 0 || F >= e)) {
          I = Math.floor(1e3 * Math.abs(F - f.x)), m[I] || (m[I] = {});
          for (let S = w.y - g; S <= w.y + g; S++) S < 0 || S >= A || (y = Math.floor(1e3 * Math.abs(S - f.y)), m[I][y] || (m[I][y] = c(Math.sqrt(Math.pow(I * d, 2) + Math.pow(y * u, 2)) / 1e3)), Q = m[I][y], Q > 0 && (E = 4 * (S * e + F), _ += Q, P += Q * i[E], K += Q * i[E + 1], T += Q * i[E + 2], D += Q * i[E + 3]));
        }
        E = 4 * (v * r + C), a[E] = P / _, a[E + 1] = K / _, a[E + 2] = T / _, a[E + 3] = D / _;
      }
      return ++C < r ? B(C) : o;
    }(0);
  }
  bilinearFiltering(t, e, A, r, n) {
    let i, o, a, c, l, h, d, u, p, g, m, f, w, B = 0;
    const C = this.rcpScaleX, v = this.rcpScaleY, F = 4 * (e - 1), Q = t.imageData.data, E = t.ctx.createImageData(r, n), _ = E.data;
    for (d = 0; d < n; d++) for (u = 0; u < r; u++) for (l = Math.floor(C * u), h = Math.floor(v * d), p = C * u - l, g = v * d - h, w = 4 * (h * e + l), m = 0; m < 4; m++) i = Q[w + m], o = Q[w + 4 + m], a = Q[w + F + m], c = Q[w + F + 4 + m], f = i * (1 - p) * (1 - g) + o * p * (1 - g) + a * g * (1 - p) + c * p * g, _[B++] = f;
    return E;
  }
  hermiteFastResize(t, e, A, r, n) {
    const i = this.rcpScaleX, o = this.rcpScaleY, a = Math.ceil(i / 2), c = Math.ceil(o / 2), l = t.imageData.data, h = t.ctx.createImageData(r, n), d = h.data;
    for (let u = 0; u < n; u++) for (let p = 0; p < r; p++) {
      const g = 4 * (p + u * r);
      let m = 0, f = 0, w = 0, B = 0, C = 0, v = 0, F = 0;
      const Q = (u + 0.5) * o;
      for (let E = Math.floor(u * o); E < (u + 1) * o; E++) {
        const _ = Math.abs(Q - (E + 0.5)) / c, P = (p + 0.5) * i, K = _ * _;
        for (let T = Math.floor(p * i); T < (p + 1) * i; T++) {
          let D = Math.abs(P - (T + 0.5)) / a;
          const I = Math.sqrt(K + D * D);
          I > 1 && I < -1 || (m = 2 * I * I * I - 3 * I * I + 1, m > 0 && (D = 4 * (T + E * e), F += m * l[D + 3], w += m, l[D + 3] < 255 && (m = m * l[D + 3] / 250), B += m * l[D], C += m * l[D + 1], v += m * l[D + 2], f += m));
        }
      }
      d[g] = B / f, d[g + 1] = C / f, d[g + 2] = v / f, d[g + 3] = F / w;
    }
    return h;
  }
}
k(jn, "type", "Resize"), k(jn, "defaults", { resizeType: "hermite", scaleX: 1, scaleY: 1, lanczosLobes: 3 }), k(jn, "uniformLocations", ["uDelta", "uTaps"]), J.setClass(jn);
class Vn extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = -this.saturation;
    for (let r = 0; r < e.length; r += 4) {
      const n = e[r], i = e[r + 1], o = e[r + 2], a = Math.max(n, i, o);
      e[r] += a !== n ? (a - n) * A : 0, e[r + 1] += a !== i ? (a - i) * A : 0, e[r + 2] += a !== o ? (a - o) * A : 0;
    }
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uSaturation, -this.saturation);
  }
  isNeutralState() {
    return this.saturation === 0;
  }
}
k(Vn, "type", "Saturation"), k(Vn, "defaults", { saturation: 0 }), k(Vn, "uniformLocations", ["uSaturation"]), J.setClass(Vn);
class Gn extends ne {
  getFragmentSource() {
    return `
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`;
  }
  applyTo2d(t) {
    let { imageData: { data: e } } = t;
    const A = -this.vibrance;
    for (let r = 0; r < e.length; r += 4) {
      const n = e[r], i = e[r + 1], o = e[r + 2], a = Math.max(n, i, o), c = (n + i + o) / 3, l = 2 * Math.abs(a - c) / 255 * A;
      e[r] += a !== n ? (a - n) * l : 0, e[r + 1] += a !== i ? (a - i) * l : 0, e[r + 2] += a !== o ? (a - o) * l : 0;
    }
  }
  sendUniformData(t, e) {
    t.uniform1f(e.uVibrance, -this.vibrance);
  }
  isNeutralState() {
    return this.vibrance === 0;
  }
}
k(Gn, "type", "Vibrance"), k(Gn, "defaults", { vibrance: 0 }), k(Gn, "uniformLocations", ["uVibrance"]), J.setClass(Gn);
var LS = Object.freeze({ __proto__: null, BaseFilter: ne, BlackWhite: IS, BlendColor: In, BlendImage: Tn, Blur: _n, Brightness: On, Brownie: xS, ColorMatrix: qs, Composed: rd, Contrast: Ln, Convolute: Mn, Gamma: Dn, Grayscale: Rn, HueRotation: ha, Invert: Hn, Kodachrome: ES, Noise: Pn, Pixelate: Kn, Polaroid: QS, RemoveColor: Nn, Resize: jn, Saturation: Vn, Sepia: US, Technicolor: FS, Vibrance: Gn, Vintage: SS });
const Ju = [{ value: "#ff0000", name: "red" }, { value: "#ffcc00", name: "yellow" }, { value: "#00c274", name: "green" }, { value: "#0000FF", name: "blue" }, { value: "#6552ff", name: "purple" }, { value: "#808080", name: "grey" }], MS = (s, t) => {
  const e = z();
  e.classList.add("shake-sdk-palette");
  const A = Ju.map((n) => {
    const i = ((o, a) => {
      const c = document.createElement("button");
      return c.classList.add("shake-sdk-color-button"), c.id = o, a ? (c.style.background = "transparent", c.style.border = `2px solid ${o}`) : (c.style.background = o, c.style.border = "none"), c;
    })(n.value, t === n.value);
    return i.onclick = () => {
      s(n), ((o, a) => {
        a.forEach((c) => {
          c.style.background = c.id, c.style.border = "none";
        }), o.style.background = "transparent", o.style.border = `2px solid ${o.id}`;
      })(i, A);
    }, e.appendChild(i), i;
  }), r = document.createElement("button");
  return r.classList.add("shake-sdk-palette-close"), r.onclick = () => s(null), r.appendChild(De("data:image/svg+xml,%3csvg%20width='50'%20height='51'%20viewBox='0%200%2050%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.834%2021.5598L29.1673%2029.8931'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M29.1673%2021.56L20.834%2029.8933'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e")), e.appendChild(r), e;
}, Ps = 10, Ks = "circle";
function DS(s, t, e, A, r, n, i, o) {
  let a = null;
  const c = [];
  let l = null;
  const h = new Ad(s);
  h.isDrawingMode = !0;
  const d = new dc(h);
  d.width = 3;
  let u = !1, p = 0, g = 0, m = null, f = null, w = null;
  h.on("path:created", function(I) {
    I.path.set({ cornerSize: Ps, cornerStyle: Ks, lockScalingFlip: !0 }), h.renderAll();
  }), h.on("mouse:down", () => {
    B();
  }), h.on("selection:created", (I) => {
    var S;
    const y = I.selected;
    y && y.length > 1 && ((S = h.getActiveObject()) == null || S.set({ cornerSize: Ps, cornerStyle: Ks }), h.renderAll(), B());
  });
  const B = () => {
    const I = h.getActiveObjects();
    I.length > 1 && (I.forEach((y) => {
      y instanceof he && C(y);
    }), h.renderAll());
  }, C = (I) => {
    const y = h.getActiveObject();
    if (y instanceof ZA) {
      const S = y._objects.filter((M) => M !== I);
      if (S.length === 1) h.setActiveObject(S[0]);
      else if (S.length > 1) {
        const M = new ZA(S, { canvas: h, cornerSize: Ps, cornerStyle: Ks });
        h.setActiveObject(M);
      } else h.discardActiveObject();
    }
  };
  h.on("object:moving", (I) => {
    const y = I.target;
    if (y instanceof he) {
      const S = h.width, M = h.height, R = y.width * y.scaleX, H = y.height * y.scaleY;
      y.left < 0 && (y.left = 0), y.top < 0 && (y.top = 0), y.left + R > S && (y.left = S - R), y.top + H > M && (y.top = M - H), y.set({ cropX: y.left / y.scaleX, cropY: y.top / y.scaleY }), h.renderAll();
    }
  }), h.on("object:scaling", function(I) {
    const y = I.target, S = I.transform, M = y.scaleX, R = y.scaleY, H = h.width, L = h.height, j = (a == null ? void 0 : a.scaleX) ?? 1, Z = (a == null ? void 0 : a.scaleY) ?? 1;
    if (y instanceof he) {
      let $ = y.width * M, nt = y.height * R, wt = y.left, At = y.top;
      wt + $ > H && ($ = H - wt), At + nt > L && (nt = L - At), wt < 0 && ($ += wt, wt = 0), At < 0 && (nt += At, At = 0), S.action === "scaleX" ? y.set({ width: $ / j, scaleX: j, left: wt, cropX: y.left / j, top: At }) : S.action === "scaleY" ? y.set({ height: nt / Z, scaleY: Z, left: wt, cropY: y.top / Z, top: At }) : S.action === "scale" && y.set({ width: $ / j, height: nt / Z, scaleX: j, scaleY: Z, cropX: y.left / j, cropY: y.top / Z, left: wt, top: At });
    }
    y instanceof eA && (S.action === "scaleX" ? y.set({ width: y.width * M, scaleX: 1 }) : S.action === "scaleY" ? y.set({ height: y.height * R, scaleY: 1 }) : S.action === "scale" && y.set({ width: y.width * M, height: y.height * R, scaleX: 1, scaleY: 1 })), y instanceof uA && (S.action === "scaleX" ? y.set({ rx: y.rx * M, scaleX: 1 }) : S.action === "scaleY" ? y.set({ ry: y.ry * R, scaleY: 1 }) : S.action === "scale" && y.set({ rx: y.rx * M, ry: y.ry * R, scaleX: 1, scaleY: 1 }));
  });
  const v = (I) => {
    (I.key === "Delete" || I.key === "Backspace") && (h.getActiveObjects().forEach((y) => h.remove(y)), h.discardActiveObject(), h.renderAll(), _());
  };
  KA(s, () => document.addEventListener("keydown", v)), cr(s, () => document.removeEventListener("keydown", v));
  const F = async () => {
    l || (l = await (async (y, S = 0.5) => new Promise((M, R) => {
      const H = new Image();
      H.src = y, H.onload = () => {
        const L = document.createElement("canvas"), j = L.getContext("2d");
        L.width = H.width, L.height = H.height, j == null || j.drawImage(H, 0, 0, L.width, L.height), L.toBlob((Z) => {
          Z ? M(URL.createObjectURL(Z)) : R(new Error("Compression failed"));
        }, "image/jpeg", S);
      }, H.onerror = () => {
        R(new Error("Image loading failed"));
      };
    }))(e, 0.5));
    const I = await he.fromURL(l);
    return I.lockRotation = !0, I.filters = [new LS.Blur({ blur: 0.25 })], I.applyFilters(), c.push(I), I;
  }, Q = () => {
    var j;
    if (!a) return;
    const I = (j = s.parentElement) == null ? void 0 : j.parentElement;
    if (!I) return;
    const y = I.clientWidth, S = I.clientHeight;
    if (y === 0 || S == 0) return;
    const M = y / a.width, R = S / a.height, H = Math.min(M, R), L = H / (a.scaleX || 1);
    a.scaleX = H, a.scaleY = H, h.getObjects().forEach((Z) => {
      Z !== a && (Z.scaleX *= L, Z.scaleY *= L, Z.left *= L, Z.top *= L, Z.setCoords());
    }), h.setDimensions({ width: a.getScaledWidth(), height: a.getScaledHeight() }), h.renderAll();
  }, E = (I) => {
    (r = I) === rt.SELECT ? (h.freeDrawingBrush = void 0, h.isDrawingMode = !1) : r === rt.PENCIL ? (h.freeDrawingBrush = d, h.isDrawingMode = !0) : (h.freeDrawingBrush = void 0, h.isDrawingMode = !0), P();
  }, _ = async () => {
    if (!a) return;
    const I = 1 / a.scaleX, y = await h.toBlob({ multiplier: I });
    if (y) {
      const S = h.toJSON();
      n(y, S);
    }
  }, P = () => {
    if (h.lowerCanvasEl.className = "shake-sdk-canvas", h.upperCanvasEl.className = "shake-sdk-canvas", r === rt.PENCIL) {
      const I = Ju.find((y) => y.value === A);
      I && (h.lowerCanvasEl.classList.add(`shake-sdk-canvas-cursor-${I.name}`), h.upperCanvasEl.classList.add(`shake-sdk-canvas-cursor-${I.name}`));
    }
  }, K = (I) => {
    h.getActiveObjects().forEach((y) => {
      y.set({ stroke: I });
    }), h.renderAll(), _();
  }, T = () => {
    t.style.visibility = "visible", h.visible = !1;
  }, D = () => {
    t.style.visibility = "hidden", h.visible = !0;
  };
  return h.on("mouse:down", async (I) => {
    if (!h.isDrawingMode) return;
    u = !0;
    const y = h.getPointer(I.e);
    return p = y.x, g = y.y, r === rt.BLUR ? (c.length === 0 && F(), m = c.pop() ?? null, m == null || m.set({ left: p, top: g, width: 0, height: 0, fill: "transparent", cornerSize: Ps, cornerStyle: Ks, selectable: !0, scaleX: (a == null ? void 0 : a.scaleX) ?? 1, scaleY: (a == null ? void 0 : a.scaleY) ?? 1, objectCaching: !1, lockScalingFlip: !0 }), void (m && a && (h.add(m), h.sendObjectToBack(m), h.sendObjectToBack(a)))) : r === rt.RECT ? (f = new eA({ left: p, top: g, width: 0, height: 0, fill: "transparent", stroke: A, strokeWidth: 3, cornerSize: Ps, cornerStyle: Ks, selectable: !0, rx: 5, ry: 5, objectCaching: !1, lockScalingFlip: !0 }), void h.add(f)) : r === rt.ELLIPSE ? (w = new uA({ left: p, top: g, width: 0, height: 0, fill: "transparent", stroke: A, strokeWidth: 3, cornerSize: Ps, cornerStyle: Ks, selectable: !0, rx: 0, ry: 0, objectCaching: !1, lockScalingFlip: !0 }), void h.add(w)) : void 0;
  }), h.on("mouse:move", (I) => {
    if (!h.isDrawingMode || !u) return;
    const y = h.getPointer(I.e), S = Math.abs(y.x - p), M = Math.abs(y.y - g);
    if (r === rt.BLUR && m) {
      const R = Math.max(y.x, 0), H = Math.max(y.y, 0), L = Math.abs(R - p), j = Math.abs(H - g);
      return m.set({ width: L / m.scaleX, height: j / m.scaleY, left: Math.min(R, p), top: Math.min(H, g), cropX: Math.max(Math.min(R, p), 0) / m.scaleX, cropY: Math.max(Math.min(H, g), 0) / m.scaleY }), void h.renderAll();
    }
    return r === rt.RECT && f ? (f.set({ width: S, height: M, left: Math.min(y.x, p), top: Math.min(y.y, g) }), void h.renderAll()) : r === rt.ELLIPSE && w ? (w.set({ rx: S / 2, ry: M / 2, left: Math.min(y.x, p), top: Math.min(y.y, g) }), void h.renderAll()) : void 0;
  }), h.on("mouse:up", () => {
    r === rt.BLUR && m && (F(), h.setActiveObject(m), h.renderAll(), E(rt.SELECT), i(rt.SELECT)), r === rt.RECT && f && (h.setActiveObject(f), h.renderAll(), E(rt.SELECT), i(rt.SELECT)), r === rt.ELLIPSE && w && (h.setActiveObject(w), h.renderAll(), E(rt.SELECT), i(rt.SELECT)), u = !1, f = null, m = null, w = null, _();
  }), window.onresize = () => {
    Q();
  }, o ? (async () => {
    T(), await xu(30), o.objects = o.objects.map((y) => (y.type === he.type && (y.src = e), y)), await h.loadFromJSON(o ?? "");
    const I = h.getObjects();
    a = I[0], a.set({ selectable: !1, evented: !1 }), I.forEach((y) => {
      y.cornerSize = Ps, y.cornerStyle = Ks;
    }), h.renderAll(), Q(), D(), F();
  })() : (async () => (T(), a = await he.fromURL(e), a.set({ selectable: !1, evented: !1 }), h.add(a), h.renderAll(), Q(), D(), F()))(), P(), { canvas: s, clearCanvas: async () => {
    const I = h.getObjects();
    for (let y = 0; y < I.length; y++) y != 0 && h.remove(I[y]);
    h.discardActiveObject(), _();
  }, setPenColor: (I) => {
    A = I, d.color = A, P(), K(I);
  }, setDrawingOption: E };
}
const Pl = (s) => {
  const t = document.createElement("div");
  return t.classList.add("shake-sdk-divider-vertical"), t;
}, Ns = (s, t, e) => {
  const A = document.createElement("button");
  return A.classList.add("shake-sdk-attachments-drawing-button"), e && (A.onclick = e), DA(s, (r) => {
    A.appendChild(MA(r, t));
  }), A;
}, AB = (s) => {
  const t = re.localStorage, e = N.attachmentsManager;
  let A, r, n, i = t.getDrawingColor() ?? Ju[0].value, o = t.getDrawingOption() ?? rt.PENCIL;
  const a = getComputedStyle(document.documentElement).getPropertyValue("--shake-sdk-drawing-unselected-color"), c = () => {
    Ie(g, a), Ie(f, a), Ie(B, a), Ie(v, a), Ie(Q, a), o === rt.SELECT && Ie(g, i), o === rt.BLUR && Ie(f, i), o === rt.PENCIL && Ie(B, i), o === rt.ELLIPSE && Ie(v, i), o === rt.RECT && Ie(Q, i);
  };
  let l;
  const h = [], d = [], u = Ns("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_3795_450)'%3e%3cpath%20d='M20.036%2016.036C22.272%2011.6048%2020.4924%206.2%2016.0612%203.96402C13.515%202.67923%2010.5102%202.67923%207.96399%203.96402'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.96395%207.96399C1.72797%2012.3952%203.50756%2017.8%207.93877%2020.036C10.4849%2021.3208%2013.4898%2021.3208%2016.036%2020.036'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204L20%2020'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3795_450'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", a, () => {
    URL.revokeObjectURL(s.previewUrl), s.drawing = void 0, s.preview = s.data, s.previewUrl = URL.createObjectURL(s.data), e.updateAttachment(s), A();
  }), p = fs(u, Y().shake_sdk_ticket_mark_tooltip_clear), g = Ns("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18711_1695)'%3e%3cpath%20d='M13.6957%2010.8587L11.9457%207.8276C11.5317%207.11053%2010.6138%206.86456%209.89669%207.27856C9.17963%207.69256%208.93366%208.61053%209.34766%209.3276'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4453%208.69381C12.0313%207.97674%2012.2773%207.05878%2012.9944%206.64478C13.7114%206.23078%2014.6294%206.47674%2015.0434%207.19381L16.7934%2010.2249'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.0965%2012.3588L6.84651%204.99759C6.43251%204.28052%205.51454%204.03455%204.79747%204.44855C4.0804%204.86255%203.83443%205.78052%204.24843%206.49759L7.99843%2012.9928L9.49843%2015.5909L6.92484%2014.9013C6.08337%2014.6758%205.21734%2015.1758%204.99187%2016.0173C4.80373%2016.7194%205.13695%2017.4565%205.78846%2017.779L11.4861%2020.5955C13.2844%2021.4844%2015.408%2021.4166%2017.1453%2020.4136L18.6946%2019.5191C21.5646%2017.8621%2022.5477%2014.1929%2020.8907%2011.3229L18.8907%207.8588L18.1407%206.55976C17.7267%205.8427%2016.8088%205.59673%2016.0917%206.01073C15.3746%206.42473%2015.1287%207.3427%2015.5427%208.05976'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18711_1695'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0%20-0.000488281)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", o === rt.SELECT ? i : a, () => {
    n(rt.SELECT), o = rt.SELECT, t.setDrawingOption(rt.SELECT), c();
  }), m = fs(g, Y().shake_sdk_ticket_mark_tooltip_select);
  l = Pl(), l.classList.add("shake-sdk-drawing-toolbox-divider"), h.push(u), h.push(g), h.push(l), d.push(p), d.push(m);
  const f = Ns("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18712_753)'%3e%3cpath%20d='M12.0001%2018.9999C11.1581%2018.9999%2010.3151%2018.8219%209.49609%2018.5049'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20.882%2012.468C18.99%2015.967%2015.495%2019%2012%2019'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.0781%208.9209C19.7691%209.7299%2020.3831%2010.6119%2020.8811%2011.5329C21.0381%2011.8239%2021.0381%2012.1769%2020.8811%2012.4679'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%2019L19%205'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.77406%2014.2271C8.54406%2012.9971%208.54406%2011.0021%209.77406%209.77211C11.0041%208.54211%2012.9991%208.54211%2014.2291%209.77211'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.0438%206.956C15.4968%205.759%2013.7478%205%2011.9998%205C8.50475%205%205.00975%208.033%203.11775%2011.533C2.96075%2011.824%202.96075%2012.177%203.11775%2012.468C4.06375%2014.217%205.40975%2015.849%206.95575%2017.045'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18712_753'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", o === rt.BLUR ? i : a, () => {
    o = rt.BLUR, t.setDrawingOption(rt.BLUR), n(rt.BLUR), c(), Ie(f, i);
  });
  l = Pl(), l.classList.add("shake-sdk-drawing-toolbox-divider");
  const w = fs(f, Y().shake_sdk_ticket_mark_tooltip_blur);
  h.push(f), h.push(l), d.push(w);
  const B = Ns("data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='pen-draw%201'%20clip-path='url(%23clip0_15248_22176)'%3e%3cg%20id='Group'%3e%3cpath%20id='Vector'%20d='M10.9258%2016.8278C14.5704%2020.4725%2019.5591%2021.3965%2022.0616%2018.8905C24.171%2016.7812%2023.8431%2012.9172%2021.5156%209.57349'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_2'%20d='M18.4802%206.4306C14.097%203.05893%208.61602%202.63776%205.56285%205.69093C2.14569%209.1081%203.06969%2015.5714%207.62552%2020.1273C9.62034%2022.1549%2012.0861%2023.6572%2014.8029%2024.4999'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_3'%20d='M14.4897%2014.4666L16.6679%2014.0303C16.9828%2013.9683%2017.2726%2013.8149%2017.5009%2013.5893L23.8615%207.23327C24.7143%206.38002%2024.7143%204.99719%2023.8615%204.14394C23.0083%203.29121%2021.6255%203.29121%2020.7722%204.14394L14.4115%2010.4999C14.1842%2010.7276%2014.0291%2011.0174%2013.9659%2011.3329L13.5342%2013.5111C13.4495%2013.9541%2013.74%2014.3819%2014.183%2014.4666C14.2843%2014.486%2014.3884%2014.486%2014.4897%2014.4666Z'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15248_22176'%3e%3crect%20width='28'%20height='28'%20fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", o === rt.PENCIL ? i : a, () => {
    o = rt.PENCIL, t.setDrawingOption(rt.PENCIL), n(rt.PENCIL), c(), Ie(B, i);
  }), C = fs(B, Y().shake_sdk_ticket_mark_tooltip_pen);
  h.push(B), d.push(C);
  const v = Ns("data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10.5'%20cy='10.5'%20r='9.5'%20stroke='%23636366'%20stroke-width='2'/%3e%3c/svg%3e", o === rt.ELLIPSE ? i : a, () => {
    o = rt.ELLIPSE, t.setDrawingOption(rt.ELLIPSE), n(rt.ELLIPSE), c(), Ie(v, i);
  }), F = fs(v, Y().shake_sdk_ticket_mark_tooltip_circle);
  h.push(v), d.push(F);
  const Q = Ns("data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='1'%20y='1'%20width='20'%20height='20'%20rx='3'%20stroke='%23636366'%20stroke-width='2'/%3e%3c/svg%3e", o === rt.RECT ? i : a, () => {
    o = rt.RECT, t.setDrawingOption(rt.RECT), n(rt.RECT), c();
  });
  l = Pl(), l.classList.add("shake-sdk-drawing-toolbox-divider");
  const E = fs(Q, Y().shake_sdk_ticket_mark_tooltip_rect);
  h.push(Q), h.push(l), d.push(E);
  const _ = Ns("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_16266_21838)'%3e%3cpath%20d='M16.2969%208.19898C16.2969%208.47458%2016.0735%208.698%2015.7979%208.698C15.5222%208.698%2015.2988%208.47458%2015.2988%208.19898C15.2988%207.92337%2015.5222%207.69995%2015.7979%207.69995'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.7988%207.69995C16.0744%207.69995%2016.2979%207.92337%2016.2979%208.19898'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.498%206.59912C12.498%206.87473%2012.2746%207.09815%2011.999%207.09815C11.7234%207.09815%2011.5%206.87473%2011.5%206.59912C11.5%206.32352%2011.7234%206.1001%2011.999%206.1001'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206.1001C12.2756%206.1001%2012.499%206.32352%2012.499%206.59912'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.69922%208.19898C8.69922%208.47458%208.4758%208.698%208.2002%208.698C7.92459%208.698%207.70117%208.47458%207.70117%208.19898C7.70117%207.92337%207.92459%207.69995%208.2002%207.69995'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.20117%207.69995C8.47678%207.69995%208.7002%207.92337%208.7002%208.19898'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.09766%2011.999C7.09766%2012.2746%206.87424%2012.498%206.59863%2012.498C6.32303%2012.498%206.09961%2012.2746%206.09961%2011.999C6.09961%2011.7234%206.32303%2011.5%206.59863%2011.5'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.59961%2011.5C6.87521%2011.5%207.09863%2011.7234%207.09863%2011.999'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.69922%2015.7991C8.69922%2016.0747%208.4758%2016.2981%208.2002%2016.2981C7.92459%2016.2981%207.70117%2016.0747%207.70117%2015.7991C7.70117%2015.5235%207.92459%2015.3%208.2002%2015.3'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.20117%2015.3C8.47678%2015.3%208.7002%2015.5235%208.7002%2015.7991'%20stroke='%23636366'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.9995%2021C6.94455%2021%202.86255%2016.832%203.00355%2011.745C3.13355%207.04903%207.04855%203.13403%2011.7445%203.00403C16.8315%202.86303%2020.9995%206.94503%2020.9995%2012V13C20.9995%2014.105%2020.1045%2015%2018.9995%2015H16.9365C15.6075%2015%2014.6485%2016.272%2015.0135%2017.549L15.2705%2018.45C15.6365%2019.728%2014.6765%2021%2013.3485%2021H11.9995Z'%20stroke='%23636366'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_16266_21838'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", a, () => {
    D.style.display = "flex", T.style.display = "none";
  }), P = fs(_, Y().shake_sdk_ticket_mark_tooltip_color);
  h.push(_), d.push(P);
  const K = MS((H) => {
    H && (i = H.value, t.setDrawingColor(H.value), c(), r(i)), D.style.display = "none", T.style.display = "flex";
  }, i), T = z();
  T.classList.add("shake-sdk-drawing-toolbox-buttons"), h.map((H) => T.appendChild(H)), d.map((H) => T.appendChild(H));
  const D = z();
  D.classList.add("shake-sdk-drawing-toolbox-colors"), D.appendChild(K);
  const I = z();
  I.classList.add("shake-sdk-drawing-toolbox"), I.appendChild(T), I.appendChild(D);
  const y = z();
  y.classList.add("shake-sdk-image-preview-toolbox-container"), y.appendChild(I);
  const S = bu();
  S.classList.add("shake-sdk-image-preview-image-loader");
  const M = z();
  M.classList.add("shake-sdk-image-preview-image-container"), M.appendChild(S);
  const R = z();
  return R.classList.add("shake-sdk-image-preview"), R.appendChild(M), R.appendChild(y), KA(M, () => {
    (async () => {
      const H = document.createElement("canvas");
      H.classList.add("shake-sdk-canvas"), M.appendChild(H);
      const { clearCanvas: L, setPenColor: j, setDrawingOption: Z } = DS(H, S, s.dataUrl, i, o, ($, nt) => {
        URL.revokeObjectURL(s.previewUrl), s.drawing = nt, s.preview = $, s.previewUrl = URL.createObjectURL($), e.updateAttachment(s);
      }, () => {
        o = rt.SELECT, t.setDrawingOption(rt.SELECT), c();
      }, s.drawing);
      Z(o), j(i), A = L, r = j, n = Z;
    })();
  }), R;
}, RS = (s) => {
  s.name, document.body.appendChild(((t) => {
    const e = qa({ image: Zw, onClick: () => {
      i.remove();
    } }), A = z();
    A.classList.add("shake-sdk-image-preview-toolbar-fs"), A.appendChild(e);
    const r = z();
    r.classList.add("shake-sdk-image-preview-content-fs"), r.appendChild(AB(t));
    const n = z();
    n.classList.add("shake-sdk-image-preview-root-fs"), n.appendChild(A), n.append(r);
    const i = document.createElement("div");
    i.setAttribute("data-html2canvas-ignore", "true");
    const o = i.attachShadow({ mode: "open" });
    return os(o), o.appendChild(n), i;
  })(s));
}, HS = (s) => {
  s.name, document.body.appendChild(((t) => {
    const e = qa({ image: Zw, onClick: () => {
      i.remove();
    } }), A = z();
    A.classList.add("shake-sdk-video-preview-toolbar-fs"), A.appendChild(e);
    const r = Kc({ src: t, controls: !0, autoplay: !0 });
    r.classList.add("shake-sdk-video-preview-fs");
    const n = z();
    n.classList.add("shake-sdk-video-preview-root-fs"), n.appendChild(A), n.appendChild(r);
    const i = document.createElement("div");
    i.setAttribute("data-html2canvas-ignore", "true");
    const o = i.attachShadow({ mode: "open" });
    return os(o), o.appendChild(n), i;
  })(s.previewUrl));
}, Xu = () => LA().length >= 10, PS = () => {
  const s = N.attachmentsManager, t = /* @__PURE__ */ new Map(), e = z();
  e.classList.add("shake-sdk-attachments-items-small");
  const A = () => {
    Xu() ? Ts(Xw()) : Ts((() => {
      const l = [];
      l.push({ text: Y().shake_sdk_dialog_add_attachment_grab_screenshot, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='M13.5,6.75h-2.25c-2.485,0%20-4.5,2.015%20-4.5,4.5v2.25M40.5,47.25h2.25c2.485,0%204.5,-2.015%204.5,-4.5V40.5M6.75,40.5v2.25c0,2.485%202.015,4.5%204.5,4.5h2.25M47.25,13.5v-2.25c0,-2.485%20-2.015,-4.5%20-4.5,-4.5H40.5'%20stroke-width='3.38'%20stroke='%234CD266'/%3e%3c/svg%3e", onClick: Zu }), Pc() || l.push({ text: Y().shake_sdk_dialog_add_attachment_record_screen, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='M37.487,32.702L32.57,29.67v-5.342l4.918,-3.03c0.382,-0.236%200.861,-0.247%201.253,-0.028%200.392,0.218%200.635,0.632%200.635,1.08v9.297c0,0.45%20-0.243,0.863%20-0.635,1.081%20-0.392,0.219%20-0.871,0.208%20-1.253,-0.027z'%20stroke-width='3.375'%20stroke='%23FF9C0A'/%3e%3cpath%20fill='%2300000000'%20d='M16.275,18.956L30.919,18.956A1.65,1.65%200,0%201,32.569%2020.606L32.569,33.393A1.65,1.65%200,0%201,30.919%2035.043L16.275,35.043A1.65,1.65%200,0%201,14.625%2033.393L14.625,20.606A1.65,1.65%200,0%201,16.275%2018.956z'%20stroke-width='3.375'%20stroke='%23FF9C0A'/%3e%3cpath%20fill='%2300000000'%20d='M11.75,6.75L42.25,6.75A5,5%200,0%201,47.25%2011.75L47.25,42.25A5,5%200,0%201,42.25%2047.25L11.75,47.25A5,5%200,0%201,6.75%2042.25L6.75,11.75A5,5%200,0%201,11.75%206.75z'%20stroke-width='3.375'%20stroke='%23FF9C0A'/%3e%3c/svg%3e", onClick: Eu }), l.push({ text: Y().shake_sdk_dialog_add_attachment_browse_locations, icon: "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20fill='%2300000000'%20d='M27,47.25c-11.184,0%20-20.25,-9.066%20-20.25,-20.25S15.816,6.75%2027,6.75%2047.25,15.816%2047.25,27%2038.184,47.25%2027,47.25l-0,0z'%20stroke-width='3.38'%20stroke='%2364B1FD'/%3e%3cpath%20fill='%2300000000'%20d='M26.998,26.156c-0.466,0.003%20-0.841,0.382%20-0.84,0.847%200.002,0.465%200.38,0.842%200.846,0.84%200.465,0%200.842,-0.378%200.842,-0.843%20-0.002,-0.467%20-0.382,-0.844%20-0.848,-0.844M35.998,26.156c-0.466,0.003%20-0.841,0.382%20-0.84,0.847%200.002,0.465%200.38,0.842%200.846,0.84%200.465,0%200.842,-0.378%200.842,-0.843%20-0.002,-0.467%20-0.382,-0.844%20-0.848,-0.844M17.998,26.156c-0.466,0.003%20-0.841,0.382%20-0.84,0.847%200.002,0.465%200.38,0.842%200.846,0.84%200.465,0%200.842,-0.378%200.842,-0.843%20-0.002,-0.467%20-0.382,-0.844%20-0.848,-0.844'%20stroke-width='3.38'%20stroke='%2364B1FD'/%3e%3c/svg%3e", onClick: ku });
      const h = { name: "", items: l };
      return Kw(Y().shake_sdk_dialog_add_attachment, [h]);
    })());
  }, r = (l) => {
    const h = du(l.name);
    h && (l.type == Mt.IMAGE ? RS(h) : l.type == Mt.VIDEO && HS(h));
  }, n = (l) => {
    s.removeAttachment(l);
  }, i = (l) => {
    if (!l) return;
    const h = e.lastChild;
    h && e.removeChild(h);
    const d = ((u, p, g) => {
      const m = gi(zw);
      let f;
      m.classList.add("shake-sdk-attachment-item-remove-small"), m.onclick = (B) => {
        B.stopPropagation(), g(u);
      }, f = u.type == Mt.IMAGE ? De(u.previewUrl) : u.type == Mt.VIDEO ? Kc({ src: u.dataUrl + "#t=0.1", autoplay: !0 }) : gk(u.name), f.classList.add("shake-sdk-attachment-item-thumbnail-small"), f.onclick = () => p(u);
      const w = z();
      return w.classList.add("shake-sdk-attachment-item-small"), w.appendChild(f), w.appendChild(m), w;
    })(l, r, n);
    t.set(l.name, d), e.appendChild(d), e.appendChild(((u) => {
      const p = gi(Jw);
      p.classList.add("shake-sdk-attachment-add-button-small"), p.onclick = u;
      const g = z();
      return g.classList.add("shake-sdk-attachments-add-item-small"), g.appendChild(p), g;
    })(A));
  }, o = (l) => {
    if (!l) return;
    const h = t.get(l.name);
    h && (h.remove(), t.delete(l.name));
  }, a = (l) => {
    if (!l) return;
    const h = t.get(l.name);
    h && ((d, u) => {
      const p = d.getElementsByClassName("shake-sdk-attachment-item-thumbnail-small")[0];
      u.type === Mt.IMAGE && (p.src = u.previewUrl), u.type === Mt.VIDEO && (p.src = u.dataUrl);
    })(h, l);
  }, c = (l) => {
    l && i(l);
  };
  return KA(e, () => {
    s.removeObservers.addObserver(o), s.updateObservers.addObserver(a), s.addObservers.addObserver(c);
  }), cr(e, () => {
    s.removeObservers.removeObserver(o), s.updateObservers.removeObserver(a), s.addObservers.removeObserver(c);
  }), LA().forEach((l) => i(l)), e;
}, zc = (s, t, e) => {
  const A = async () => {
    const r = N.shakeService, n = (await r.getTickets()).filter((i) => i.id !== e).filter((i) => !i.read).length > 0;
    t(n);
  };
  KA(s, () => {
    Us.addObserver(A);
  }), cr(s, () => {
    Us.removeObserver(A);
  });
}, sB = async () => {
  N.shakeService.registerApp();
}, nd = "email", w0 = "shakeTicketId", rB = async () => {
  const s = new URLSearchParams(window.location.search).get(w0);
  if (s) {
    await hr();
    const t = await Qn(s);
    t && await fc(null, t.id, !1), KS(w0);
  } else {
    const t = (await N.shakeService.getChatMessages()).filter((A) => !A.read), e = t[0];
    e && await fc(null, e.ticketId, !1);
  }
}, KS = (s) => {
  const t = new URLSearchParams(location.search);
  t.delete(s), history.replaceState(null, "", "?" + t + location.hash);
}, hr = async () => {
  const s = await N.shakeService.getUser();
  if (s && s.userId) {
    const t = re.localStorage, e = N.shakeService, A = t.getFetchTicketsTime(), r = await e.fetchTickets(s.userId, A), n = await NS();
    t.setFetchTicketsTime(n), r.length > 0 && (rB(), (async () => {
      try {
        const i = document.createElement("audio");
        i.src = "data:audio/mpeg;base64,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", await (i == null ? void 0 : i.play());
      } catch {
      }
    })());
  }
}, NS = async () => {
  let s = null;
  const t = (await N.shakeService.getTickets())[0];
  if (t) {
    const e = t.lastActivity;
    s = new Date(e).getTime() + 1;
  }
  return s;
};
function Kl() {
  return new Promise((s, t) => {
    const e = indexedDB.open(Be, 7);
    e.onsuccess = function(A) {
      const r = A.target.result.transaction([sr], "readonly").objectStore(sr).get(0);
      r.onsuccess = function(n) {
        const i = n.target.result;
        s(i);
      }, r.onerror = function() {
        t("Error retrieving user from IndexedDB");
      };
    }, e.onerror = Qe(t), e.onupgradeneeded = Fe;
  });
}
const Yr = (s) => new Promise((t, e) => {
  const A = indexedDB.open(Be, 7);
  A.onsuccess = function(r) {
    const n = r.target.result.transaction([sr], "readwrite").objectStore(sr).put(s);
    n.onsuccess = function() {
      t("User written successfully to IndexedDB");
    }, n.onerror = function() {
      e("Error writing user to IndexedDB");
    };
  }, A.onerror = Qe(e), A.onupgradeneeded = Fe;
}), nB = async () => {
  const s = await N.shakeService.getUser();
  s && N.chatWebSocket.connect(s.userId);
}, Zc = async () => {
  try {
    const s = await N.shakeService.getUser();
    if (!s) return;
    if (!s.isSynced) {
      const t = N.shakeService;
      s.userId ? await t.updateUser() : (await t.registerUser(), await hr(), await nB());
    }
  } catch {
  }
}, Ci = new Nr();
function pn(s) {
  return new Promise((t, e) => {
    const A = [], r = indexedDB.open(Be, 7);
    r.onsuccess = function(n) {
      const i = n.target.result.transaction([fA], "readonly").objectStore(fA).openCursor();
      i.onsuccess = function(o) {
        const a = o.target.result;
        a ? ((!s || a.value.ticketId === s) && A.push({ id: a.value.id, body: a.value.body, synced: a.value.synced, failed: a.value.failed, read: a.value.read, ticketId: a.value.ticketId, created: a.value.created, senderId: a.value.senderId }), a.continue()) : t(A);
      }, i.onerror = function() {
        e("Error retrieving chat messages from IndexedDB");
      };
    }, r.onerror = Qe(e), r.onupgradeneeded = Fe;
  });
}
const yo = (s) => new Promise((t, e) => {
  const A = indexedDB.open(Be, 7);
  A.onsuccess = function(r) {
    const n = r.target.result.transaction([fA], "readwrite"), i = n.objectStore(fA);
    s.forEach((o) => i.put(o)), n.oncomplete = () => {
      Ci.notifyChange(!0), t("Chat messages written successfully to IndexedDB");
    }, n.onerror = () => {
      e("Error writing chat messages to IndexedDB");
    };
  }, A.onerror = Qe(e), A.onupgradeneeded = Fe;
});
function B0() {
  return new Promise((s, t) => {
    const e = [], A = indexedDB.open(Be, 7);
    A.onsuccess = function(r) {
      const n = r.target.result.transaction([rr], "readonly").objectStore(rr).openCursor();
      n.onsuccess = function(i) {
        const o = i.target.result;
        o ? (e.push({ id: o.value.id, name: o.value.name, role: o.value.role }), o.continue()) : s(e);
      }, n.onerror = function() {
        t("Error retrieving chat participants from IndexedDB");
      };
    }, A.onerror = Qe(t), A.onupgradeneeded = Fe;
  });
}
const zu = async () => {
  try {
    await N.shakeService.getUser() ? (await new Promise((s, t) => {
      const e = indexedDB.open(Be, 7);
      e.onsuccess = function(A) {
        const r = A.target.result.transaction([sr], "readwrite").objectStore(sr).clear();
        r.onsuccess = function() {
          s("All users deleted successfully from IndexedDB");
        }, r.onerror = function() {
          t("Error deleting users from IndexedDB");
        };
      }, e.onerror = Qe(t), e.onupgradeneeded = Fe;
    }), await new Promise((s, t) => {
      const e = indexedDB.open(Be, 7);
      e.onsuccess = function(A) {
        const r = A.target.result.transaction([rs], "readwrite").objectStore(rs).clear();
        r.onsuccess = function() {
          Us.notifyChange(!0), s("All tickets deleted successfully from IndexedDB");
        }, r.onerror = function() {
          t("Error deleting tickets from IndexedDB");
        };
      }, e.onerror = Qe(t), e.onupgradeneeded = Fe;
    }), await new Promise((s, t) => {
      const e = indexedDB.open(Be, 7);
      e.onsuccess = function(A) {
        const r = A.target.result.transaction([rr], "readwrite").objectStore(rr).clear();
        r.onsuccess = function() {
          s("All chat participants deleted successfully from IndexedDB");
        }, r.onerror = function() {
          t("Error deleting chat participants from IndexedDB");
        };
      }, e.onerror = Qe(t), e.onupgradeneeded = Fe;
    }), await new Promise((s, t) => {
      const e = indexedDB.open(Be, 7);
      e.onsuccess = function(A) {
        const r = A.target.result.transaction([fA], "readwrite").objectStore(fA).clear();
        r.onsuccess = function() {
          Ci.notifyChange(!0), s("All chat messages deleted successfully from IndexedDB");
        }, r.onerror = function() {
          t("Error deleting chat messages from IndexedDB");
        };
      }, e.onerror = Qe(t), e.onupgradeneeded = Fe;
    }), await (async () => {
      await N.shakeService.getUser() && N.chatWebSocket.disconnect();
    })(), re.localStorage.setFetchTicketsTime(null)) : qt("User not registered.");
  } catch {
  }
}, iB = 256, jS = async (s) => {
  try {
    if (!s) return void qt("Cannot register user. Id not provided.");
    if (s.length > iB) return void qt("Cannot register user. Max id length is 256");
    const t = await N.shakeService.getUser();
    if (t) {
      if (t.endUserId === s) return;
      qt("Switching registered user."), await zu();
    }
    await VS(s), await Zc();
  } catch {
  }
}, VS = async (s) => {
  await Yr({ id: 0, endUserId: s, isSynced: !1 });
}, oB = (s) => {
  N.userRequestsQueue.add(() => GS(s));
}, GS = async (s) => {
  try {
    if (!s) return void qt("Cannot update user. Metadata not provided.");
    if (JSON.stringify(s).length > 51200) return void qt("Cannot update user. Max metadata size is 51200");
    const t = await N.shakeService.getUser();
    t ? (await WS(t, s), await Zc()) : qt("Cannot update user. User not registerd.");
  } catch {
  }
}, WS = async (s, t) => {
  const e = { ...s, id: 0, metadata: t, isSynced: !1 };
  await Yr(e);
}, tn = (s, t, e = !1) => {
  const A = z();
  A.classList.add("toast-notification");
  const r = document.getElementsByClassName("toast-notification");
  A.style.marginBottom = 55 * r.length + "px";
  const n = z();
  if (n.classList.add("content-container"), s) {
    const l = z();
    l.classList.add("title-container"), l.textContent = s, n.appendChild(l);
  }
  const i = z();
  if (i.classList.add("message-container"), i.textContent = t, n.appendChild(i), e) {
    const l = bu();
    l.classList.add("shake-sdk-toast-loader"), A.appendChild(l);
  }
  A.appendChild(n);
  const o = z();
  o.classList.add("shake-sdk-toast-close-button"), DA("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_14021_39143)'%3e%3cpath%20d='M16%208L8%2016'%20stroke='%23F2F2F7'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16%2016.001L8%208.00098'%20stroke='%23F2F2F7'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_14021_39143'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", (l) => {
    const h = MA(l);
    h.classList.add("shake-sdk-toast-close-icon"), o.appendChild(h);
  }), A.append(o);
  const a = document.createElement("div");
  a.setAttribute("data-html2canvas-ignore", "true");
  const c = a.attachShadow({ mode: "open" });
  return c.appendChild(A), os(c), o.addEventListener("click", () => {
    A.remove();
  }), a;
}, en = (s, t = 4e3) => {
  document.body.appendChild(s), t && setTimeout(() => YS(s), t);
}, YS = (s) => {
  s.remove();
};
let de;
const aB = () => {
  de && de.remove(), window.innerWidth < 1024 ? (de = _i(Y().shake_sdk_dialog_ticket_sent_title, Y().shake_sdk_dialog_ticket_sent_message), Ts(de, 4e3)) : (de = tn(Y().shake_sdk_dialog_ticket_sent_title, Y().shake_sdk_dialog_ticket_sent_message), en(de));
}, cB = () => {
  de && de.remove(), window.innerWidth < 1024 ? (de = _i(Y().shake_sdk_dialog_ticket_not_sent_title, Y().shake_sdk_dialog_ticket_not_sent_message), Ts(de, 4e3)) : (de = tn(Y().shake_sdk_dialog_ticket_not_sent_title, Y().shake_sdk_dialog_ticket_not_sent_message), en(de));
}, JS = async (s) => {
  var t;
  try {
    const e = Cu();
    if (e) {
      const A = N.shakeService;
      let r = ZS(s);
      const n = qS(s);
      r = await zS(r), e.tags.push(...n), e.custom_fields = r;
      const i = LA(), o = N.sessionReplay.getEvents();
      XS(e), Rs(!0, !0, !0), de && de.remove(), window.innerWidth < 1024 ? (de = _i(Y().shake_sdk_dialog_ticket_sending_title, Y().shake_sdk_dialog_ticket_sending_message), Ts(de, 0)) : (de = tn(Y().shake_sdk_dialog_ticket_sending_title, Y().shake_sdk_dialog_ticket_sending_message, !0), en(de, 0));
      const a = await A.sendUserFeedback(e, i, o);
      a && ((t = _A.onTicketSent) == null || t.call(_A, a)), aB(), hr(), it.report.isSessionReplayEnabled && (N.sessionReplay.reset(), N.sessionReplay.start());
    }
  } catch {
    cB();
  }
}, XS = (s) => {
  var e;
  const t = N.userActionTracker.addFeedbackSubmittedEvent();
  (e = s.log) == null || e.user_taps.push(t);
}, zS = async (s) => {
  const t = N.shakeService, e = await t.getUser(), A = s.find((r) => r.label == dA.email);
  return A && A.value && e && !e.metadata[nd] && (oB({ [nd]: A.value }), s = s.filter((r) => r.label !== dA.email)), s;
}, ZS = (s) => {
  const t = [];
  return s.items.forEach((e) => {
    if (e instanceof Fc && t.push({ type: Lr.TITLE, value: e.value ?? "", label: e.key }), e instanceof Nm && t.push({ type: Lr.TEXT_INPUT, value: e.value ?? "", label: e.key }), e instanceof au && t.push({ type: Lr.EMAIL, value: e.value ?? "", label: e.key }), e instanceof Qc) {
      const A = e.items[e.value ?? 0];
      t.push({ type: Lr.PICKER, value: A.key, label: e.key });
    }
  }), t;
}, qS = (s) => {
  const t = [];
  return s.items.forEach((e) => {
    if (e instanceof Qc) {
      const A = e.items[e.value ?? 0];
      A && A.tag && t.push(A.tag);
    }
  }), t;
}, ms = new vh(), $S = (s, t) => {
  let e = !1;
  const A = () => {
    a.disabled = h() || e, o.textContent = e ? Y().shake_sdk_new_ticket_submit_button_loading : Y().shake_sdk_new_ticket_submit_button_text;
  }, r = it.isExtension ? null : s, n = Su({ onCloseClick: Rs, onBackClick: r }), i = Hc(Y().shake_sdk_new_ticket_title);
  i.classList.add("shake-sdk-new-ticket-title");
  const o = Ow(Y().shake_sdk_new_ticket_submit_button_text), a = (() => {
    const u = document.createElement("button");
    return u.classList.add("shake-sdk-button-accent"), u;
  })();
  a.classList.add("shake-sdk-submit-button"), a.disabled = !0, a.onclick = async () => {
    e = !0, A(), await JS(l), e = !1, A();
  }, a.appendChild(o);
  const { formElement: c, shakeForm: l, hasFormError: h } = tE(t, A), d = z();
  return d.classList.add("shake-sdk-new-ticket"), d.appendChild(n.container), d.appendChild(i), d.appendChild(c), d.appendChild(a), A(), zc(d, (u) => {
    n.setBadgeVisible(u);
  }), KA(c, () => {
    var p;
    (p = c.getElementsByTagName("textarea")[0]) == null || p.focus();
  }), d;
}, tE = (s, t) => {
  var o;
  const e = re.localStorage.getShakeState(), A = it.config.shakeForm.clone();
  s || (A.items = A.items.filter((a) => a.key != dA.email));
  const r = {}, n = (a, c) => {
    r[a] = c;
  }, i = z();
  if (i.classList.add("shake-sdk-new-ticket-form"), it.isExtension) {
    const a = (m) => {
      re.localStorage.setSelectedAppId(m), g(m);
    }, c = () => {
      let m = re.localStorage.getSelectedAppId();
      if (!ee.apps.find((w) => w.id === m)) {
        const w = ee.apps.find((B) => B.public);
        m = w ? w.id : Pw.id;
      }
      return m;
    }, { picker: l, setData: h, setSelectedId: d, setShowButton: u } = Og({ onChange: a, label: Y().shake_sdk_new_ticket_submit_to, data: y0(ee.apps), selectedId: c(), showIcons: !1, emptyText: Y().shake_sdk_new_ticket_apps_empty, button: AE, showButton: !ee.authToken }), p = () => {
      const m = y0(ee.apps);
      h(m);
      const f = c();
      d(f), g(f), u(!ee.authToken);
    }, g = (m) => {
      const f = ee.apps.find((w) => w.id === m);
      ee.apiKey = (f == null ? void 0 : f.apiKey) ?? "", N.shakeService.setApiKey((f == null ? void 0 : f.apiKey) ?? ""), sB();
    };
    KA(i, () => bh.addObserver(p)), cr(i, () => bh.removeObserver(p)), i.appendChild(l);
  }
  return (o = A == null ? void 0 : A.items) == null || o.forEach((a) => {
    if (a instanceof Fc) {
      a.value = ms.formValues[a.key] ?? a.value;
      const c = Sl({ onChange: (l) => {
        a.value = l, ms.setFormValue(a.key, l), t();
      }, onError: (l) => n(a.key, l), maxLength: 1e4, rows: a.lines, value: a.value, label: a.label, required: a.required, isError: (l) => !!a.required && !l.trim(), error: "" });
      i.appendChild(c);
    }
    if (a instanceof Nm) {
      a.value = ms.formValues[a.key] ?? a.value;
      const c = Sl({ onChange: (l) => {
        a.value = l, ms.setFormValue(a.key, l), t();
      }, onError: (l) => n(a.key, l), maxLength: 1e4, rows: a.lines, value: a.value, label: a.label, required: a.required, isError: (l) => !!a.required && !l.trim(), error: "" });
      i.appendChild(c);
    }
    if (a instanceof au) {
      a.value = e.formValues[a.key] ?? a.value;
      const c = Sl({ onChange: (l) => {
        a.value = l, e.setFormValue(a.key, l), re.localStorage.setShakeState(e), t();
      }, onError: (l) => n(a.key, l), maxLength: 100, rows: 1, value: a.value, label: a.label, required: a.required, isError: (l) => a.required ? !_p(l.trim()) : !!(!_p(l.trim()) && l.trim()), error: Y().shake_sdk_new_ticket_email_error });
      i.appendChild(c);
    }
    if (a instanceof Qc) {
      const c = ms.formValues[a.key] ? ms.formValues[a.key] : a.items[a.value ?? 0].key, { picker: l } = Og({ onChange: (h) => {
        a.value = a.items.findIndex((d) => d.key === h), ms.setFormValue(a.key, h), n(a.key, !1), t();
      }, label: a.label, data: eE(a.items), selectedId: c });
      i.appendChild(l);
    }
    if (a instanceof cu) {
      const c = PS();
      i.appendChild(c);
    }
  }), { formElement: i, shakeForm: A, hasFormError: () => Object.values(r).includes(!0) };
}, y0 = (s) => {
  const t = [...new Set(s.map((e) => e.workspaceName))].map((e) => ({ name: e, items: [] }));
  return s.forEach((e) => {
    const A = t.find((r) => r.name === e.workspaceName);
    A == null || A.items.push({ id: e.id, label: e.name, value: e.apiKey, icon: null });
  }), t;
}, eE = (s) => [{ name: "", items: s.map((t) => ({ id: t.key, label: t.label, value: t.label, icon: t.icon })) }], AE = { onClick: () => ((s, t = !0, e = !0) => {
  let A;
  A = t ? window.open(s, "_blank") : window.open(s), e && (A == null || A.focus());
})("https://app.shakebugs.com/signin?src=sdk"), text: Y().shake_sdk_new_ticket_sign_in, title: Y().shake_sdk_new_ticket_your_workspace };
let id = "";
const lB = (s) => {
  s.key === "Escape" && Rs(), s.key !== "Delete" && s.key !== "Backspace" && s.stopImmediatePropagation();
}, pc = (s) => {
  s.stopImmediatePropagation();
}, Rs = (s = !0, t = !0, e = !1) => {
  if (!jt.isShakeOpened) return;
  jt.isShakeOpened = !1;
  const A = document.getElementById(Ls);
  A && (A.remove(), t && HE(), s && (ms.clear(), Ss.splice(0, Ss.length), IA.splice(0, IA.length), N.sessionReplay.reset(), N.sessionReplay.start()), e || N.userActionTracker.addFeedbackDismissedEvent()), document.removeEventListener("keydown", lB, !0), document.removeEventListener("keypress", pc, !0), document.removeEventListener("keyup", pc, !0), Pc() && (document.getElementsByTagName("body")[0].style.overflow = id, id = "body.style.overflow");
}, hB = "shake-sdk-screenshot-capture-bubble", Zu = () => {
  jt.isScreensotCaptureMode = !0, Rs(!1, !1);
  const s = Hw("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='16px'%20height='16px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-35.852326,-90.237974)'%3e%3cpath%20style='fill:%23ff0000'%20d='m%2067.852325,106.23797%20a%2016,16%200%200%201%20-16,16%2016,16%200%200%201%20-16,-16%2016,16%200%200%201%2016,-15.999997%2016,16%200%200%201%2016,15.999997%20z'/%3e%3c/g%3e%3c/svg%3e", "white", "#d3d3d3", sE);
  s.id = hB, document.body.appendChild(s);
}, sE = () => {
  rE(), (async () => {
    var s;
    if (it.isExtension) (s = _A.onScreenshotBubbleClick) == null || s.call(_A);
    else {
      const t = Mw();
      document.body.appendChild(t), await xu(100), await N.screenshotManager.captureScreenshot();
      const A = LA();
      t.remove(), bi(A, gA.NEW_TICKET);
    }
    jt.isScreensotCaptureMode = !1;
  })();
}, rE = () => {
  const s = document.getElementById(hB);
  s && s.remove();
}, dB = (s) => {
  if (((e) => {
    const A = Gm(e);
    return A ? hu(A) : void 0;
  })(s.name)) return;
  const t = window.innerWidth > 1024;
  if (((e) => e.size > 10485760)(s)) {
    const e = s.size / 1048576;
    if (t) {
      let A = Y().shake_sdk_dialog_attachment_size_limit_message;
      A = A.replace("%", e.toFixed(0));
      const r = tn(Y().shake_sdk_dialog_attachment_size_limit_title, A);
      en(r);
    } else Ts(((A) => {
      let r = Y().shake_sdk_dialog_attachment_size_limit_message;
      return r = r.replace("%", A.toFixed(0)), _i(Y().shake_sdk_dialog_attachment_size_limit_title, r);
    })(e));
  } else if (Xu()) if (t) {
    const e = tn(Y().shake_sdk_dialog_attachment_count_limit_title, Y().shake_sdk_dialog_attachment_count_limit_message);
    en(e);
  } else Ts(Xw());
  else (function(e) {
    var n;
    const A = new Blob([e], { type: e.type }), r = ((n = e.name.split(".").reverse()) == null ? void 0 : n[0]) ?? "";
    e.type.startsWith("image") ? za(A, r) : e.type.startsWith("video") ? _w(A, r) : yu(A, Mt.FILE, e.name);
  })(s);
}, C0 = (s) => {
  const t = (e) => {
    e.preventDefault(), e.stopPropagation();
  };
  ["dragenter", "dragover", "dragleave", "drop"].forEach((e) => {
    s.addEventListener(e, t, !1);
  }), ["dragenter", "dragover"].forEach((e) => {
    s.addEventListener(e, () => {
      s.classList.add("hover");
    }, !1);
  }), ["dragleave", "drop"].forEach((e) => {
    s.addEventListener(e, () => {
      s.classList.remove("hover");
    }, !1);
  }), s.addEventListener("drop", (e) => {
    var n;
    const A = e.dataTransfer, r = (n = A == null ? void 0 : A.files) == null ? void 0 : n[0];
    r && dB(r);
  }, !1);
}, Nl = ({ img: s, text: t, onClick: e }) => {
  const A = document.createElement("button");
  return A.classList.add("shake-sdk-context-menu-item"), A.onclick = e, DA(s, (r) => {
    const n = MA(r);
    A.appendChild(n), A.appendChild(((i) => {
      const o = document.createElement("p");
      return o.classList.add("shake-sdk-text-p2"), o.innerText = i, o;
    })(t));
  }), A;
}, nE = (s) => {
  const t = [];
  t.push(Nl({ img: Dw, text: Y().shake_sdk_dialog_add_attachment_grab_screenshot, onClick: Zu })), Pc() || t.push(Nl({ img: Rw, text: Y().shake_sdk_dialog_add_attachment_record_screen, onClick: Eu })), t.push(Nl({ img: "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_15055_29723)'%3e%3cpath%20d='M15.3453%205.345L12.9887%202.98833C12.6762%202.67583%2012.252%202.5%2011.8103%202.5H5.83366C4.91283%202.5%204.16699%203.24583%204.16699%204.16667V15.8333C4.16699%2016.7542%204.91283%2017.5%205.83366%2017.5H14.167C15.0878%2017.5%2015.8337%2016.7542%2015.8337%2015.8333V6.52333C15.8337%206.08167%2015.6578%205.6575%2015.3453%205.345Z'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.8337%206.66667H12.5003C12.0403%206.66667%2011.667%206.29333%2011.667%205.83333V2.5'%20stroke='%23AEAEB2'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_15055_29723'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", text: Y().shake_sdk_dialog_add_attachment_browse_locations, onClick: ku }));
  const { menu: e, toggle: A } = ((r, n) => {
    let i = !1;
    const o = z();
    return o.classList.add("shake-sdk-context-menu"), n.forEach((a) => o.appendChild(a)), document.addEventListener("click", function(a) {
      i && a.target !== r && (o.style.display = "none", i = !1);
    }), { menu: o, toggle: () => {
      i ? (o.style.display = "none", i = !1) : (o.style.display = "block", i = !0), o.style.left = r.getBoundingClientRect().left + "px", o.style.top = r.getBoundingClientRect().top - 130 + "px";
    } };
  })(s, t);
  return s.onclick = async (r) => {
    if (r.stopPropagation(), await Xu()) {
      const n = tn(Y().shake_sdk_dialog_attachment_count_limit_title, Y().shake_sdk_dialog_attachment_count_limit_message);
      en(n);
    } else A();
  }, e;
}, iE = (s) => {
  const t = z();
  return t.classList.add("shake-sdk-attachment-title-box"), t.appendChild(es(s)), t;
}, oE = (s) => {
  const t = z();
  t.classList.add("shake-sdk-file-thumbnail");
  const e = es(s);
  return t.appendChild(e), t;
}, aE = (s, t) => {
  const e = N.attachmentsManager, A = /* @__PURE__ */ new Map();
  let r = s.length - 1;
  const n = z();
  n.classList.add("shake-sdk-attachments-items");
  const i = (h) => Array.from(A.keys()).find((d) => d === h.name) ?? h.name, o = (h) => {
    r = Array.from(A.keys()).indexOf(i(h)), l();
  }, a = (h) => {
    e.removeAttachment(h);
  }, c = (h) => {
    const d = n.lastChild;
    d && n.removeChild(d);
    const u = ((p, g, m) => {
      const f = gi(zw);
      let w, B;
      f.classList.add("shake-sdk-attachment-remove"), f.onclick = (E) => {
        E.stopPropagation(), m(p);
      }, p.type == Mt.IMAGE ? (w = Y().shake_sdk_dialog_add_attachment_type_image, B = De(p.previewUrl)) : p.type == Mt.VIDEO ? (w = Y().shake_sdk_dialog_add_attachment_type_video, B = Kc({ src: p.dataUrl + "#t=0.1", autoplay: !0 })) : (w = Y().shake_sdk_dialog_add_attachment_type_file, B = oE(p.name)), B.classList.add("shake-sdk-attachment-item-thumbnail");
      const C = vu();
      C.classList.add("shake-sdk-attachment-item-card"), C.appendChild(B), C.appendChild(f);
      const v = iE(w), F = z();
      F.classList.add("shake-sdk-attachment-item-title"), F.appendChild(v);
      const Q = z();
      return Q.classList.add("shake-sdk-attachment-item"), Q.draggable = !1, Q.onclick = () => g(p), Q.appendChild(C), Q.appendChild(F), Q;
    })(h, o, a);
    A.set(h.name, u), n.appendChild(u), n.appendChild((() => {
      const p = gi(Jw);
      p.classList.add("shake-sdk-attachment-add-button");
      const g = z();
      return g.classList.add("shake-sdk-attachments-add-item"), g.appendChild(p), g.appendChild(nE(p)), g;
    })());
  }, l = () => {
    if (r < 0) return void t(null);
    const h = Array.from(A.keys())[r], d = Array.from(A.values())[r], u = "shake-sdk-attachment-item-selected", p = Array.from(A.values());
    if (p) {
      for (const g of p) g.classList.remove(u);
      d == null || d.classList.add(u);
    }
    t(h);
  };
  return s.forEach((h) => c(h)), l(), { attachmentList: n, addAttachmentToList: (h) => {
    c(h), r = A.size - 1, l();
  }, updateAttachmentInList: (h) => {
    const d = A.get(i(h));
    d && ((u, p) => {
      const g = u.getElementsByClassName("shake-sdk-attachment-item-thumbnail")[0];
      p.type === Mt.IMAGE && (g.src = p.previewUrl), p.type === Mt.VIDEO && (g.src = p.dataUrl);
    })(d, h);
  }, removeAttachmentFromList: (h) => {
    const d = A.get(i(h));
    d && (d.remove(), A.delete(i(h)), A.size - 1 < r && (r = A.size - 1), l());
  } };
}, cE = () => {
  let s;
  const t = () => {
    if (Nw(e), s) {
      const A = s.type == Mt.IMAGE ? AB(s) : ((r) => {
        const n = z();
        n.classList.add("shake-sdk-video-preview");
        const i = Kc({ src: r.dataUrl + "#t=0.1", controls: !0 });
        return i.addEventListener("loadeddata", () => {
          n.appendChild(i);
        }, !1), n;
      })(s);
      e.appendChild(A);
    }
  }, e = z();
  return e.classList.add("shake-sdk-attachments-preview"), { preview: e, setAttachmentPreview: (A) => {
    s = A, t();
  } };
}, od = "shake-sdk-attachments-card", lE = (s) => {
  const t = N.attachmentsManager, e = vu();
  e.id = od;
  const A = z();
  A.classList.add("shake-sdk-attachments-page");
  const r = (() => {
    const B = _g();
    DA(Rw, (E) => {
      B.appendChild(MA(E)), B.appendChild(Tg(Y().shake_sdk_dialog_add_attachment_record_screen));
    }), B.onclick = Eu;
    const C = _g();
    DA(Dw, (E) => {
      C.appendChild(MA(E)), C.appendChild(Tg(Y().shake_sdk_dialog_add_attachment_grab_screenshot));
    }), C.onclick = Zu;
    const v = z();
    v.classList.add("shake-sdk-attachments-empty-buttons"), v.appendChild(C), v.appendChild(B);
    const F = z();
    F.classList.add("shake-sdk-attachments-empty-dragdrop"), F.appendChild(De("data:image/png;base64,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")), F.appendChild(es("Click to attach a file or drag it here")), F.onclick = ku;
    const Q = z();
    return Q.classList.add("shake-sdk-attachments-empty"), Q.appendChild(F), Q.appendChild(v), C0(F), Q;
  })(), n = z();
  n.classList.add("shake-sdk-attachments-list-wrap"), C0(n);
  const { preview: i, setAttachmentPreview: o } = cE(), a = z();
  a.classList.add("shake-sdk-attachments-preview-wrap"), a.appendChild(i);
  let c = null;
  const { attachmentList: l, addAttachmentToList: h, updateAttachmentInList: d, removeAttachmentFromList: u } = aE(s, (B) => {
    if (B === c) return;
    c = B;
    const C = du(B ?? "");
    C && o(C);
  });
  n.appendChild(l), A.appendChild(n), A.appendChild(a);
  const p = () => {
    r.remove(), e.appendChild(A);
  }, g = () => {
    A.remove(), e.appendChild(r);
  }, m = (B) => {
    B && (u(B), LA().length === 0 && g());
  }, f = (B) => {
    B && (d(B), window.innerWidth < 1024 && o(B));
  }, w = (B) => {
    B && (h(B), LA().length > 0 && p());
  };
  return KA(e, () => {
    t.removeObservers.addObserver(m), t.updateObservers.addObserver(f), t.addObservers.addObserver(w);
  }), cr(e, () => {
    t.removeObservers.removeObserver(m), t.updateObservers.removeObserver(f), t.addObservers.removeObserver(w);
  }), s.length > 0 ? p() : g(), e;
}, hE = ({ icon: s, text: t }) => {
  const e = es(t);
  e.classList.add("shake-sdk-bottom-navigation-button-text");
  const A = De(Ti);
  A.classList.add("shake-sdk-bottom-navigation-notification-icon");
  const r = document.createElement("button");
  return r.classList.add("shake-sdk-bottom-navigation-button"), DA(s, (n) => {
    r.appendChild(MA(n)), r.appendChild(e), r.appendChild(A);
  }), { setBadgeVisible: (n) => {
    A.style.visibility = n ? "visible" : "hidden";
  }, button: r };
}, uB = (s, t, e = qu("")) => {
  let A = [];
  const r = document.createElement("div");
  r.classList.add("shake-sdk-list-items");
  const n = document.createElement("div");
  return n.classList.add("shake-sdk-list"), n.appendChild(r), n.appendChild(e), e.style.display = "none", { container: n, list: r, setData: (i) => {
    for (i.forEach((o, a) => {
      if (a >= A.length || s(o, A[a])) {
        const c = document.createElement("div");
        c.classList.add("shake-sdk-list-item");
        const l = t(o);
        c.appendChild(l), a < r.children.length ? r.replaceChild(c, r.children[a]) : r.appendChild(c);
      }
    }); r.children.length > i.length; ) r.removeChild(r.lastChild);
    i.length <= 0 ? (e.style.display = "flex", r.style.display = "none") : (e.style.display = "none", r.style.display = "flex"), A = i;
  } };
}, qu = (s) => {
  const t = document.createElement("p");
  t.classList.add("shake-sdk-list-empty-text"), t.innerHTML = s;
  const e = document.createElement("div");
  return e.classList.add("shake-sdk-list-empty"), DA("data:image/svg+xml,%3csvg%20width='46'%20height='46'%20viewBox='0%200%2046%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_16500_1594)'%3e%3cpath%20d='M36.3282%2043.25H9.67122C7.55331%2043.25%205.83789%2041.5346%205.83789%2039.4167V24.0833C5.83789%2021.9654%207.55331%2020.25%209.67122%2020.25H36.3282C38.4461%2020.25%2040.1616%2021.9654%2040.1616%2024.0833V39.4167C40.1616%2041.5346%2038.4442%2043.25%2036.3282%2043.25Z'%20stroke='%23C7C7CC'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.16602%2017.25V15.3333C9.16602%2013.2154%2010.8814%2011.5%2012.9993%2011.5H32.9998C35.1177%2011.5%2036.8331%2013.2154%2036.8331%2015.3333V17.25'%20stroke='%23C7C7CC'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4883%208.5V6.58333C12.4883%204.46542%2014.2037%202.75%2016.3216%202.75H29.6789C31.7968%202.75%2033.5122%204.46542%2033.5122%206.58333V8.5'%20stroke='%23C7C7CC'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M27.7528%2027.1218L18.2461%2036.6285'%20stroke='%23C7C7CC'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_16500_1594'%3e%3crect%20width='46'%20height='46'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", (A) => {
    e.appendChild(MA(A)), e.appendChild(t);
  }), e;
};
var $u = ((s) => (s.MOBILE_SDK = "MOBILE_SDK", s))($u || {});
const b0 = (s) => {
  const t = navigator.language ?? "en-US";
  return s.toLocaleDateString(t, { day: "numeric", weekday: "short" }) + ", " + s.toLocaleTimeString(t, { minute: "numeric", hour: "numeric" });
}, dE = (s) => {
  const t = new Date(s), e = Math.floor((Date.now() - t.getTime()) / 1e3);
  let A = Math.floor(e / 31536e3);
  return A >= 1 ? `${A}y` : (A = Math.floor(e / 2592e3), A >= 1 ? `${A}mo` : (A = Math.floor(e / 86400), A >= 1 ? `${A}d` : (A = Math.floor(e / 3600), A >= 1 ? `${A}h` : (A = Math.floor(e / 60), A >= 1 ? `${A}m` : "Now"))));
}, jl = (s, t) => {
  if (!t) return null;
  const e = s.find((A) => A.id === t.senderId);
  return (e == null ? void 0 : e.role) === $u.MOBILE_SDK ? "sender" : "recipient";
}, uE = (s) => s.type === "sender" ? ((t) => {
  const e = Is(t.message);
  e.classList.add("shake-sdk-chat-message-sender-bubble-text");
  const A = z();
  A.classList.add("shake-sdk-chat-message-sender-bubble"), t.roundedCorners && A.classList.add("shake-sdk-chat-message-sender-bubble-rounded"), A.appendChild(e);
  const r = De("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='54'%20height='54'%3e%3cpath%20d='M27,30.375L27,18M6.75,36V18c0,-6.213%205.037,-11.25%2011.25,-11.25h18c6.213,0%2011.25,5.037%2011.25,11.25v18c0,6.213%20-5.037,11.25%20-11.25,11.25H18c-6.213,0%20-11.25,-5.037%20-11.25,-11.25z'%20stroke-linejoin='round'%20stroke-width='4'%20fill='%2300000000'%20stroke='%23f04f4f'%20fill-rule='evenodd'%20stroke-linecap='round'/%3e%3cpath%20d='M27,35.888c-0.062,0%20-0.113,0.05%20-0.113,0.112s0.05,0.112%200.113,0.112c0.062,0%200.113,-0.05%200.113,-0.112s-0.05,-0.112%20-0.113,-0.112'%20stroke-linejoin='round'%20stroke-width='4'%20fill='%2300000000'%20stroke='%23f04f4f'%20fill-rule='evenodd'%20stroke-linecap='round'/%3e%3c/svg%3e"), n = z();
  n.classList.add("shake-sdk-chat-message-sender-bubble-container"), t.showError && n.appendChild(r), n.appendChild(A);
  const i = b0(new Date(t.timestamp)), o = es(i);
  o.classList.add("shake-sdk-chat-message-sender-info-text");
  const a = es(Y().shake_sdk_chat_screen_error_message);
  a.classList.add("shake-sdk-chat-message-sender-error-text");
  const c = z();
  c.classList.add("shake-sdk-chat-message-sender-info"), t.showError ? c.appendChild(a) : c.appendChild(o);
  const l = z();
  return l.classList.add("shake-sdk-chat-message-sender"), l.appendChild(n), (t.showTime || t.showError) && l.appendChild(c), t.showError && (l.classList.add("shake-sdk-chat-message-sender-error-state"), l.onclick = () => t.onClick(t)), l;
})(s) : ((t) => {
  const e = Is(t.message);
  e.classList.add("shake-sdk-chat-message-recipient-bubble-text");
  const A = z();
  A.classList.add("shake-sdk-chat-message-recipient-bubble"), t.roundedCorners && A.classList.add("shake-sdk-chat-message-recipient-bubble-rounded"), A.appendChild(e);
  const r = b0(new Date(t.timestamp)), n = es(r), i = z();
  i.classList.add("shake-sdk-chat-message-recipient-info"), i.appendChild(n);
  const o = z();
  return o.classList.add("shake-sdk-chat-message-recipient"), o.appendChild(A), t.showTime && o.appendChild(i), o;
})(s), pE = (s, t) => s.id !== t.id || s.showError !== t.showError, gE = (s) => {
  const t = () => {
    e.style.height = "auto", e.style.height = e.scrollHeight + "px", A.disabled = !e.value.trim();
  }, e = document.createElement("textarea");
  e.classList.add("shake-sdk-chat-message-input-text"), e.placeholder = Y().shake_sdk_chat_screen_input_hint, e.rows = 1, e.addEventListener("input", t), e.autofocus = !0;
  const A = document.createElement("button");
  A.classList.add("shake-sdk-chat-message-input-send"), A.onclick = async () => {
    const i = e.value;
    e.value = "", await (async (o, a) => {
      const c = await N.shakeService.getUser();
      if (c && c.userId) {
        const l = a.trim();
        await N.shakeService.sendChatMessage(c.userId, o, l);
      }
    })(s, i), t();
  }, A.disabled = !e.value.trim(), DA("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2056%2051'%3e%3cpath%20d='M13,27L41,27M27,41L41,27%2027,13'%20stroke-linecap='round'%20stroke-width='4'%20fill='%2300000000'%20stroke='%23FFF'/%3e%3c/svg%3e", (i) => {
    const o = MA(i);
    o.classList.add("shake-sdk-chat-message-input-send-icon"), A.appendChild(o);
  });
  const r = z();
  r.classList.add("shake-sdk-chat-message-send-container"), r.appendChild(A);
  const n = z();
  return n.classList.add("shake-sdk-chat-message-input"), n.appendChild(e), n.appendChild(r), n;
}, fE = (s, t, e) => {
  const A = async () => {
    const a = N.shakeService, c = await a.getChatMessages(t), l = await (async (h, d) => {
      const u = [], p = N.shakeService;
      if (await p.getUser()) {
        const g = await p.getChatParticipants();
        h.forEach((m, f) => {
          const w = h[f - 1], B = h[f + 1], C = jl(g, m), v = jl(g, w), F = jl(g, B);
          u.push({ id: m.id, message: m.text, timestamp: m.timestamp, roundedCorners: F !== C, showTime: v !== C, showError: m.failed, type: C, onClick: d });
        });
      }
      return u;
    })(c, (h) => (async (d) => {
      const u = await N.shakeService.getUser();
      u && u.userId && await N.shakeService.retryChatMessage(u.userId, d);
    })(h.id));
    n.setData(l), n.list.scrollTop = 0, (async (h) => {
      const d = N.shakeService, u = await d.getUser();
      u && u.userId && await d.sendReadReceipt(h, u.userId);
    })(t);
  }, r = Su({ title: s ?? Y().shake_sdk_chat_screen_title, onBackClick: e, onCloseClick: Rs, onlyMobile: !1 }), n = uB(pE, uE, qu(Y().shake_sdk_chat_screen_empty_list));
  n.list.classList.add("shake-sdk-chat-screen-message-list");
  const i = gE(t), o = z();
  return o.classList.add("shake-sdk-chat-screen"), o.appendChild(r.container), o.appendChild(n.container), o.appendChild(i), KA(o, () => {
    Ci.addObserver(A);
  }), cr(o, () => {
    Ci.removeObserver(A);
  }), zc(o, (a) => {
    r.setBadgeVisible(a);
  }, t), o;
}, mE = (s) => ((t) => {
  const e = De(t.image);
  e.classList.add("shake-sdk-ticket-item-thumbnail");
  const A = Is(t.title);
  A.classList.add("shake-sdk-ticket-item-title");
  const r = es(t.subtitle);
  r.classList.add("shake-sdk-ticket-item-subtitle");
  const n = z();
  n.classList.add("shake-sdk-ticket-item-text-container"), n.appendChild(A), n.appendChild(r);
  const i = es(t.time), o = De(Ti), a = z();
  a.classList.add("shake-sdk-ticket-item-time-container"), a.appendChild(i), t.read || a.appendChild(o);
  const c = z();
  return c.classList.add("shake-sdk-ticket-item"), c.appendChild(e), c.appendChild(n), c.appendChild(a), c.onclick = t.onPress, c;
})(s), wE = (s, t) => s.id !== t.id || s.read !== t.read || s.title !== t.title || s.time !== t.time, v0 = (s) => {
  const t = async () => {
    const o = N.shakeService, a = ((c, l) => c.map((h) => ({ id: h.id, title: h.title, subtitle: h.type, time: h.timeFrame, image: h.screenshot, read: h.read, onPress: () => l(h.id) })))(await o.getTickets(), s).slice(0, 50);
    n.setData(a);
  }, e = Su({ onCloseClick: () => Rs() }), A = Hc(Y().shake_sdk_home_screen_title);
  A.classList.add("shake-sdk-home-screen-title");
  const r = Is(Y().shake_sdk_home_screen_subtitle);
  r.classList.add("shake-sdk-home-screen-subtitle");
  const n = uB(wE, mE, qu(Y().shake_sdk_home_screen_empty_list));
  n.container.classList.add("shake-sdk-home-screen-list");
  const i = z();
  return i.classList.add("shake-sdk-home-screen"), i.appendChild(e.container), i.appendChild(A), i.appendChild(r), i.appendChild(n.container), KA(i, () => {
    Us.addObserver(t);
  }), cr(i, () => {
    Us.removeObserver(t);
  }), zc(i, (o) => {
    e.setBadgeVisible(o);
  }), i;
}, BE = (s, t) => {
  let e, A, r;
  const n = () => {
    A || (A = v0(o), l.appendChild(A)), A && (A.style.display = "flex"), r && (r.style.display = "none"), e && (e.style.display = "none"), h.setVisible(!0), Gl(), (() => {
      var m;
      if (!it.config.isAttachmentsEnabled()) return;
      const p = (m = document.getElementById(Ls)) == null ? void 0 : m.shadowRoot, g = p == null ? void 0 : p.querySelector(`#${od}`);
      g != null && g.classList.contains("shake-sdk-attachments-card-hidden") || (g == null || g.classList.remove("shake-sdk-attachments-card-visible"), g == null || g.classList.add("shake-sdk-attachments-card-hidden"));
    })();
  }, i = async () => {
    var p;
    if (!e) {
      const g = await N.shakeService.getUser(), m = !g || g && !((p = g.metadata) != null && p[nd]);
      e = $S(n, m), l.appendChild(e);
    }
    A && (A.style.display = "none"), r && (r.style.display = "none"), e && (e.style.display = "flex"), h.setVisible(!0), it.config.isAttachmentsEnabled() ? bE() : Gl(), (() => {
      var f;
      if (!it.config.isAttachmentsEnabled()) return;
      const g = (f = document.getElementById(Ls)) == null ? void 0 : f.shadowRoot, m = g == null ? void 0 : g.querySelector(`#${od}`);
      m != null && m.classList.contains("shake-sdk-attachments-card-visible") || (m == null || m.classList.remove("shake-sdk-attachments-card-hidden"), m == null || m.classList.add("shake-sdk-attachments-card-visible"));
    })();
  }, o = async (p) => {
    if (!r) {
      const g = await N.shakeService.getTicket(p);
      r = fE(g == null ? void 0 : g.title, p, () => {
        a(), r == null || r.remove(), r = null;
      }), l.appendChild(r);
    }
    A && (A.style.display = "none"), r && (r.style.display = "flex"), e && (e.style.display = "none"), h.setVisible(!1), Gl();
  }, a = () => {
    A || (A = v0(o), l.appendChild(A)), A && (A.style.display = "flex"), r && (r.style.display = "none"), e && (e.style.display = "none"), h.setVisible(!0);
  }, c = gi(Ww);
  c.classList.add("shake-sdk-close-button"), c.onclick = () => Rs();
  const l = z();
  l.classList.add("shake-sdk-main-card-content");
  const h = ((p, g) => {
    let m = -1;
    const f = document.createElement("div");
    f.classList.add("shake-sdk-bottom-navigation");
    const w = p.map((B) => hE(B));
    return w.forEach((B, C) => {
      f.appendChild(B.button), B.button.onclick = () => {
        m !== C && (m = C, w.forEach((v) => v.button.classList.remove("selected")), B.button.classList.add("selected"), g(C));
      };
    }), { setBadgeVisibility: (B, C) => {
      w[B].setBadgeVisible(C);
    }, setVisible: (B) => {
      const C = "shake-sdk-bottom-navigation-hidden";
      B ? f.classList.remove(C) : f.classList.add(C);
    }, setSelectedIndex: (B) => {
      var C, v;
      (v = (C = w[B]) == null ? void 0 : C.button) == null || v.click();
    }, container: f };
  })(CE, async (p) => {
    p === Co && n(), p === Vl && i();
  }), d = yE(), u = vu();
  return u.classList.add("shake-sdk-main-card"), u.appendChild(c), u.appendChild(l), it.isExtension ? u.appendChild(d) : u.appendChild(h.container), zc(u, (p) => {
    h.setBadgeVisibility(0, p);
  }), t ? (h.setSelectedIndex(Co), o(t)) : s === gA.HOME_SCREEN ? h.setSelectedIndex(Co) : s === gA.NEW_TICKET ? h.setSelectedIndex(Vl) : it.config.defaultScreen === gA.HOME_SCREEN ? h.setSelectedIndex(Co) : it.config.defaultScreen === gA.NEW_TICKET && h.setSelectedIndex(Vl), u;
}, yE = () => {
  const s = ((e, A) => {
    const r = document.createElement("p");
    r.innerText = e, r.classList.add("shake-sdk-link-text"), r.innerText = e;
    const n = document.createElement("img");
    n.src = "data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18653_43999)'%3e%3cpath%20d='M11.2989%204.70014L4.69922%2011.2998'%20stroke='%2364B1FD'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3023%209.4144V4.70035'%20stroke='%2364B1FD'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.58594%204.7002H11.3'%20stroke='%2364B1FD'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18653_43999'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
    const i = document.createElement("div");
    return i.classList.add("shake-sdk-link"), i.appendChild(r), i.appendChild(n), i.onclick = () => {
      window.open(A, "_blank");
    }, i;
  })(Y().shake_sdk_link_dashboard, "https://app.shakebugs.com"), t = z();
  return t.classList.add("shake-sdk-main-card-links"), t.appendChild(s), t;
}, Co = 0, Vl = 1, CE = [{ icon: "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_16237_35431)'%3e%3cpath%20d='M26.456%2011.0654L18.456%204.84276C17.012%203.71876%2014.9893%203.71876%2013.544%204.84276L5.544%2011.0654C4.56933%2011.8228%204%2012.9881%204%2014.2228V24.0001C4%2026.2094%205.79067%2028.0001%208%2028.0001H24C26.2093%2028.0001%2028%2026.2094%2028%2024.0001V14.2228C28%2012.9881%2027.4307%2011.8228%2026.456%2011.0654Z'%20stroke='%238E8E93'%20stroke-width='2'/%3e%3cpath%20d='M21.3327%2018.9841C18.386%2021.9308%2013.61%2021.9308%2010.666%2018.9841'%20stroke='%238E8E93'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_16237_35431'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", text: "Home" }, { icon: "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_16237_35451)'%3e%3cpath%20d='M12.4863%2019.2321C16.6517%2023.3974%2022.353%2024.4534%2025.213%2021.5894C27.6237%2019.1787%2027.249%2014.7627%2024.589%2010.9414'%20stroke='%238E8E93'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21.1202%207.34946C16.1109%203.49613%209.84688%203.0148%206.35755%206.50413C2.45221%2010.4095%203.50821%2017.7961%208.71488%2023.0028C10.9947%2025.3201%2013.8127%2027.037%2016.9175%2028.0001'%20stroke='%238E8E93'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.558%2016.5334L19.0473%2016.0347C19.4073%2015.9639%2019.7384%2015.7886%2019.9993%2015.5307L27.2687%208.2667C28.2432%207.29155%2028.2432%205.71118%2027.2687%204.73603C26.2935%203.76149%2024.7131%203.76149%2023.738%204.73603L16.4687%2012C16.2088%2012.2603%2016.0316%2012.5915%2015.9593%2012.952L15.466%2015.4414C15.3692%2015.9477%2015.7012%2016.4366%2016.2075%2016.5334C16.3233%2016.5555%2016.4422%2016.5555%2016.558%2016.5334Z'%20stroke='%238E8E93'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_16237_35451'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e", text: "New ticket" }], Ls = "shake-sdk-root", tp = "shake-sdk-overlay", gc = "shake-sdk-show-overlay-color", bE = () => {
  var e;
  const s = (e = document.getElementById(Ls)) == null ? void 0 : e.shadowRoot, t = s == null ? void 0 : s.querySelector(`#${tp}`);
  t && !t.classList.contains(gc) && t.classList.add(gc);
}, Gl = () => {
  var e;
  const s = (e = document.getElementById(Ls)) == null ? void 0 : e.shadowRoot, t = s == null ? void 0 : s.querySelector(`#${tp}`);
  t && t.classList.contains(gc) && t.classList.remove(gc);
}, vE = () => {
  ee.authToken && ((s) => {
    const t = s.split(".")[1], e = JSON.parse(atob(t)).exp ?? 0;
    return new Date(1e3 * e);
  })(ee.authToken).getTime() <= (/* @__PURE__ */ new Date()).getTime() && (qt("Auth token expired"), ee.authToken = null);
}, Wl = async () => {
  vE(), await N.shakeService.getApps();
};
var kE = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function xE(s) {
  return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
}
var Yl, Jl, ad = { exports: {} };
Yl = ad, Jl = ad.exports, function(s, t) {
  var e = "function", A = "undefined", r = "object", n = "string", i = "major", o = "model", a = "name", c = "type", l = "vendor", h = "version", d = "architecture", u = "console", p = "mobile", g = "tablet", m = "smarttv", f = "wearable", w = "embedded", B = "Amazon", C = "Apple", v = "ASUS", F = "BlackBerry", Q = "Browser", E = "Chrome", _ = "Firefox", P = "Google", K = "Huawei", T = "LG", D = "Microsoft", I = "Motorola", y = "Opera", S = "Samsung", M = "Sharp", R = "Sony", H = "Xiaomi", L = "Zebra", j = "Facebook", Z = "Chromium OS", $ = "Mac OS", nt = " Browser", wt = function(ut) {
    for (var bt = {}, ot = 0; ot < ut.length; ot++) bt[ut[ot].toUpperCase()] = ut[ot];
    return bt;
  }, At = function(ut, bt) {
    return typeof ut === n && tt(bt).indexOf(tt(ut)) !== -1;
  }, tt = function(ut) {
    return ut.toLowerCase();
  }, gt = function(ut, bt) {
    if (typeof ut === n) return ut = ut.replace(/^\s\s*/, ""), typeof bt === A ? ut : ut.substring(0, 500);
  }, ct = function(ut, bt) {
    for (var ot, ce, Ne, xt, je, q, Ve = 0; Ve < bt.length && !je; ) {
      var Ge = bt[Ve], Xe = bt[Ve + 1];
      for (ot = ce = 0; ot < Ge.length && !je && Ge[ot]; ) if (je = Ge[ot++].exec(ut)) for (Ne = 0; Ne < Xe.length; Ne++) q = je[++ce], typeof (xt = Xe[Ne]) === r && xt.length > 0 ? xt.length === 2 ? typeof xt[1] == e ? this[xt[0]] = xt[1].call(this, q) : this[xt[0]] = xt[1] : xt.length === 3 ? typeof xt[1] !== e || xt[1].exec && xt[1].test ? this[xt[0]] = q ? q.replace(xt[1], xt[2]) : t : this[xt[0]] = q ? xt[1].call(this, q, xt[2]) : t : xt.length === 4 && (this[xt[0]] = q ? xt[3].call(this, q.replace(xt[1], xt[2])) : t) : this[xt] = q || t;
      Ve += 2;
    }
  }, X = function(ut, bt) {
    for (var ot in bt) if (typeof bt[ot] === r && bt[ot].length > 0) {
      for (var ce = 0; ce < bt[ot].length; ce++) if (At(bt[ot][ce], ut)) return ot === "?" ? t : ot;
    } else if (At(bt[ot], ut)) return ot === "?" ? t : ot;
    return bt.hasOwnProperty("*") ? bt["*"] : ut;
  }, It = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }, ht = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [h, [a, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [h, [a, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [a, h], [/opios[\/ ]+([\w\.]+)/i], [h, [a, y + " Mini"]], [/\bop(?:rg)?x\/([\w\.]+)/i], [h, [a, y + " GX"]], [/\bopr\/([\w\.]+)/i], [h, [a, y]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [h, [a, "Baidu"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [a, h], [/quark(?:pc)?\/([-\w\.]+)/i], [h, [a, "Quark"]], [/\bddg\/([\w\.]+)/i], [h, [a, "DuckDuckGo"]], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [h, [a, "UC" + Q]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [h, [a, "WeChat"]], [/konqueror\/([\w\.]+)/i], [h, [a, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [h, [a, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [h, [a, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [h, [a, "Smart Lenovo " + Q]], [/(avast|avg)\/([\w\.]+)/i], [[a, /(.+)/, "$1 Secure " + Q], h], [/\bfocus\/([\w\.]+)/i], [h, [a, _ + " Focus"]], [/\bopt\/([\w\.]+)/i], [h, [a, y + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [h, [a, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [h, [a, "Dolphin"]], [/coast\/([\w\.]+)/i], [h, [a, y + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [h, [a, "MIUI " + Q]], [/fxios\/([-\w\.]+)/i], [h, [a, _]], [/\bqihu|(qi?ho?o?|360)browser/i], [[a, "360" + nt]], [/\b(qq)\/([\w\.]+)/i], [[a, /(.+)/, "$1Browser"], h], [/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i], [[a, /(.+)/, "$1" + nt], h], [/samsungbrowser\/([\w\.]+)/i], [h, [a, S + " Internet"]], [/(comodo_dragon)\/([\w\.]+)/i], [[a, /_/g, " "], h], [/metasr[\/ ]?([\d\.]+)/i], [h, [a, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[a, "Sogou Mobile"], h], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i], [a, h], [/(lbbrowser|rekonq)/i, /\[(linkedin)app\]/i], [a], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[a, j], h], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(twitter)(?:and| f.+e\/([\w\.]+))/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [a, h], [/\bgsa\/([\w\.]+) .*safari\//i], [h, [a, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [h, [a, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [h, [a, E + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[a, E + " WebView"], h], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [h, [a, "Android " + Q]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [a, h], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [h, [a, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [h, a], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [a, [h, X, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [a, h], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[a, "Netscape"], h], [/(wolvic)\/([\w\.]+)/i], [a, h], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [h, [a, _ + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i], [a, [h, /_/g, "."]], [/(cobalt)\/([\w\.]+)/i], [a, [h, /master.|lts./, ""]]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[d, "amd64"]], [/(ia32(?=;))/i], [[d, tt]], [/((?:i[346]|x)86)[;\)]/i], [[d, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[d, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[d, "armhf"]], [/windows (ce|mobile); ppc;/i], [[d, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[d, /ower/, "", tt]], [/(sun4\w)[;\)]/i], [[d, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[d, tt]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [o, [l, S], [c, g]], [/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]((?!sm-[lr])[-\w]+)/i, /sec-(sgh\w+)/i], [o, [l, S], [c, p]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [o, [l, C], [c, p]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [o, [l, C], [c, g]], [/(macintosh);/i], [o, [l, C]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [o, [l, M], [c, p]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [o, [l, K], [c, g]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [o, [l, K], [c, p]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i], [[o, /_/g, " "], [l, H], [c, p]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[o, /_/g, " "], [l, H], [c, g]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [o, [l, "OPPO"], [c, p]], [/\b(opd2\d{3}a?) bui/i], [o, [l, "OPPO"], [c, g]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [o, [l, "Vivo"], [c, p]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [o, [l, "Realme"], [c, p]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [o, [l, I], [c, p]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [o, [l, I], [c, g]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [o, [l, T], [c, g]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [o, [l, T], [c, p]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [o, [l, "Lenovo"], [c, g]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[o, /_/g, " "], [l, "Nokia"], [c, p]], [/(pixel c)\b/i], [o, [l, P], [c, g]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [o, [l, P], [c, p]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [o, [l, R], [c, p]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[o, "Xperia Tablet"], [l, R], [c, g]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [o, [l, "OnePlus"], [c, p]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [o, [l, B], [c, g]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[o, /(.+)/g, "Fire Phone $1"], [l, B], [c, p]], [/(playbook);[-\w\),; ]+(rim)/i], [o, l, [c, g]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [o, [l, F], [c, p]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [o, [l, v], [c, g]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [o, [l, v], [c, p]], [/(nexus 9)/i], [o, [l, "HTC"], [c, g]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [l, [o, /_/g, " "], [c, p]], [/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i], [o, [l, "TCL"], [c, g]], [/(itel) ((\w+))/i], [[l, tt], o, [c, X, { tablet: ["p10001l", "w7001"], "*": "mobile" }]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [o, [l, "Acer"], [c, g]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [o, [l, "Meizu"], [c, p]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [o, [l, "Ulefone"], [c, p]], [/droid.+; (a(?:015|06[35]|142p?))/i], [o, [l, "Nothing"], [c, p]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [l, o, [c, p]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [l, o, [c, g]], [/(surface duo)/i], [o, [l, D], [c, g]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [o, [l, "Fairphone"], [c, p]], [/(u304aa)/i], [o, [l, "AT&T"], [c, p]], [/\bsie-(\w*)/i], [o, [l, "Siemens"], [c, p]], [/\b(rct\w+) b/i], [o, [l, "RCA"], [c, g]], [/\b(venue[\d ]{2,7}) b/i], [o, [l, "Dell"], [c, g]], [/\b(q(?:mv|ta)\w+) b/i], [o, [l, "Verizon"], [c, g]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [o, [l, "Barnes & Noble"], [c, g]], [/\b(tm\d{3}\w+) b/i], [o, [l, "NuVision"], [c, g]], [/\b(k88) b/i], [o, [l, "ZTE"], [c, g]], [/\b(nx\d{3}j) b/i], [o, [l, "ZTE"], [c, p]], [/\b(gen\d{3}) b.+49h/i], [o, [l, "Swiss"], [c, p]], [/\b(zur\d{3}) b/i], [o, [l, "Swiss"], [c, g]], [/\b((zeki)?tb.*\b) b/i], [o, [l, "Zeki"], [c, g]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[l, "Dragon Touch"], o, [c, g]], [/\b(ns-?\w{0,9}) b/i], [o, [l, "Insignia"], [c, g]], [/\b((nxa|next)-?\w{0,9}) b/i], [o, [l, "NextBook"], [c, g]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[l, "Voice"], o, [c, p]], [/\b(lvtel\-)?(v1[12]) b/i], [[l, "LvTel"], o, [c, p]], [/\b(ph-1) /i], [o, [l, "Essential"], [c, p]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [o, [l, "Envizen"], [c, g]], [/\b(trio[-\w\. ]+) b/i], [o, [l, "MachSpeed"], [c, g]], [/\btu_(1491) b/i], [o, [l, "Rotor"], [c, g]], [/(shield[\w ]+) b/i], [o, [l, "Nvidia"], [c, g]], [/(sprint) (\w+)/i], [l, o, [c, p]], [/(kin\.[onetw]{3})/i], [[o, /\./g, " "], [l, D], [c, p]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [o, [l, L], [c, g]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [o, [l, L], [c, p]], [/smart-tv.+(samsung)/i], [l, [c, m]], [/hbbtv.+maple;(\d+)/i], [[o, /^/, "SmartTV"], [l, S], [c, m]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[l, T], [c, m]], [/(apple) ?tv/i], [l, [o, C + " TV"], [c, m]], [/crkey/i], [[o, E + "cast"], [l, P], [c, m]], [/droid.+aft(\w+)( bui|\))/i], [o, [l, B], [c, m]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [o, [l, M], [c, m]], [/(bravia[\w ]+)( bui|\))/i], [o, [l, R], [c, m]], [/(mitv-\w{5}) bui/i], [o, [l, H], [c, m]], [/Hbbtv.*(technisat) (.*);/i], [l, o, [c, m]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[l, gt], [o, gt], [c, m]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[c, m]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [l, o, [c, u]], [/droid.+; (shield) bui/i], [o, [l, "Nvidia"], [c, u]], [/(playstation [345portablevi]+)/i], [o, [l, R], [c, u]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [o, [l, D], [c, u]], [/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i], [o, [l, S], [c, f]], [/((pebble))app/i], [l, o, [c, f]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [o, [l, C], [c, f]], [/droid.+; (glass) \d/i], [o, [l, P], [c, f]], [/droid.+; (wt63?0{2,3})\)/i], [o, [l, L], [c, f]], [/(quest( \d| pro)?)/i], [o, [l, j], [c, f]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [l, [c, w]], [/(aeobc)\b/i], [o, [l, B], [c, w]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [o, [c, p]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [o, [c, g]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[c, g]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[c, p]], [/(android[-\w\. ]{0,9});.+buil/i], [o, [l, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [h, [a, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [h, [a, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [a, h], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [h, a]], os: [[/microsoft (windows) (vista|xp)/i], [a, h], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [a, [h, X, It]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[h, X, It], [a, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[h, /_/g, "."], [a, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[a, $], [h, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [h, a], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [a, h], [/\(bb(10);/i], [h, [a, F]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [h, [a, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [h, [a, _ + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [h, [a, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [h, [a, "watchOS"]], [/crkey\/([\d\.]+)/i], [h, [a, E + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[a, Z], h], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [a, h], [/(sunos) ?([\w\.\d]*)/i], [[a, "Solaris"], h], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [a, h]] }, st = function(ut, bt) {
    if (typeof ut === r && (bt = ut, ut = t), !(this instanceof st)) return new st(ut, bt).getResult();
    var ot = typeof s !== A && s.navigator ? s.navigator : t, ce = ut || (ot && ot.userAgent ? ot.userAgent : ""), Ne = ot && ot.userAgentData ? ot.userAgentData : t, xt = bt ? function(q, Ve) {
      var Ge = {};
      for (var Xe in q) Ve[Xe] && Ve[Xe].length % 2 == 0 ? Ge[Xe] = Ve[Xe].concat(q[Xe]) : Ge[Xe] = q[Xe];
      return Ge;
    }(ht, bt) : ht, je = ot && ot.userAgent == ce;
    return this.getBrowser = function() {
      var q = {};
      return q[a] = t, q[h] = t, ct.call(q, ce, xt.browser), q[i] = function(Ve) {
        return typeof Ve === n ? Ve.replace(/[^\d\.]/g, "").split(".")[0] : t;
      }(q[h]), je && ot && ot.brave && typeof ot.brave.isBrave == e && (q[a] = "Brave"), q;
    }, this.getCPU = function() {
      var q = {};
      return q[d] = t, ct.call(q, ce, xt.cpu), q;
    }, this.getDevice = function() {
      var q = {};
      return q[l] = t, q[o] = t, q[c] = t, ct.call(q, ce, xt.device), je && !q[c] && Ne && Ne.mobile && (q[c] = p), je && q[o] == "Macintosh" && ot && typeof ot.standalone !== A && ot.maxTouchPoints && ot.maxTouchPoints > 2 && (q[o] = "iPad", q[c] = g), q;
    }, this.getEngine = function() {
      var q = {};
      return q[a] = t, q[h] = t, ct.call(q, ce, xt.engine), q;
    }, this.getOS = function() {
      var q = {};
      return q[a] = t, q[h] = t, ct.call(q, ce, xt.os), je && !q[a] && Ne && Ne.platform && Ne.platform != "Unknown" && (q[a] = Ne.platform.replace(/chrome os/i, Z).replace(/macos/i, $)), q;
    }, this.getResult = function() {
      return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };
    }, this.getUA = function() {
      return ce;
    }, this.setUA = function(q) {
      return ce = typeof q === n && q.length > 500 ? gt(q, 500) : q, this;
    }, this.setUA(ce), this;
  };
  st.VERSION = "1.0.39", st.BROWSER = wt([a, h, i]), st.CPU = wt([d]), st.DEVICE = wt([o, l, c, u, p, m, g, f, w]), st.ENGINE = st.OS = wt([a, h]), Yl.exports && (Jl = Yl.exports = st), Jl.UAParser = st;
  var Dt = typeof s !== A && (s.jQuery || s.Zepto);
  if (Dt && !Dt.ua) {
    var pt = new st();
    Dt.ua = pt.getResult(), Dt.ua.get = function() {
      return pt.getUA();
    }, Dt.ua.set = function(ut) {
      pt.setUA(ut);
      var bt = pt.getResult();
      for (var ot in bt) Dt.ua[ot] = bt[ot];
    };
  }
}(typeof window == "object" ? window : kE);
var SE = ad.exports;
const cd = () => {
  it.report.isSessionReplayEnabled ? N.sessionReplay.start() : (N.sessionReplay.stop(), N.sessionReplay.reset());
};
class Ws {
  constructor() {
    b(this, "_tags", []);
    b(this, "_isConsoleLogsEnabled", !0);
    b(this, "_isCustomLogsEnabled", !0);
    b(this, "_isNetworkRequestsEnabled", !0);
    b(this, "_isScreenChangesEnabled", !0);
    b(this, "_isSystemEventsEnabled", !0);
    b(this, "_isUserActionsEnabled", !0);
    b(this, "_screenshotIncluded", !0);
    b(this, "_sessionReplayEnabled", !0);
    b(this, "enableActivityHistory", (t) => {
      this.isConsoleLogsEnabled = t, this.isCustomLogsEnabled = t, this.isNetworkRequestsEnabled = t, this.isScreenChangesEnabled = t, this.isUserActionsEnabled = t, this.isSystemEventsEnabled = t;
    });
  }
  get tags() {
    return [...this._tags];
  }
  set tags(t) {
    let e = [...t];
    e.length > 20 && (e = e.slice(0, 20), qt("Cannot set tags. 1-20 tags allowed.")), this._tags = e.filter((A) => A.length > 0 && A.length <= 100);
  }
  get isConsoleLogsEnabled() {
    return this._isConsoleLogsEnabled;
  }
  set isConsoleLogsEnabled(t) {
    t != this._isConsoleLogsEnabled && (this._isConsoleLogsEnabled = t, ((e) => {
      if (!re.localStorage.isSDKEnabled()) return;
      const A = N.consoleLogsTracker;
      e ? A.start() : A.stop();
    })(t));
  }
  get isCustomLogsEnabled() {
    return this._isCustomLogsEnabled;
  }
  set isCustomLogsEnabled(t) {
    this._isCustomLogsEnabled = t;
  }
  get isNetworkRequestsEnabled() {
    return this._isNetworkRequestsEnabled;
  }
  set isNetworkRequestsEnabled(t) {
    t != this._isNetworkRequestsEnabled && (this._isNetworkRequestsEnabled = t, ((e) => {
      if (!re.localStorage.isSDKEnabled()) return;
      const A = N.networkRequestsTracker;
      e ? A.start() : A.stop();
    })(t));
  }
  get isScreenChangesEnabled() {
    return this._isScreenChangesEnabled;
  }
  set isScreenChangesEnabled(t) {
    t != this._isScreenChangesEnabled && (this._isScreenChangesEnabled = t, ((e) => {
      if (!re.localStorage.isSDKEnabled()) return;
      const A = N.screenChangeTracker;
      e ? A.start() : A.stop();
    })(t));
  }
  get isSystemEventsEnabled() {
    return this._isSystemEventsEnabled;
  }
  set isSystemEventsEnabled(t) {
    t != this._isSystemEventsEnabled && (this._isSystemEventsEnabled = t, ((e) => {
      if (!re.localStorage.isSDKEnabled()) return;
      const A = N.systemEventTracker;
      e ? A.start() : A.stop();
    })(t));
  }
  get isUserActionsEnabled() {
    return this._isUserActionsEnabled;
  }
  set isUserActionsEnabled(t) {
    t != this._isUserActionsEnabled && (this._isUserActionsEnabled = t, ((e) => {
      if (!re.localStorage.isSDKEnabled()) return;
      const A = N.userActionTracker;
      e ? A.start() : A.stop();
    })(t));
  }
  get screenshotIncluded() {
    return this._screenshotIncluded;
  }
  set screenshotIncluded(t) {
    this._screenshotIncluded = t;
  }
  get isSessionReplayEnabled() {
    return this._sessionReplayEnabled;
  }
  set isSessionReplayEnabled(t) {
    t != this._sessionReplayEnabled && (this._sessionReplayEnabled = t, cd());
  }
}
b(Ws, "metadata", {});
const Xl = 5242880, Ys = [];
let bo = 0;
const EE = new TextEncoder(), Es = (s) => {
  const t = k0(s);
  if (!(t >= Xl)) {
    for (; bo + t >= Xl && Ys.length > 0; ) {
      const e = Ys.shift();
      e && (bo -= k0(e));
    }
    bo + t < Xl && (Ys.push(s), bo += t), Ys.length > 1e3 && Ys.shift();
  }
}, k0 = (s) => {
  const t = JSON.stringify(s);
  return EE.encode(t).length;
};
var Se = ((s) => (s[s.CONSOLE_LOG = 0] = "CONSOLE_LOG", s[s.CUSTOM_LOG = 1] = "CUSTOM_LOG", s[s.NETWORK_REQUEST = 2] = "NETWORK_REQUEST", s[s.NOTIFICATION_EVENT = 3] = "NOTIFICATION_EVENT", s[s.VIEW_CONTROLLER = 4] = "VIEW_CONTROLLER", s[s.SYSTEM_EVENT = 5] = "SYSTEM_EVENT", s[s.USER_ACTION = 6] = "USER_ACTION", s))(Se || {});
const pB = "2.10.0";
async function ld() {
  var r, n, i, o, a;
  const s = new SE.UAParser(navigator.userAgent), t = await IE(), e = it.report.tags, A = await N.shakeService.getUser();
  return { app_user_id: (A == null ? void 0 : A.userId) ?? null, timezone: Intl.DateTimeFormat().resolvedOptions().timeZone, issue_reported_time: na((/* @__PURE__ */ new Date()).toString()), device: FE(), browser_name: ((r = s.getBrowser()) == null ? void 0 : r.name) ?? "", browser_version: ((n = s.getBrowser()) == null ? void 0 : n.version) ?? "", current_view: window.location.pathname, screen_height: x0().height, screen_width: x0().width, metadata_: Ws.metadata, sdk_version: pB, report_type: Km.MANUAL, screen_density: window.devicePixelRatio || 1, locale: window.navigator.language || null, os_version: ((i = s.getOS()) == null ? void 0 : i.version) ?? "", os_name: ((o = s.getOS()) == null ? void 0 : o.name) ?? "", device_orientation: UE(), battery_level: t == null ? void 0 : t.level, battery_status: t != null && t.charging ? 1 : 0, font_scale: TE(), network_type: _E(), permissions: await DE(), log: QE(), browser_height: S0().height, browser_width: S0().width, cookies_enabled: OE(), is_mobile: LE(), cpu_arch: ((a = s.getCPU()) == null ? void 0 : a.architecture) ?? "", app_version: "1.0", tags: e, fullstory_session: RE() };
}
function FE() {
  const s = navigator.userAgent;
  return s.match(/Android/i) ? "Android Device" : s.match(/iPhone|iPad|iPod/i) ? "iOS Device" : s.match(/Windows Phone/i) ? "Windows Phone" : s.match(/Windows/i) ? "Windows PC" : s.match(/Macintosh|Mac OS/i) ? "Macintosh" : s.match(/Linux/i) ? "Linux PC" : null;
}
const QE = () => {
  const s = {}, t = [], e = [], A = [], r = [], n = [], i = [];
  return (Ys.sort((a, c) => a.timestamp == c.timestamp ? 0 : a.timestamp > c.timestamp ? 1 : -1), Ys).forEach((a) => {
    switch (a.event_type) {
      case Se.CONSOLE_LOG:
        t.push(a);
        break;
      case Se.CUSTOM_LOG:
        e.push(a);
        break;
      case Se.NETWORK_REQUEST:
        A.push(a);
        break;
      case Se.SYSTEM_EVENT:
        n.push(a);
        break;
      case Se.USER_ACTION:
        r.push(a);
        break;
      case Se.VIEW_CONTROLLER:
        i.push(a);
    }
  }), it.report.isConsoleLogsEnabled && (s.console_log_events = t), it.report.isCustomLogsEnabled && (s.custom_log_events = e), it.report.isNetworkRequestsEnabled && (s.network_requests = A), it.report.isUserActionsEnabled && (s.user_taps = r), it.report.isSystemEventsEnabled && (s.system_events = n), it.report.isScreenChangesEnabled && (s.view_controller_history = i), s;
};
function x0() {
  return { width: window.screen.width, height: window.screen.height };
}
function S0() {
  return { width: window.innerWidth || document.documentElement.clientWidth, height: window.innerHeight || document.documentElement.clientHeight };
}
function UE() {
  const s = window.screen.orientation;
  return s ? s.type.toLocaleLowerCase().includes("landscape-primary") ? 0 : s.type.toLocaleLowerCase().includes("landscape-secondary") ? 180 : s.type.toLocaleLowerCase().includes("portrait-primary") ? 90 : s.type.toLocaleLowerCase().includes("portrait-secondary") ? 270 : null : null;
}
const IE = async () => {
  if (!("getBattery" in navigator)) return null;
  try {
    return await navigator.getBattery();
  } catch {
    return null;
  }
}, TE = () => {
  const s = document.createElement("div");
  s.style.fontSize = "1rem", document.body.appendChild(s);
  const t = window.getComputedStyle(s), e = t.getPropertyValue("font-size") ? parseFloat(t.getPropertyValue("font-size")) : null;
  return document.body.removeChild(s), e;
}, _E = () => {
  const s = "onLine" in navigator && navigator.onLine || !1;
  return "connection" in navigator && s && navigator.connection.effectiveType || null;
}, OE = () => "cookieEnabled" in navigator && navigator.cookieEnabled || null, LE = () => {
  var s;
  return "userAgentData" in navigator ? (s = navigator.userAgentData) == null ? void 0 : s.mobile : null;
};
async function ME(s) {
  try {
    return await navigator.permissions.query({ name: s });
  } catch (t) {
    return t.message, null;
  }
}
async function DE() {
  const s = [];
  for (const t of LC) try {
    const e = await ME(t);
    e && e.state && e.state === "granted" && s.push({ name: t, state: e.state });
  } catch (e) {
    e.message;
  }
  return s;
}
function RE() {
  const s = localStorage.getItem("_fs_uid");
  if (s) return s;
  {
    const t = document.cookie.split("; ").find((e) => e.startsWith("fs_uid="));
    if (t) return t.split("=")[1];
  }
  return null;
}
const fc = async (s = null, t = null, e = !0) => {
  if (gB()) try {
    jt.isShakeOpened = !0, N.sessionReplay.stop(), sB(), hr(), (async () => {
      const n = N.shakeService, i = await n.getUser();
      i && i.userId && await n.sendFailedReadReceipts(i.userId);
    })(), PE();
    let A = Cu();
    if (!A) {
      if (e && it.report.screenshotIncluded) {
        const n = Mw();
        document.body.appendChild(n), await xu(100), await N.screenshotManager.captureScreenshot(), n.remove();
      }
      A = await ld(), Lw(A);
    }
    const r = LA();
    bi(r, s, t);
  } catch {
    jt.isShakeOpened = !1;
  }
}, gB = () => !jt.isShakeOpened && !jt.isVideoRecordingMode && !jt.isScreensotCaptureMode, bi = (s, t = null, e = null) => {
  jt.isShakeOpened = !0;
  const { root: A, shadow: r } = (() => {
    const o = document.createElement("input");
    o.type = "file", o.id = "fileInput", o.style.content = "display: none", o.addEventListener("change", (l) => {
      var u;
      const h = l.target, d = (u = h == null ? void 0 : h.files) == null ? void 0 : u[0];
      d && dB(d), o.value = "";
    });
    const a = document.createElement("div");
    a.setAttribute("data-html2canvas-ignore", "true"), a.appendChild(o), a.id = Ls;
    const c = a.attachShadow({ mode: "open" });
    return os(c), { root: a, shadow: c };
  })();
  document.body.appendChild(A);
  const n = (() => {
    const o = z();
    return o.id = tp, o;
  })();
  r.appendChild(n);
  const i = ((o, a, c) => {
    const l = it.config.isAttachmentsEnabled(), h = lE(o), d = z();
    d.classList.add("shake-sdk-content-left"), l && d.appendChild(h);
    const u = BE(a, c), p = z();
    p.classList.add("shake-sdk-content-right"), p.appendChild(u);
    const g = z();
    return g.id = "shake-sdk-content", g.appendChild(d), g.appendChild(p), g;
  })(s, t, e);
  n.appendChild(i), document.addEventListener("keydown", lB, !0), document.addEventListener("keypress", pc, !0), document.addEventListener("keyup", pc, !0), (() => {
    if (Pc()) {
      const o = document.getElementsByTagName("body")[0];
      id = o.style.overflow, o.style.overflow = "hidden";
    }
  })();
};
class mc extends HTMLElement {
  constructor() {
    super(...arguments);
    b(this, "onTicketsChanged", () => {
    });
  }
  connectedCallback() {
    const e = De("");
    e.alt = "Send feedback icon", e.classList.add("shake-sdk-floating-button-icon-left");
    const A = De("");
    A.alt = "Send feedback icon", A.classList.add("shake-sdk-floating-button-icon-right");
    const r = Ow(Y().shake_sdk_main_button_title);
    r.classList.add("shake-sdk-floating-button-text");
    const n = De(Ti);
    n.classList.add("shake-sdk-floating-button-notification");
    const i = document.createElement("div");
    i.classList.add("shake-sdk-floating-button-inner-div"), i.appendChild(e), i.appendChild(r), i.appendChild(A), i.appendChild(n);
    const o = document.createElement("div");
    o.classList.add("shake-sdk-floating-button-outter-div"), o.appendChild(i);
    const a = document.createElement("div");
    a.classList.add("shake-sdk-floating-button"), a.appendChild(o), a.addEventListener("mousedown", (l) => {
      l.stopPropagation(), l.preventDefault(), fc();
    }), this.setAttribute("data-html2canvas-ignore", "true"), this.onTicketsChanged = async () => {
      const l = N.shakeService, h = (await l.getTickets()).filter((d) => !d.read).length > 0;
      n.style.visibility = h ? "visible" : "hidden";
    };
    const c = this.attachShadow({ mode: "open" });
    os(c), c.appendChild(a), Us.addObserver(this.onTicketsChanged);
  }
  disconnectedCallback() {
    Us.removeObserver(this.onTicketsChanged);
  }
}
b(mc, "name", "shake-sdk-button");
customElements.define(mc.name, mc);
const HE = () => {
  var t, e;
  const s = (e = (t = document.getElementById(wc)) == null ? void 0 : t.shadowRoot) == null ? void 0 : e.firstChild;
  s && (s.style.transition = "transform 0.3s ease", s.style.transform = "translateX(0) rotate(-90deg)");
}, PE = () => {
  var t, e;
  const s = (e = (t = document.getElementById(wc)) == null ? void 0 : t.shadowRoot) == null ? void 0 : e.firstChild;
  s && (s.style.transition = "transform 0.3s ease", s.style.transform = "translateX(150px) rotate(-90deg)");
}, wc = "shake-sdk-main-button";
class jt {
  constructor() {
    b(this, "_language", Ma.EN);
    b(this, "_defaultScreen", gA.NEW_TICKET);
    b(this, "_floatingButtonEnabled", !0);
    b(this, "_floatingButtonStyle", lu.JUPITER);
    b(this, "_shakeForm", DC());
    b(this, "_networkRequestsFilter", null);
    b(this, "_sensitiveDataRedaction", !0);
    b(this, "isAttachmentsEnabled", () => {
      var t;
      return !!((t = this.shakeForm) != null && t.items.find((e) => e.key === dA.attachments));
    });
  }
  get language() {
    return this._language;
  }
  set language(t) {
    this._language = t;
  }
  get defaultScreen() {
    return this._defaultScreen;
  }
  set defaultScreen(t) {
    this._defaultScreen = t;
  }
  get floatingButtonEnabled() {
    return this._floatingButtonEnabled;
  }
  set floatingButtonEnabled(t) {
    this._floatingButtonEnabled = t, fB();
  }
  get floatingButtonStyle() {
    return this._floatingButtonStyle;
  }
  set floatingButtonStyle(t) {
    this._floatingButtonStyle = t, KE();
  }
  get shakeForm() {
    return this._shakeForm;
  }
  set shakeForm(t) {
    t = NE(t), this._shakeForm = t;
  }
  get networkRequestsFilter() {
    return this._networkRequestsFilter;
  }
  set networkRequestsFilter(t) {
    this._networkRequestsFilter = t;
  }
  get sensitiveDataRedaction() {
    return this._sensitiveDataRedaction;
  }
  set sensitiveDataRedaction(t) {
    this._sensitiveDataRedaction = t;
  }
}
b(jt, "isShakeOpened", !1), b(jt, "isScreensotCaptureMode", !1), b(jt, "isVideoRecordingMode", !1);
const fB = () => {
  if (re.localStorage.isSDKEnabled()) if (it.config.floatingButtonEnabled) {
    const s = document.createElement(mc.name);
    s.id = wc, document.body.appendChild(s);
  } else {
    const s = document.getElementById(wc);
    s == null || s.remove();
  }
}, KE = () => {
  const s = "shake-sdk-floating-button-theme";
  Object.values(lu).forEach((t) => {
    document.documentElement.classList.remove(`${s}-${t}`);
  }), document.documentElement.classList.add(`${s}-${it.config.floatingButtonStyle}`);
}, NE = (s) => {
  let t = !1, e = !1;
  return s.items = s.items.filter((A) => A instanceof Fc ? !t && (t = !0) : !(A instanceof cu) || !e && (e = !0)), s;
};
class jE {
  constructor() {
    b(this, "onCaptureEvent", null);
    b(this, "funcLog", console.log);
    b(this, "funcError", console.error);
    b(this, "funcWarn", console.warn);
    b(this, "funcInfo", console.info);
    b(this, "funcDebug", console.debug);
    b(this, "funcTrace", console.trace);
    b(this, "setOnCaptureEvent", (t) => {
      this.onCaptureEvent = t;
    });
    b(this, "start", () => {
      console.log = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "verbose", data: t }), this.funcLog(...t);
      }, console.error = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "error", data: t }), this.funcError(...t);
      }, console.warn = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "warning", data: t }), this.funcWarn(...t);
      }, console.info = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "info", data: t }), this.funcInfo(...t);
      }, console.debug = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "debug", data: t }), this.funcDebug(...t);
      }, console.trace = (...t) => {
        var e;
        (e = this.onCaptureEvent) == null || e.call(this, { type: "debug", data: t }), this.funcTrace(...t);
      };
    });
    b(this, "stop", () => {
      console.log = this.funcLog, console.error = this.funcError, console.warn = this.funcWarn, console.info = this.funcInfo, console.debug = this.funcDebug, console.trace = this.funcTrace;
    });
  }
}
class VE {
  constructor() {
    b(this, "consoleInterceptor", new jE());
    b(this, "start", () => {
      it.isExtension || this.consoleInterceptor.start();
    });
    b(this, "stop", () => {
      it.isExtension || this.consoleInterceptor.stop();
    });
    b(this, "captureEvent", (t) => {
      if (!it.report.isConsoleLogsEnabled || jt.isShakeOpened) return;
      const e = this.serializeLog(t.data), A = Da(e, 5e3), r = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), message: A, event_type: Se.CONSOLE_LOG, type: t.type };
      Es(r);
    });
    b(this, "serializeLog", (t) => t == null ? void 0 : t.map((e) => e === null ? "null" : e === void 0 ? "undefined" : typeof e == "object" ? JSON.stringify(e) : String(e)).join(" "));
    this.consoleInterceptor.setOnCaptureEvent(this.captureEvent);
  }
}
class GE {
  constructor() {
    b(this, "captureEvent", async (t, e) => {
      if (!it.report.isCustomLogsEnabled || jt.isShakeOpened) return;
      const A = e.toString(), r = Da(A, 5e3), n = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), level: t, message: r, event_type: Se.CUSTOM_LOG };
      Es(n);
    });
  }
}
class WE {
  constructor() {
    b(this, "originalFetch", window.fetch);
    b(this, "onCaptureEvent", null);
    b(this, "isInterceptorEnabled", !1);
    b(this, "setOnCaptureEvent", (t) => {
      this.onCaptureEvent = t;
    });
    b(this, "enable", () => {
      this.isInterceptorEnabled || (this.isInterceptorEnabled = !0, this.originalFetch = window.fetch.bind(window), window.fetch = async (t, e) => {
        var c, l, h;
        const A = t instanceof URL ? t.href : typeof t == "string" ? t : t.url, r = (e == null ? void 0 : e.method) || (t instanceof Request ? t.method : "GET"), n = YE(e == null ? void 0 : e.body), i = JE(t, e), o = (/* @__PURE__ */ new Date()).toISOString().replace("Z", "000+0000"), a = Date.now();
        try {
          const d = e ? await this.originalFetch(t, e) : await this.originalFetch(t), u = d.clone(), p = await XE(u), g = zE(u), m = { method: r, status_code: d.status.toString(), url: A, request_body: n, request_headers: i, response_body: p, response_headers: g, duration: Date.now() - a, start: a, timestamp: o };
          return (c = this.onCaptureEvent) == null || c.call(this, m), d;
        } catch (d) {
          if (d.name === "AbortError") {
            const u = { method: r, status_code: "err", url: A, request_body: n, request_headers: i, response_body: "Request aborted.", response_headers: {}, duration: Date.now() - a, start: a, timestamp: o };
            (l = this.onCaptureEvent) == null || l.call(this, u);
          } else {
            const u = { method: r, status_code: "err", url: A, request_body: n, request_headers: i, response_body: "Request error.", response_headers: {}, duration: Date.now() - a, start: a, timestamp: o };
            (h = this.onCaptureEvent) == null || h.call(this, u);
          }
          throw d;
        }
      });
    });
    b(this, "disable", () => {
      this.isInterceptorEnabled && (this.isInterceptorEnabled = !1, window.fetch = this.originalFetch.bind(window));
    });
  }
}
const YE = (s) => {
  if (!s) return "";
  if (typeof s == "string") return Ra(s) ? "Binary data" : s;
  if (s instanceof URLSearchParams) return s.toString();
  if (s instanceof FormData) {
    const t = {};
    return s.forEach((e, A) => t[A] = e.toString()), JSON.stringify(t);
  }
  if (s instanceof Blob || s instanceof ArrayBuffer) return "Binary data";
  try {
    return JSON.stringify(s);
  } catch {
    return s.toString();
  }
}, JE = (s, t) => {
  const e = {};
  return s instanceof Request && s.headers.forEach((A, r) => e[r] = A), t != null && t.headers && new Headers(t.headers).forEach((A, r) => e[r] = A), e;
}, XE = async (s) => {
  let t = "";
  if (!s.bodyUsed) try {
    t = await s.text(), Ra(t) && (t = "Binary data");
  } catch {
  }
  return t;
}, zE = (s) => {
  const t = {};
  return s.headers.forEach((e, A) => t[A] = e), t;
}, JA = window.XMLHttpRequest, E0 = JA.prototype.open, F0 = JA.prototype.send, Q0 = JA.prototype.setRequestHeader;
let zl, js = !1, gn = { url: "", method: "", request_body: "", response_body: "", request_headers: {}, response_headers: {}, status_code: "", timestamp: "", start: 0, duration: 0 };
const Zl = { setOnCaptureEvent(s) {
  zl = s;
}, enableInterceptor() {
  JA.prototype.open = function(s, t) {
    gn = { url: "", method: "", request_body: "", response_body: "", request_headers: {}, response_headers: {}, status_code: "", timestamp: "", start: 0, duration: 0 }, gn.url = t.toString(), gn.method = s, E0.call(this, s, t);
  }, JA.prototype.setRequestHeader = function(s, t) {
    gn.request_headers[s] = String(t), Q0.call(this, s, t);
  }, JA.prototype.send = function(s) {
    let t;
    t = typeof s != "string" ? s ? JSON.stringify(s) : "" : s, Ra(t) && (t = "Binary data");
    const e = /* @__PURE__ */ new Date();
    let A = e.toISOString();
    A = A.replace("Z", "000+0000");
    const r = JSON.parse(JSON.stringify(gn));
    r.start = e.getTime(), r.timestamp = A, r.request_body = t || "", this.addEventListener && (this.addEventListener("readystatechange", async () => {
      js && this.readyState === this.HEADERS_RECEIVED && this.getAllResponseHeaders() && (r.response_headers = ZE(this.getAllResponseHeaders()));
    }, !1), this.addEventListener("load", async () => {
      if (!js) return;
      let i = await new Response(this.response).text();
      Ra(i) && (i = "Binary data"), r.duration = Date.now() - r.start, r.response_body = i || "", r.status_code = this.status ? this.status.toString() : "n/a", n(r);
    }, !1), this.addEventListener("error", () => {
      js && (r.duration = Date.now() - r.start, r.response_body = "Request error.", r.status_code = "err", n(r));
    }, !1), this.addEventListener("abort", () => {
      js && (r.duration = Date.now() - r.start, r.response_body = "Request aborted.", r.status_code = "err", n(r));
    }, !1), this.addEventListener("timeout", () => {
      js && (r.duration = Date.now() - r.start, r.response_body = "Request timeout.", r.status_code = "t/o", n(r));
    }, !1));
    const n = (i) => {
      i.method || (i.method = ""), i.status_code || (i.status_code = ""), zl && zl(i);
    };
    F0.call(this, s);
  }, js = !0;
}, disableInterceptor() {
  js = !1, JA.prototype.send = F0, JA.prototype.open = E0, JA.prototype.setRequestHeader = Q0;
} }, ZE = (s) => {
  const t = {};
  try {
    s && s.split(`\r
`).forEach((e) => {
      if (e) {
        const A = e.split(/:(.+)/), r = String(A == null ? void 0 : A[0]);
        t[r] = String(A == null ? void 0 : A[1]);
      }
    });
  } catch {
  }
  return t;
}, EA = /* @__PURE__ */ new Map();
EA.set("Email address regex", /[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]{2,}/), EA.set("IPv4 Address regex", /\d{1,3}[.]\d{1,3}[.]\d{1,3}[.]\d{1,3}/), EA.set("Mastercard number regex", /(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}/), EA.set("Visa numbers regex", /\b([4]\d{3}[\s]\d{4}[\s]\d{4}[\s]\d{4}|[4]\d{3}[-]\d{4}[-]\d{4}[-]\d{4}|[4]\d{3}[.]\d{4}[.]\d{4}[.]\d{4}|[4]\d{3}\d{4}\d{4}\d{4})\b/), EA.set("American express number regex", /3[47][0-9]{13}/), EA.set("Credit card number regex", /\b(3[47]\d{2}([ -]?)(?!(\d)\3{5}|123456|234567|345678)\d{6}\2(?!(\d)\4{4})\d{5}|((4\d|5[1-5]|65)\d{2}|6011)([ -]?)(?!(\d)\8{3}|1234|3456|5678)\d{4}\7(?!(\d)\9{3})\d{4}\7\d{4})\b/), EA.set("Bearer token regex", /Bearer\s[A-Za-z0-9-.]*/);
const U0 = ["password", "secret", "passwd", "api_key", "apikey", "access_token", "auth_token", "credentials", "mysql_pwd", "stripetoken", "Authorization", "Proxy-Authorization", "card[number]", "token"], GA = "data_redacted";
class qE {
  constructor() {
    b(this, "fetchInterceptor", new WE());
    b(this, "start", () => {
      it.isExtension || (Zl.enableInterceptor(), this.fetchInterceptor.enable());
    });
    b(this, "stop", () => {
      it.isExtension || (Zl.disableInterceptor(), this.fetchInterceptor.disable());
    });
    b(this, "captureEvent", (t) => {
      if (!it.report.isNetworkRequestsEnabled || jt.isShakeOpened) return;
      const e = { url: t.url, method: t.method, request_body: t.request_body, response_body: t.response_body, request_headers: t.request_headers, response_headers: t.response_headers, status_code: t.status_code, timestamp: t.timestamp, start: t.start, duration: t.duration, event_type: Se.NETWORK_REQUEST };
      let A = e;
      this.cutRequestData(A), it.config.sensitiveDataRedaction && ((r) => {
        const n = new Map(Object.entries(r.request_headers)), i = new Map(Object.entries(r.response_headers));
        U0.forEach((c) => {
          const l = c.toLowerCase();
          for (const [h] of n.entries()) h.toLowerCase() === l && n.set(h, GA);
          for (const [h] of i.entries()) h.toLowerCase() === l && i.set(h, GA);
        }), EA.forEach((c) => {
          n.forEach((l, h) => {
            n.set(h, l.replace(c, GA));
          }), i.forEach((l, h) => {
            i.set(h, l.replace(c, GA));
          });
        }), r.request_headers = Object.fromEntries(n), r.response_headers = Object.fromEntries(i);
        let o = r.request_body, a = r.response_body;
        U0.forEach((c) => {
          const l = new RegExp(`("${c.replace("[", "\\[").replace("]", "\\]")}":\\s*")[^"]*(")`, "gi");
          a = a.replace(l, `$1${GA}$2`), o = o.replace(l, `$1${GA}$2`);
        }), EA.forEach((c) => {
          a = a.replace(c, GA), o = o.replace(c, GA);
        }), r.request_body = o, r.response_body = a;
      })(A), it.config.networkRequestsFilter && (A = it.config.networkRequestsFilter(A)), A && Es(e);
    });
    b(this, "cutRequestData", (t) => {
      t.request_body = Da(t.request_body, 1e8), t.response_body = Da(t.response_body, 1e8);
    });
    Zl.setOnCaptureEvent(this.captureEvent), this.fetchInterceptor.setOnCaptureEvent(this.captureEvent);
  }
}
var mB, hd = { exports: {} }, Jr = typeof Reflect == "object" ? Reflect : null, I0 = Jr && typeof Jr.apply == "function" ? Jr.apply : function(s, t, e) {
  return Function.prototype.apply.call(s, t, e);
};
mB = Jr && typeof Jr.ownKeys == "function" ? Jr.ownKeys : Object.getOwnPropertySymbols ? function(s) {
  return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s));
} : function(s) {
  return Object.getOwnPropertyNames(s);
};
var T0 = Number.isNaN || function(s) {
  return s != s;
};
function Tt() {
  Tt.init.call(this);
}
hd.exports = Tt, hd.exports.once = function(s, t) {
  return new Promise(function(e, A) {
    function r(i) {
      s.removeListener(t, n), A(i);
    }
    function n() {
      typeof s.removeListener == "function" && s.removeListener("error", r), e([].slice.call(arguments));
    }
    R0(s, t, n, { once: !0 }), t !== "error" && function(i, o, a) {
      typeof i.on == "function" && R0(i, "error", o, a);
    }(s, r, { once: !0 });
  });
}, Tt.EventEmitter = Tt, Tt.prototype._events = void 0, Tt.prototype._eventsCount = 0, Tt.prototype._maxListeners = void 0;
var _0 = 10;
function da(s) {
  if (typeof s != "function") throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof s);
}
function wB(s) {
  return s._maxListeners === void 0 ? Tt.defaultMaxListeners : s._maxListeners;
}
function O0(s, t, e, A) {
  var r, n, i;
  if (da(e), (n = s._events) === void 0 ? (n = s._events = /* @__PURE__ */ Object.create(null), s._eventsCount = 0) : (n.newListener !== void 0 && (s.emit("newListener", t, e.listener ? e.listener : e), n = s._events), i = n[t]), i === void 0) i = n[t] = e, ++s._eventsCount;
  else if (typeof i == "function" ? i = n[t] = A ? [e, i] : [i, e] : A ? i.unshift(e) : i.push(e), (r = wB(s)) > 0 && i.length > r && !i.warned) {
    i.warned = !0;
    var o = new Error("Possible EventEmitter memory leak detected. " + i.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    o.name = "MaxListenersExceededWarning", o.emitter = s, o.type = t, o.count = i.length, function(a) {
      console && console.warn && console.warn(a);
    }(o);
  }
  return s;
}
function $E() {
  if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function L0(s, t, e) {
  var A = { fired: !1, wrapFn: void 0, target: s, type: t, listener: e }, r = $E.bind(A);
  return r.listener = e, A.wrapFn = r, r;
}
function M0(s, t, e) {
  var A = s._events;
  if (A === void 0) return [];
  var r = A[t];
  return r === void 0 ? [] : typeof r == "function" ? e ? [r.listener || r] : [r] : e ? function(n) {
    for (var i = new Array(n.length), o = 0; o < i.length; ++o) i[o] = n[o].listener || n[o];
    return i;
  }(r) : BB(r, r.length);
}
function D0(s) {
  var t = this._events;
  if (t !== void 0) {
    var e = t[s];
    if (typeof e == "function") return 1;
    if (e !== void 0) return e.length;
  }
  return 0;
}
function BB(s, t) {
  for (var e = new Array(t), A = 0; A < t; ++A) e[A] = s[A];
  return e;
}
function R0(s, t, e, A) {
  if (typeof s.on == "function") A.once ? s.once(t, e) : s.on(t, e);
  else {
    if (typeof s.addEventListener != "function") throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof s);
    s.addEventListener(t, function r(n) {
      A.once && s.removeEventListener(t, r), e(n);
    });
  }
}
Object.defineProperty(Tt, "defaultMaxListeners", { enumerable: !0, get: function() {
  return _0;
}, set: function(s) {
  if (typeof s != "number" || s < 0 || T0(s)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + s + ".");
  _0 = s;
} }), Tt.init = function() {
  this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
}, Tt.prototype.setMaxListeners = function(s) {
  if (typeof s != "number" || s < 0 || T0(s)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + s + ".");
  return this._maxListeners = s, this;
}, Tt.prototype.getMaxListeners = function() {
  return wB(this);
}, Tt.prototype.emit = function(s) {
  for (var t = [], e = 1; e < arguments.length; e++) t.push(arguments[e]);
  var A = s === "error", r = this._events;
  if (r !== void 0) A = A && r.error === void 0;
  else if (!A) return !1;
  if (A) {
    var n;
    if (t.length > 0 && (n = t[0]), n instanceof Error) throw n;
    var i = new Error("Unhandled error." + (n ? " (" + n.message + ")" : ""));
    throw i.context = n, i;
  }
  var o = r[s];
  if (o === void 0) return !1;
  if (typeof o == "function") I0(o, this, t);
  else {
    var a = o.length, c = BB(o, a);
    for (e = 0; e < a; ++e) I0(c[e], this, t);
  }
  return !0;
}, Tt.prototype.addListener = function(s, t) {
  return O0(this, s, t, !1);
}, Tt.prototype.on = Tt.prototype.addListener, Tt.prototype.prependListener = function(s, t) {
  return O0(this, s, t, !0);
}, Tt.prototype.once = function(s, t) {
  return da(t), this.on(s, L0(this, s, t)), this;
}, Tt.prototype.prependOnceListener = function(s, t) {
  return da(t), this.prependListener(s, L0(this, s, t)), this;
}, Tt.prototype.removeListener = function(s, t) {
  var e, A, r, n, i;
  if (da(t), (A = this._events) === void 0) return this;
  if ((e = A[s]) === void 0) return this;
  if (e === t || e.listener === t) --this._eventsCount == 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete A[s], A.removeListener && this.emit("removeListener", s, e.listener || t));
  else if (typeof e != "function") {
    for (r = -1, n = e.length - 1; n >= 0; n--) if (e[n] === t || e[n].listener === t) {
      i = e[n].listener, r = n;
      break;
    }
    if (r < 0) return this;
    r === 0 ? e.shift() : function(o, a) {
      for (; a + 1 < o.length; a++) o[a] = o[a + 1];
      o.pop();
    }(e, r), e.length === 1 && (A[s] = e[0]), A.removeListener !== void 0 && this.emit("removeListener", s, i || t);
  }
  return this;
}, Tt.prototype.off = Tt.prototype.removeListener, Tt.prototype.removeAllListeners = function(s) {
  var t, e, A;
  if ((e = this._events) === void 0) return this;
  if (e.removeListener === void 0) return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : e[s] !== void 0 && (--this._eventsCount == 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete e[s]), this;
  if (arguments.length === 0) {
    var r, n = Object.keys(e);
    for (A = 0; A < n.length; ++A) (r = n[A]) !== "removeListener" && this.removeAllListeners(r);
    return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
  }
  if (typeof (t = e[s]) == "function") this.removeListener(s, t);
  else if (t !== void 0) for (A = t.length - 1; A >= 0; A--) this.removeListener(s, t[A]);
  return this;
}, Tt.prototype.listeners = function(s) {
  return M0(this, s, !0);
}, Tt.prototype.rawListeners = function(s) {
  return M0(this, s, !1);
}, Tt.listenerCount = function(s, t) {
  return typeof s.listenerCount == "function" ? s.listenerCount(t) : D0.call(s, t);
}, Tt.prototype.listenerCount = D0, Tt.prototype.eventNames = function() {
  return this._eventsCount > 0 ? mB(this._events) : [];
};
const tF = xE(hd.exports), yB = new class extends tF {
}();
let H0;
setInterval(() => {
  let s = window.location.href;
  s != H0 && (yB.emit("change", s), H0 = s);
}, 60);
var P0 = yB;
class eF {
  constructor() {
    b(this, "listener", (t) => {
      this.captureEvent(t);
    });
    b(this, "start", () => {
      P0.on("change", this.listener);
    });
    b(this, "stop", () => {
      P0.off("change", this.listener);
    });
    b(this, "captureEvent", (t) => {
      if (!it.report.isScreenChangesEnabled || jt.isShakeOpened) return;
      const e = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), view_controller: t, method: "onStart", event_type: Se.VIEW_CONTROLLER };
      Es(e);
    });
  }
}
var K0, AF = Object.defineProperty, V = (s, t, e) => ((A, r, n) => r in A ? AF(A, r, { enumerable: !0, configurable: !0, writable: !0, value: n }) : A[r] = n)(s, typeof t != "symbol" ? t + "" : t, e), sF = Object.defineProperty, N0 = (s, t, e) => ((A, r, n) => r in A ? sF(A, r, { enumerable: !0, configurable: !0, writable: !0, value: n }) : A[r] = n)(s, typeof t != "symbol" ? t + "" : t, e), ie = ((s) => (s[s.Document = 0] = "Document", s[s.DocumentType = 1] = "DocumentType", s[s.Element = 2] = "Element", s[s.Text = 3] = "Text", s[s.CDATA = 4] = "CDATA", s[s.Comment = 5] = "Comment", s))(ie || {});
const j0 = { Node: ["childNodes", "parentNode", "parentElement", "textContent"], ShadowRoot: ["host", "styleSheets"], Element: ["shadowRoot", "querySelector", "querySelectorAll"], MutationObserver: [] }, V0 = { Node: ["contains", "getRootNode"], ShadowRoot: ["getSelection"], Element: [], MutationObserver: ["constructor"] }, vo = {};
function ep(s) {
  if (vo[s]) return vo[s];
  const t = globalThis[s], e = t.prototype, A = s in j0 ? j0[s] : void 0, r = !!(A && A.every((o) => {
    var a, c;
    return !!((c = (a = Object.getOwnPropertyDescriptor(e, o)) == null ? void 0 : a.get) != null && c.toString().includes("[native code]"));
  })), n = s in V0 ? V0[s] : void 0, i = !!(n && n.every((o) => {
    var a;
    return typeof e[o] == "function" && ((a = e[o]) == null ? void 0 : a.toString().includes("[native code]"));
  }));
  if (r && i) return vo[s] = t.prototype, t.prototype;
  try {
    const o = document.createElement("iframe");
    document.body.appendChild(o);
    const a = o.contentWindow;
    if (!a) return t.prototype;
    const c = a[s].prototype;
    return document.body.removeChild(o), c ? vo[s] = c : e;
  } catch {
    return e;
  }
}
const ql = {};
function ds(s, t, e) {
  var A;
  const r = `${s}.${String(e)}`;
  if (ql[r]) return ql[r].call(t);
  const n = ep(s), i = (A = Object.getOwnPropertyDescriptor(n, e)) == null ? void 0 : A.get;
  return i ? (ql[r] = i, i.call(t)) : t[e];
}
const $l = {};
function G0(s, t, e) {
  const A = `${s}.${String(e)}`;
  if ($l[A]) return $l[A].bind(t);
  const r = ep(s)[e];
  return typeof r != "function" ? t[e] : ($l[A] = r, r.bind(t));
}
const fe = { childNodes: function(s) {
  return ds("Node", s, "childNodes");
}, parentNode: function(s) {
  return ds("Node", s, "parentNode");
}, parentElement: function(s) {
  return ds("Node", s, "parentElement");
}, textContent: function(s) {
  return ds("Node", s, "textContent");
}, contains: function(s, t) {
  return G0("Node", s, "contains")(t);
}, getRootNode: function(s) {
  return G0("Node", s, "getRootNode")();
}, host: function(s) {
  return s && "host" in s ? ds("ShadowRoot", s, "host") : null;
}, styleSheets: function(s) {
  return s.styleSheets;
}, shadowRoot: function(s) {
  return s && "shadowRoot" in s ? ds("Element", s, "shadowRoot") : null;
}, querySelector: function(s, t) {
  return ds("Element", s, "querySelector")(t);
}, querySelectorAll: function(s, t) {
  return ds("Element", s, "querySelectorAll")(t);
}, mutationObserver: function() {
  return ep("MutationObserver").constructor;
} };
function CB(s) {
  return s.nodeType === s.ELEMENT_NODE;
}
function ci(s) {
  const t = s && "host" in s && "mode" in s && fe.host(s) || null;
  return !!(t && "shadowRoot" in t && fe.shadowRoot(t) === s);
}
function li(s) {
  return Object.prototype.toString.call(s) === "[object ShadowRoot]";
}
function ua(s) {
  try {
    const e = s.rules || s.cssRules;
    return e ? ((t = Array.from(e, (r) => bB(r, s.href)).join("")).includes(" background-clip: text;") && !t.includes(" -webkit-background-clip: text;") && (t = t.replace(/\sbackground-clip:\s*text;/g, " -webkit-background-clip: text; background-clip: text;")), t) : null;
  } catch {
    return null;
  }
  var t;
}
function bB(s, t) {
  if (function(e) {
    return "styleSheet" in e;
  }(s)) {
    let e;
    try {
      e = ua(s.styleSheet) || function(A) {
        const { cssText: r } = A;
        if (r.split('"').length < 3) return r;
        const n = ["@import", `url(${JSON.stringify(A.href)})`];
        return A.layerName === "" ? n.push("layer") : A.layerName && n.push(`layer(${A.layerName})`), A.supportsText && n.push(`supports(${A.supportsText})`), A.media.length && n.push(A.media.mediaText), n.join(" ") + ";";
      }(s);
    } catch {
      e = s.cssText;
    }
    return s.styleSheet.href ? Bc(e, s.styleSheet.href) : e;
  }
  {
    let e = s.cssText;
    return function(A) {
      return "selectorText" in A;
    }(s) && s.selectorText.includes(":") && (e = function(A) {
      const r = /(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;
      return A.replace(r, "$1\\$2");
    }(e)), t ? Bc(e, t) : e;
  }
}
class vB {
  constructor() {
    N0(this, "idNodeMap", /* @__PURE__ */ new Map()), N0(this, "nodeMetaMap", /* @__PURE__ */ new WeakMap());
  }
  getId(t) {
    var e;
    return t ? ((e = this.getMeta(t)) == null ? void 0 : e.id) ?? -1 : -1;
  }
  getNode(t) {
    return this.idNodeMap.get(t) || null;
  }
  getIds() {
    return Array.from(this.idNodeMap.keys());
  }
  getMeta(t) {
    return this.nodeMetaMap.get(t) || null;
  }
  removeNodeFromMap(t) {
    const e = this.getId(t);
    this.idNodeMap.delete(e), t.childNodes && t.childNodes.forEach((A) => this.removeNodeFromMap(A));
  }
  has(t) {
    return this.idNodeMap.has(t);
  }
  hasNode(t) {
    return this.nodeMetaMap.has(t);
  }
  add(t, e) {
    const A = e.id;
    this.idNodeMap.set(A, t), this.nodeMetaMap.set(t, e);
  }
  replace(t, e) {
    const A = this.getNode(t);
    if (A) {
      const r = this.nodeMetaMap.get(A);
      r && this.nodeMetaMap.set(e, r);
    }
    this.idNodeMap.set(t, e);
  }
  reset() {
    this.idNodeMap = /* @__PURE__ */ new Map(), this.nodeMetaMap = /* @__PURE__ */ new WeakMap();
  }
}
function Ap({ element: s, maskInputOptions: t, tagName: e, type: A, value: r, maskInputFn: n }) {
  let i = r || "";
  const o = A && or(A);
  return (t[e.toLowerCase()] || o && t[o]) && (i = n ? n(i, s) : "*".repeat(i.length)), i;
}
function or(s) {
  return s.toLowerCase();
}
const W0 = "__rrweb_original__";
function sp(s) {
  const t = s.type;
  return s.hasAttribute("data-rr-is-password") ? "password" : t ? or(t) : null;
}
function Y0(s, t) {
  let e;
  try {
    e = new URL(s, t ?? window.location.href);
  } catch {
    return null;
  }
  const A = e.pathname.match(/\.([0-9a-z]+)(?:$)/i);
  return (A == null ? void 0 : A[1]) ?? null;
}
const rF = /url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm, nF = /^(?:[a-z+]+:)?\/\//i, iF = /^www\..*/i, oF = /^(data:)([^,]*),(.*)/i;
function Bc(s, t) {
  return (s || "").replace(rF, (e, A, r, n, i, o) => {
    const a = r || i || o, c = A || n || "";
    if (!a) return e;
    if (nF.test(a) || iF.test(a)) return `url(${c}${a}${c})`;
    if (oF.test(a)) return `url(${c}${a}${c})`;
    if (a[0] === "/") return `url(${c}${function(d) {
      let u = "";
      return u = d.indexOf("//") > -1 ? d.split("/").slice(0, 3).join("/") : d.split("/")[0], u = u.split("?")[0], u;
    }(t) + a}${c})`;
    const l = t.split("/"), h = a.split("/");
    l.pop();
    for (const d of h) d !== "." && (d === ".." ? l.pop() : l.push(d));
    return `url(${c}${l.join("/")}${c})`;
  });
}
let aF = 1;
const cF = new RegExp("[^a-z0-9-_:]");
function kB() {
  return aF++;
}
let kr, J0;
const lF = /^[^ \t\n\r\u000c]+/, hF = /^[, \t\n\r\u000c]+/, X0 = /* @__PURE__ */ new WeakMap();
function fn(s, t) {
  return t && t.trim() !== "" ? rp(s, t) : t;
}
function dF(s) {
  return !!(s.tagName === "svg" || s.ownerSVGElement);
}
function rp(s, t) {
  let e = X0.get(s);
  if (e || (e = s.createElement("a"), X0.set(s, e)), t) {
    if (t.startsWith("blob:") || t.startsWith("data:")) return t;
  } else t = "";
  return e.setAttribute("href", t), e.href;
}
function xB(s, t, e, A) {
  return A && (e === "src" || e === "href" && (t !== "use" || A[0] !== "#") || e === "xlink:href" && A[0] !== "#" ? fn(s, A) : e !== "background" || t !== "table" && t !== "td" && t !== "th" ? e === "srcset" ? function(r, n) {
    if (n.trim() === "") return n;
    let i = 0;
    function o(c) {
      let l;
      const h = c.exec(n.substring(i));
      return h ? (l = h[0], i += l.length, l) : "";
    }
    const a = [];
    for (; o(hF), !(i >= n.length); ) {
      let c = o(lF);
      if (c.slice(-1) === ",") c = fn(r, c.substring(0, c.length - 1)), a.push(c);
      else {
        let l = "";
        c = fn(r, c);
        let h = !1;
        for (; ; ) {
          const d = n.charAt(i);
          if (d === "") {
            a.push((c + l).trim());
            break;
          }
          if (h) d === ")" && (h = !1);
          else {
            if (d === ",") {
              i += 1, a.push((c + l).trim());
              break;
            }
            d === "(" && (h = !0);
          }
          l += d, i += 1;
        }
      }
    }
    return a.join(", ");
  }(s, A) : e === "style" ? Bc(A, rp(s)) : t === "object" && e === "data" ? fn(s, A) : A : fn(s, A));
}
function SB(s, t, e) {
  return (s === "video" || s === "audio") && t === "autoplay";
}
function yc(s, t, e) {
  if (!s) return !1;
  if (s.nodeType !== s.ELEMENT_NODE) return !!e && yc(fe.parentNode(s), t, e);
  for (let A = s.classList.length; A--; ) {
    const r = s.classList[A];
    if (t.test(r)) return !0;
  }
  return !!e && yc(fe.parentNode(s), t, e);
}
function EB(s, t, e, A) {
  let r;
  if (CB(s)) {
    if (r = s, !fe.childNodes(r).length) return !1;
  } else {
    if (fe.parentElement(s) === null) return !1;
    r = fe.parentElement(s);
  }
  try {
    if (typeof t == "string") {
      if (A) {
        if (r.closest(`.${t}`)) return !0;
      } else if (r.classList.contains(t)) return !0;
    } else if (yc(r, t, A)) return !0;
    if (e) {
      if (A) {
        if (r.closest(e)) return !0;
      } else if (r.matches(e)) return !0;
    }
  } catch {
  }
  return !1;
}
function uF(s, t) {
  const { doc: e, mirror: A, blockClass: r, blockSelector: n, needsMask: i, inlineStylesheet: o, maskInputOptions: a = {}, maskTextFn: c, maskInputFn: l, dataURLOptions: h = {}, inlineImages: d, recordCanvas: u, keepIframeSrcFn: p, newlyAddedElement: g = !1 } = t, m = function(f, w) {
    if (!w.hasNode(f)) return;
    const B = w.getId(f);
    return B === 1 ? void 0 : B;
  }(e, A);
  switch (s.nodeType) {
    case s.DOCUMENT_NODE:
      return s.compatMode !== "CSS1Compat" ? { type: ie.Document, childNodes: [], compatMode: s.compatMode } : { type: ie.Document, childNodes: [] };
    case s.DOCUMENT_TYPE_NODE:
      return { type: ie.DocumentType, name: s.name, publicId: s.publicId, systemId: s.systemId, rootId: m };
    case s.ELEMENT_NODE:
      return function(f, w) {
        const { doc: B, blockClass: C, blockSelector: v, inlineStylesheet: F, maskInputOptions: Q = {}, maskInputFn: E, dataURLOptions: _ = {}, inlineImages: P, recordCanvas: K, keepIframeSrcFn: T, newlyAddedElement: D = !1, rootId: I } = w, y = function(L, j, Z) {
          try {
            if (typeof j == "string") {
              if (L.classList.contains(j)) return !0;
            } else for (let $ = L.classList.length; $--; ) {
              const nt = L.classList[$];
              if (j.test(nt)) return !0;
            }
            if (Z) return L.matches(Z);
          } catch {
          }
          return !1;
        }(f, C, v), S = function(L) {
          if (L instanceof HTMLFormElement) return "form";
          const j = or(L.tagName);
          return cF.test(j) ? "div" : j;
        }(f);
        let M = {};
        const R = f.attributes.length;
        for (let L = 0; L < R; L++) {
          const j = f.attributes[L];
          SB(S, j.name, j.value) || (M[j.name] = xB(B, S, or(j.name), j.value));
        }
        if (S === "link" && F) {
          const L = Array.from(B.styleSheets).find((Z) => Z.href === f.href);
          let j = null;
          L && (j = ua(L)), j && (delete M.rel, delete M.href, M._cssText = j);
        }
        if (S === "style" && f.sheet && !(f.innerText || fe.textContent(f) || "").trim().length) {
          const L = ua(f.sheet);
          L && (M._cssText = L);
        }
        if (S === "input" || S === "textarea" || S === "select") {
          const L = f.value, j = f.checked;
          M.type !== "radio" && M.type !== "checkbox" && M.type !== "submit" && M.type !== "button" && L ? M.value = Ap({ element: f, type: sp(f), tagName: S, value: L, maskInputOptions: Q, maskInputFn: E }) : j && (M.checked = j);
        }
        if (S === "option" && (f.selected && !Q.select ? M.selected = !0 : delete M.selected), S === "dialog" && f.open && (M.rr_open_mode = f.matches("dialog:modal") ? "modal" : "non-modal"), S === "canvas" && K) {
          if (f.__context === "2d") (function(L) {
            const j = L.getContext("2d");
            if (!j) return !0;
            for (let Z = 0; Z < L.width; Z += 50) for (let $ = 0; $ < L.height; $ += 50) {
              const nt = j.getImageData, wt = W0 in nt ? nt[W0] : nt;
              if (new Uint32Array(wt.call(j, Z, $, Math.min(50, L.width - Z), Math.min(50, L.height - $)).data.buffer).some((At) => At !== 0)) return !1;
            }
            return !0;
          })(f) || (M.rr_dataURL = f.toDataURL(_.type, _.quality));
          else if (!("__context" in f)) {
            const L = f.toDataURL(_.type, _.quality), j = B.createElement("canvas");
            j.width = f.width, j.height = f.height, L !== j.toDataURL(_.type, _.quality) && (M.rr_dataURL = L);
          }
        }
        if (S === "img" && P) {
          kr || (kr = B.createElement("canvas"), J0 = kr.getContext("2d"));
          const L = f, j = L.currentSrc || L.getAttribute("src") || "<unknown-src>", Z = L.crossOrigin, $ = () => {
            L.removeEventListener("load", $);
            try {
              kr.width = L.naturalWidth, kr.height = L.naturalHeight, J0.drawImage(L, 0, 0), M.rr_dataURL = kr.toDataURL(_.type, _.quality);
            } catch (nt) {
              if (L.crossOrigin !== "anonymous") return L.crossOrigin = "anonymous", void (L.complete && L.naturalWidth !== 0 ? $() : L.addEventListener("load", $));
              console.warn(`Cannot inline img src=${j}! Error: ${nt}`);
            }
            L.crossOrigin === "anonymous" && (Z ? M.crossOrigin = Z : L.removeAttribute("crossorigin"));
          };
          L.complete && L.naturalWidth !== 0 ? $() : L.addEventListener("load", $);
        }
        if (S === "audio" || S === "video") {
          const L = M;
          L.rr_mediaState = f.paused ? "paused" : "played", L.rr_mediaCurrentTime = f.currentTime, L.rr_mediaPlaybackRate = f.playbackRate, L.rr_mediaMuted = f.muted, L.rr_mediaLoop = f.loop, L.rr_mediaVolume = f.volume;
        }
        if (D || (f.scrollLeft && (M.rr_scrollLeft = f.scrollLeft), f.scrollTop && (M.rr_scrollTop = f.scrollTop)), y) {
          const { width: L, height: j } = f.getBoundingClientRect();
          M = { class: M.class, rr_width: `${L}px`, rr_height: `${j}px` };
        }
        S !== "iframe" || T(M.src) || (f.contentDocument || (M.rr_src = M.src), delete M.src);
        let H;
        try {
          customElements.get(S) && (H = !0);
        } catch {
        }
        return { type: ie.Element, tagName: S, attributes: M, childNodes: [], isSVG: dF(f) || void 0, needBlock: y, rootId: I, isCustom: H };
      }(s, { doc: e, blockClass: r, blockSelector: n, inlineStylesheet: o, maskInputOptions: a, maskInputFn: l, dataURLOptions: h, inlineImages: d, recordCanvas: u, keepIframeSrcFn: p, newlyAddedElement: g, rootId: m });
    case s.TEXT_NODE:
      return function(f, w) {
        var B;
        const { needsMask: C, maskTextFn: v, rootId: F } = w, Q = fe.parentNode(f), E = Q && Q.tagName;
        let _ = fe.textContent(f);
        const P = E === "STYLE" || void 0, K = E === "SCRIPT" || void 0;
        if (P && _) {
          try {
            f.nextSibling || f.previousSibling || (B = Q.sheet) != null && B.cssRules && (_ = ua(Q.sheet));
          } catch (T) {
            console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`, f);
          }
          _ = Bc(_, rp(w.doc));
        }
        return K && (_ = "SCRIPT_PLACEHOLDER"), !P && !K && _ && C && (_ = v ? v(_, fe.parentElement(f)) : _.replace(/[\S]/g, "*")), { type: ie.Text, textContent: _ || "", isStyle: P, rootId: F };
      }(s, { doc: e, needsMask: i, maskTextFn: c, rootId: m });
    case s.CDATA_SECTION_NODE:
      return { type: ie.CDATA, textContent: "", rootId: m };
    case s.COMMENT_NODE:
      return { type: ie.Comment, textContent: fe.textContent(s) || "", rootId: m };
    default:
      return !1;
  }
}
function Ot(s) {
  return s == null ? "" : s.toLowerCase();
}
function Hr(s, t) {
  const { doc: e, mirror: A, blockClass: r, blockSelector: n, maskTextClass: i, maskTextSelector: o, skipChild: a = !1, inlineStylesheet: c = !0, maskInputOptions: l = {}, maskTextFn: h, maskInputFn: d, slimDOMOptions: u, dataURLOptions: p = {}, inlineImages: g = !1, recordCanvas: m = !1, onSerialize: f, onIframeLoad: w, iframeLoadTimeout: B = 5e3, onStylesheetLoad: C, stylesheetLoadTimeout: v = 5e3, keepIframeSrcFn: F = () => !1, newlyAddedElement: Q = !1 } = t;
  let { needsMask: E } = t, { preserveWhiteSpace: _ = !0 } = t;
  E || (E = EB(s, i, o, E === void 0));
  const P = uF(s, { doc: e, mirror: A, blockClass: r, blockSelector: n, needsMask: E, inlineStylesheet: c, maskInputOptions: l, maskTextFn: h, maskInputFn: d, dataURLOptions: p, inlineImages: g, recordCanvas: m, keepIframeSrcFn: F, newlyAddedElement: Q });
  if (!P) return console.warn(s, "not serialized"), null;
  let K;
  K = A.hasNode(s) ? A.getId(s) : !function(y, S) {
    return !!(S.comment && y.type === ie.Comment || y.type === ie.Element && (S.script && (y.tagName === "script" || y.tagName === "link" && (y.attributes.rel === "preload" || y.attributes.rel === "modulepreload") && y.attributes.as === "script" || y.tagName === "link" && y.attributes.rel === "prefetch" && typeof y.attributes.href == "string" && Y0(y.attributes.href) === "js") || S.headFavicon && (y.tagName === "link" && y.attributes.rel === "shortcut icon" || y.tagName === "meta" && (Ot(y.attributes.name).match(/^msapplication-tile(image|color)$/) || Ot(y.attributes.name) === "application-name" || Ot(y.attributes.rel) === "icon" || Ot(y.attributes.rel) === "apple-touch-icon" || Ot(y.attributes.rel) === "shortcut icon")) || y.tagName === "meta" && (S.headMetaDescKeywords && Ot(y.attributes.name).match(/^description|keywords$/) || S.headMetaSocial && (Ot(y.attributes.property).match(/^(og|twitter|fb):/) || Ot(y.attributes.name).match(/^(og|twitter):/) || Ot(y.attributes.name) === "pinterest") || S.headMetaRobots && (Ot(y.attributes.name) === "robots" || Ot(y.attributes.name) === "googlebot" || Ot(y.attributes.name) === "bingbot") || S.headMetaHttpEquiv && y.attributes["http-equiv"] !== void 0 || S.headMetaAuthorship && (Ot(y.attributes.name) === "author" || Ot(y.attributes.name) === "generator" || Ot(y.attributes.name) === "framework" || Ot(y.attributes.name) === "publisher" || Ot(y.attributes.name) === "progid" || Ot(y.attributes.property).match(/^article:/) || Ot(y.attributes.property).match(/^product:/)) || S.headMetaVerification && (Ot(y.attributes.name) === "google-site-verification" || Ot(y.attributes.name) === "yandex-verification" || Ot(y.attributes.name) === "csrf-token" || Ot(y.attributes.name) === "p:domain_verify" || Ot(y.attributes.name) === "verify-v1" || Ot(y.attributes.name) === "verification" || Ot(y.attributes.name) === "shopify-checkout-api-token"))));
  }(P, u) && (_ || P.type !== ie.Text || P.isStyle || P.textContent.replace(/^\s+|\s+$/gm, "").length) ? kB() : -2;
  const T = Object.assign(P, { id: K });
  if (A.add(s, T), K === -2) return null;
  f && f(s);
  let D = !a;
  if (T.type === ie.Element) {
    D = D && !T.needBlock, delete T.needBlock;
    const y = fe.shadowRoot(s);
    y && li(y) && (T.isShadowHost = !0);
  }
  if ((T.type === ie.Document || T.type === ie.Element) && D) {
    u.headWhitespace && T.type === ie.Element && T.tagName === "head" && (_ = !1);
    const y = { doc: e, mirror: A, blockClass: r, blockSelector: n, needsMask: E, maskTextClass: i, maskTextSelector: o, skipChild: a, inlineStylesheet: c, maskInputOptions: l, maskTextFn: h, maskInputFn: d, slimDOMOptions: u, dataURLOptions: p, inlineImages: g, recordCanvas: m, preserveWhiteSpace: _, onSerialize: f, onIframeLoad: w, iframeLoadTimeout: B, onStylesheetLoad: C, stylesheetLoadTimeout: v, keepIframeSrcFn: F };
    if (!(T.type === ie.Element && T.tagName === "textarea" && T.attributes.value !== void 0)) for (const M of Array.from(fe.childNodes(s))) {
      const R = Hr(M, y);
      R && T.childNodes.push(R);
    }
    let S = null;
    if (CB(s) && (S = fe.shadowRoot(s))) for (const M of Array.from(fe.childNodes(S))) {
      const R = Hr(M, y);
      R && (li(S) && (R.isShadow = !0), T.childNodes.push(R));
    }
  }
  const I = fe.parentNode(s);
  return I && ci(I) && li(I) && (T.isShadow = !0), T.type === ie.Element && T.tagName === "iframe" && function(y, S, M) {
    const R = y.contentWindow;
    if (!R) return;
    let H, L = !1;
    try {
      H = R.document.readyState;
    } catch {
      return;
    }
    if (H !== "complete") {
      const Z = setTimeout(() => {
        L || (S(), L = !0);
      }, M);
      return void y.addEventListener("load", () => {
        clearTimeout(Z), L = !0, S();
      });
    }
    const j = "about:blank";
    if (R.location.href !== j || y.src === j || y.src === "") return setTimeout(S, 0), y.addEventListener("load", S);
    y.addEventListener("load", S);
  }(s, () => {
    const y = s.contentDocument;
    if (y && w) {
      const S = Hr(y, { doc: y, mirror: A, blockClass: r, blockSelector: n, needsMask: E, maskTextClass: i, maskTextSelector: o, skipChild: !1, inlineStylesheet: c, maskInputOptions: l, maskTextFn: h, maskInputFn: d, slimDOMOptions: u, dataURLOptions: p, inlineImages: g, recordCanvas: m, preserveWhiteSpace: _, onSerialize: f, onIframeLoad: w, iframeLoadTimeout: B, onStylesheetLoad: C, stylesheetLoadTimeout: v, keepIframeSrcFn: F });
      S && w(s, S);
    }
  }, B), T.type === ie.Element && T.tagName === "link" && typeof T.attributes.rel == "string" && (T.attributes.rel === "stylesheet" || T.attributes.rel === "preload" && typeof T.attributes.href == "string" && Y0(T.attributes.href) === "css") && function(y, S, M) {
    let R, H = !1;
    try {
      R = y.sheet;
    } catch {
      return;
    }
    if (R) return;
    const L = setTimeout(() => {
      H || (S(), H = !0);
    }, M);
    y.addEventListener("load", () => {
      clearTimeout(L), H = !0, S();
    });
  }(s, () => {
    if (C) {
      const y = Hr(s, { doc: e, mirror: A, blockClass: r, blockSelector: n, needsMask: E, maskTextClass: i, maskTextSelector: o, skipChild: !1, inlineStylesheet: c, maskInputOptions: l, maskTextFn: h, maskInputFn: d, slimDOMOptions: u, dataURLOptions: p, inlineImages: g, recordCanvas: m, preserveWhiteSpace: _, onSerialize: f, onIframeLoad: w, iframeLoadTimeout: B, onStylesheetLoad: C, stylesheetLoadTimeout: v, keepIframeSrcFn: F });
      y && C(s, y);
    }
  }, v), T;
}
function pF(s) {
  return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
}
function gF(s) {
  if (s.__esModule) return s;
  var t = s.default;
  if (typeof t == "function") {
    var e = function A() {
      return this instanceof A ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    e.prototype = t.prototype;
  } else e = {};
  return Object.defineProperty(e, "__esModule", { value: !0 }), Object.keys(s).forEach(function(A) {
    var r = Object.getOwnPropertyDescriptor(s, A);
    Object.defineProperty(e, A, r.get ? r : { enumerable: !0, get: function() {
      return s[A];
    } });
  }), e;
}
var dd = { exports: {} }, Rt = String, z0 = function() {
  return { isColorSupported: !1, reset: Rt, bold: Rt, dim: Rt, italic: Rt, underline: Rt, inverse: Rt, hidden: Rt, strikethrough: Rt, black: Rt, red: Rt, green: Rt, yellow: Rt, blue: Rt, magenta: Rt, cyan: Rt, white: Rt, gray: Rt, bgBlack: Rt, bgRed: Rt, bgGreen: Rt, bgYellow: Rt, bgBlue: Rt, bgMagenta: Rt, bgCyan: Rt, bgWhite: Rt };
};
dd.exports = z0(), dd.exports.createColors = z0;
var fF = dd.exports;
const CA = gF(Object.freeze(Object.defineProperty({ __proto__: null, default: {} }, Symbol.toStringTag, { value: "Module" })));
let Z0 = fF, q0 = CA, ud = class FB extends Error {
  constructor(t, e, A, r, n, i) {
    super(t), this.name = "CssSyntaxError", this.reason = t, n && (this.file = n), r && (this.source = r), i && (this.plugin = i), e !== void 0 && A !== void 0 && (typeof e == "number" ? (this.line = e, this.column = A) : (this.line = e.line, this.column = e.column, this.endLine = A.line, this.endColumn = A.column)), this.setMessage(), Error.captureStackTrace && Error.captureStackTrace(this, FB);
  }
  setMessage() {
    this.message = this.plugin ? this.plugin + ": " : "", this.message += this.file ? this.file : "<css input>", this.line !== void 0 && (this.message += ":" + this.line + ":" + this.column), this.message += ": " + this.reason;
  }
  showSourceCode(t) {
    if (!this.source) return "";
    let e = this.source;
    t == null && (t = Z0.isColorSupported), q0 && t && (e = q0(e));
    let A, r, n = e.split(/\r?\n/), i = Math.max(this.line - 3, 0), o = Math.min(this.line + 2, n.length), a = String(o).length;
    if (t) {
      let { bold: c, gray: l, red: h } = Z0.createColors(!0);
      A = (d) => c(h(d)), r = (d) => l(d);
    } else A = r = (c) => c;
    return n.slice(i, o).map((c, l) => {
      let h = i + 1 + l, d = " " + (" " + h).slice(-a) + " | ";
      if (h === this.line) {
        let u = r(d.replace(/\d/g, " ")) + c.slice(0, this.column - 1).replace(/[^\t]/g, " ");
        return A(">") + r(d) + c + `
 ` + u + A("^");
      }
      return " " + r(d) + c;
    }).join(`
`);
  }
  toString() {
    let t = this.showSourceCode();
    return t && (t = `

` + t + `
`), this.name + ": " + this.message + t;
  }
};
var np = ud;
ud.default = ud;
var vi = {};
vi.isClean = Symbol("isClean"), vi.my = Symbol("my");
const $0 = { after: `
`, beforeClose: `
`, beforeComment: `
`, beforeDecl: `
`, beforeOpen: " ", beforeRule: `
`, colon: ": ", commentLeft: " ", commentRight: " ", emptyBody: "", indent: "    ", semicolon: !1 };
let pd = class {
  constructor(s) {
    this.builder = s;
  }
  atrule(s, t) {
    let e = "@" + s.name, A = s.params ? this.rawValue(s, "params") : "";
    if (s.raws.afterName !== void 0 ? e += s.raws.afterName : A && (e += " "), s.nodes) this.block(s, e + A);
    else {
      let r = (s.raws.between || "") + (t ? ";" : "");
      this.builder(e + A + r, s);
    }
  }
  beforeAfter(s, t) {
    let e;
    e = s.type === "decl" ? this.raw(s, null, "beforeDecl") : s.type === "comment" ? this.raw(s, null, "beforeComment") : t === "before" ? this.raw(s, null, "beforeRule") : this.raw(s, null, "beforeClose");
    let A = s.parent, r = 0;
    for (; A && A.type !== "root"; ) r += 1, A = A.parent;
    if (e.includes(`
`)) {
      let n = this.raw(s, null, "indent");
      if (n.length) for (let i = 0; i < r; i++) e += n;
    }
    return e;
  }
  block(s, t) {
    let e, A = this.raw(s, "between", "beforeOpen");
    this.builder(t + A + "{", s, "start"), s.nodes && s.nodes.length ? (this.body(s), e = this.raw(s, "after")) : e = this.raw(s, "after", "emptyBody"), e && this.builder(e), this.builder("}", s, "end");
  }
  body(s) {
    let t = s.nodes.length - 1;
    for (; t > 0 && s.nodes[t].type === "comment"; ) t -= 1;
    let e = this.raw(s, "semicolon");
    for (let A = 0; A < s.nodes.length; A++) {
      let r = s.nodes[A], n = this.raw(r, "before");
      n && this.builder(n), this.stringify(r, t !== A || e);
    }
  }
  comment(s) {
    let t = this.raw(s, "left", "commentLeft"), e = this.raw(s, "right", "commentRight");
    this.builder("/*" + t + s.text + e + "*/", s);
  }
  decl(s, t) {
    let e = this.raw(s, "between", "colon"), A = s.prop + e + this.rawValue(s, "value");
    s.important && (A += s.raws.important || " !important"), t && (A += ";"), this.builder(A, s);
  }
  document(s) {
    this.body(s);
  }
  raw(s, t, e) {
    let A;
    if (e || (e = t), t && (A = s.raws[t], A !== void 0)) return A;
    let r = s.parent;
    if (e === "before" && (!r || r.type === "root" && r.first === s || r && r.type === "document"))
      return "";
    if (!r) return $0[e];
    let n = s.root();
    if (n.rawCache || (n.rawCache = {}), n.rawCache[e] !== void 0) return n.rawCache[e];
    if (e === "before" || e === "after") return this.beforeAfter(s, e);
    {
      let i = "raw" + function(o) {
        return o[0].toUpperCase() + o.slice(1);
      }(e);
      this[i] ? A = this[i](n, s) : n.walk((o) => {
        if (A = o.raws[t], A !== void 0) return !1;
      });
    }
    return A === void 0 && (A = $0[e]), n.rawCache[e] = A, A;
  }
  rawBeforeClose(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length > 0 && e.raws.after !== void 0) return t = e.raws.after, t.includes(`
`) && (t = t.replace(/[^\n]+$/, "")), !1;
    }), t && (t = t.replace(/\S/g, "")), t;
  }
  rawBeforeComment(s, t) {
    let e;
    return s.walkComments((A) => {
      if (A.raws.before !== void 0) return e = A.raws.before, e.includes(`
`) && (e = e.replace(/[^\n]+$/, "")), !1;
    }), e === void 0 ? e = this.raw(t, null, "beforeDecl") : e && (e = e.replace(/\S/g, "")), e;
  }
  rawBeforeDecl(s, t) {
    let e;
    return s.walkDecls((A) => {
      if (A.raws.before !== void 0) return e = A.raws.before, e.includes(`
`) && (e = e.replace(/[^\n]+$/, "")), !1;
    }), e === void 0 ? e = this.raw(t, null, "beforeRule") : e && (e = e.replace(/\S/g, "")), e;
  }
  rawBeforeOpen(s) {
    let t;
    return s.walk((e) => {
      if (e.type !== "decl" && (t = e.raws.between, t !== void 0)) return !1;
    }), t;
  }
  rawBeforeRule(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && (e.parent !== s || s.first !== e) && e.raws.before !== void 0) return t = e.raws.before, t.includes(`
`) && (t = t.replace(/[^\n]+$/, "")), !1;
    }), t && (t = t.replace(/\S/g, "")), t;
  }
  rawColon(s) {
    let t;
    return s.walkDecls((e) => {
      if (e.raws.between !== void 0) return t = e.raws.between.replace(/[^\s:]/g, ""), !1;
    }), t;
  }
  rawEmptyBody(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length === 0 && (t = e.raws.after, t !== void 0)) return !1;
    }), t;
  }
  rawIndent(s) {
    if (s.raws.indent) return s.raws.indent;
    let t;
    return s.walk((e) => {
      let A = e.parent;
      if (A && A !== s && A.parent && A.parent === s && e.raws.before !== void 0) {
        let r = e.raws.before.split(`
`);
        return t = r[r.length - 1], t = t.replace(/\S/g, ""), !1;
      }
    }), t;
  }
  rawSemicolon(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length && e.last.type === "decl" && (t = e.raws.semicolon, t !== void 0)) return !1;
    }), t;
  }
  rawValue(s, t) {
    let e = s[t], A = s.raws[t];
    return A && A.value === e ? A.raw : e;
  }
  root(s) {
    this.body(s), s.raws.after && this.builder(s.raws.after);
  }
  rule(s) {
    this.block(s, this.rawValue(s, "selector")), s.raws.ownSemicolon && this.builder(s.raws.ownSemicolon, s, "end");
  }
  stringify(s, t) {
    if (!this[s.type]) throw new Error("Unknown AST node type " + s.type + ". Maybe you need to change PostCSS stringifier.");
    this[s.type](s, t);
  }
};
var QB = pd;
pd.default = pd;
let mF = QB;
function gd(s, t) {
  new mF(t).stringify(s);
}
var qc = gd;
gd.default = gd;
let { isClean: ko, my: wF } = vi, BF = np, yF = QB, CF = qc;
function fd(s, t) {
  let e = new s.constructor();
  for (let A in s) {
    if (!Object.prototype.hasOwnProperty.call(s, A) || A === "proxyCache") continue;
    let r = s[A], n = typeof r;
    A === "parent" && n === "object" ? t && (e[A] = t) : A === "source" ? e[A] = r : Array.isArray(r) ? e[A] = r.map((i) => fd(i, e)) : (n === "object" && r !== null && (r = fd(r)), e[A] = r);
  }
  return e;
}
let md = class {
  constructor(s = {}) {
    this.raws = {}, this[ko] = !1, this[wF] = !0;
    for (let t in s) if (t === "nodes") {
      this.nodes = [];
      for (let e of s[t]) typeof e.clone == "function" ? this.append(e.clone()) : this.append(e);
    } else this[t] = s[t];
  }
  addToError(s) {
    if (s.postcssNode = this, s.stack && this.source && /\n\s{4}at /.test(s.stack)) {
      let t = this.source;
      s.stack = s.stack.replace(/\n\s{4}at /, `$&${t.input.from}:${t.start.line}:${t.start.column}$&`);
    }
    return s;
  }
  after(s) {
    return this.parent.insertAfter(this, s), this;
  }
  assign(s = {}) {
    for (let t in s) this[t] = s[t];
    return this;
  }
  before(s) {
    return this.parent.insertBefore(this, s), this;
  }
  cleanRaws(s) {
    delete this.raws.before, delete this.raws.after, s || delete this.raws.between;
  }
  clone(s = {}) {
    let t = fd(this);
    for (let e in s) t[e] = s[e];
    return t;
  }
  cloneAfter(s = {}) {
    let t = this.clone(s);
    return this.parent.insertAfter(this, t), t;
  }
  cloneBefore(s = {}) {
    let t = this.clone(s);
    return this.parent.insertBefore(this, t), t;
  }
  error(s, t = {}) {
    if (this.source) {
      let { end: e, start: A } = this.rangeBy(t);
      return this.source.input.error(s, { column: A.column, line: A.line }, { column: e.column, line: e.line }, t);
    }
    return new BF(s);
  }
  getProxyProcessor() {
    return { get: (s, t) => t === "proxyOf" ? s : t === "root" ? () => s.root().toProxy() : s[t], set: (s, t, e) => (s[t] === e || (s[t] = e, t !== "prop" && t !== "value" && t !== "name" && t !== "params" && t !== "important" && t !== "text" || s.markDirty()), !0) };
  }
  markDirty() {
    if (this[ko]) {
      this[ko] = !1;
      let s = this;
      for (; s = s.parent; ) s[ko] = !1;
    }
  }
  next() {
    if (!this.parent) return;
    let s = this.parent.index(this);
    return this.parent.nodes[s + 1];
  }
  positionBy(s, t) {
    let e = this.source.start;
    if (s.index) e = this.positionInside(s.index, t);
    else if (s.word) {
      let A = (t = this.toString()).indexOf(s.word);
      A !== -1 && (e = this.positionInside(A, t));
    }
    return e;
  }
  positionInside(s, t) {
    let e = t || this.toString(), A = this.source.start.column, r = this.source.start.line;
    for (let n = 0; n < s; n++) e[n] === `
` ? (A = 1, r += 1) : A += 1;
    return { column: A, line: r };
  }
  prev() {
    if (!this.parent) return;
    let s = this.parent.index(this);
    return this.parent.nodes[s - 1];
  }
  rangeBy(s) {
    let t = { column: this.source.start.column, line: this.source.start.line }, e = this.source.end ? { column: this.source.end.column + 1, line: this.source.end.line } : { column: t.column + 1, line: t.line };
    if (s.word) {
      let A = this.toString(), r = A.indexOf(s.word);
      r !== -1 && (t = this.positionInside(r, A), e = this.positionInside(r + s.word.length, A));
    } else s.start ? t = { column: s.start.column, line: s.start.line } : s.index && (t = this.positionInside(s.index)), s.end ? e = { column: s.end.column, line: s.end.line } : typeof s.endIndex == "number" ? e = this.positionInside(s.endIndex) : s.index && (e = this.positionInside(s.index + 1));
    return (e.line < t.line || e.line === t.line && e.column <= t.column) && (e = { column: t.column + 1, line: t.line }), { end: e, start: t };
  }
  raw(s, t) {
    return new yF().raw(this, s, t);
  }
  remove() {
    return this.parent && this.parent.removeChild(this), this.parent = void 0, this;
  }
  replaceWith(...s) {
    if (this.parent) {
      let t = this, e = !1;
      for (let A of s) A === this ? e = !0 : e ? (this.parent.insertAfter(t, A), t = A) : this.parent.insertBefore(t, A);
      e || this.remove();
    }
    return this;
  }
  root() {
    let s = this;
    for (; s.parent && s.parent.type !== "document"; ) s = s.parent;
    return s;
  }
  toJSON(s, t) {
    let e = {}, A = t == null;
    t = t || /* @__PURE__ */ new Map();
    let r = 0;
    for (let n in this) {
      if (!Object.prototype.hasOwnProperty.call(this, n) || n === "parent" || n === "proxyCache") continue;
      let i = this[n];
      if (Array.isArray(i)) e[n] = i.map((o) => typeof o == "object" && o.toJSON ? o.toJSON(null, t) : o);
      else if (typeof i == "object" && i.toJSON) e[n] = i.toJSON(null, t);
      else if (n === "source") {
        let o = t.get(i.input);
        o == null && (o = r, t.set(i.input, r), r++), e[n] = { end: i.end, inputId: o, start: i.start };
      } else e[n] = i;
    }
    return A && (e.inputs = [...t.keys()].map((n) => n.toJSON())), e;
  }
  toProxy() {
    return this.proxyCache || (this.proxyCache = new Proxy(this, this.getProxyProcessor())), this.proxyCache;
  }
  toString(s = CF) {
    s.stringify && (s = s.stringify);
    let t = "";
    return s(this, (e) => {
      t += e;
    }), t;
  }
  warn(s, t, e) {
    let A = { node: this };
    for (let r in e) A[r] = e[r];
    return s.warn(t, A);
  }
  get proxyOf() {
    return this;
  }
};
var $c = md;
md.default = md;
let bF = $c, wd = class extends bF {
  constructor(s) {
    s && s.value !== void 0 && typeof s.value != "string" && (s = { ...s, value: String(s.value) }), super(s), this.type = "decl";
  }
  get variable() {
    return this.prop.startsWith("--") || this.prop[0] === "$";
  }
};
var tl = wd;
wd.default = wd;
var vF = { nanoid: (s = 21) => {
  let t = "", e = s;
  for (; e--; ) t += "useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64 * Math.random() | 0];
  return t;
}, customAlphabet: (s, t = 21) => (e = t) => {
  let A = "", r = e;
  for (; r--; ) A += s[Math.random() * s.length | 0];
  return A;
} };
let { SourceMapConsumer: tf, SourceMapGenerator: ef } = CA, { existsSync: kF, readFileSync: xF } = CA, { dirname: th, join: SF } = CA, Bd = class {
  constructor(s, t) {
    if (t.map === !1) return;
    this.loadAnnotation(s), this.inline = this.startWith(this.annotation, "data:");
    let e = t.map ? t.map.prev : void 0, A = this.loadMap(t.from, e);
    !this.mapFile && t.from && (this.mapFile = t.from), this.mapFile && (this.root = th(this.mapFile)), A && (this.text = A);
  }
  consumer() {
    return this.consumerCache || (this.consumerCache = new tf(this.text)), this.consumerCache;
  }
  decodeInline(s) {
    if (/^data:application\/json;charset=utf-?8,/.test(s) || /^data:application\/json,/.test(s)) return decodeURIComponent(s.substr(RegExp.lastMatch.length));
    if (/^data:application\/json;charset=utf-?8;base64,/.test(s) || /^data:application\/json;base64,/.test(s)) return function(e) {
      return Buffer ? Buffer.from(e, "base64").toString() : window.atob(e);
    }(s.substr(RegExp.lastMatch.length));
    let t = s.match(/data:application\/json;([^,]+),/)[1];
    throw new Error("Unsupported source map encoding " + t);
  }
  getAnnotationURL(s) {
    return s.replace(/^\/\*\s*# sourceMappingURL=/, "").trim();
  }
  isMap(s) {
    return typeof s == "object" && (typeof s.mappings == "string" || typeof s._mappings == "string" || Array.isArray(s.sections));
  }
  loadAnnotation(s) {
    let t = s.match(/\/\*\s*# sourceMappingURL=/gm);
    if (!t) return;
    let e = s.lastIndexOf(t.pop()), A = s.indexOf("*/", e);
    e > -1 && A > -1 && (this.annotation = this.getAnnotationURL(s.substring(e, A)));
  }
  loadFile(s) {
    if (this.root = th(s), kF(s)) return this.mapFile = s, xF(s, "utf-8").toString().trim();
  }
  loadMap(s, t) {
    if (t === !1) return !1;
    if (t) {
      if (typeof t == "string") return t;
      if (typeof t != "function") {
        if (t instanceof tf) return ef.fromSourceMap(t).toString();
        if (t instanceof ef) return t.toString();
        if (this.isMap(t)) return JSON.stringify(t);
        throw new Error("Unsupported previous source map format: " + t.toString());
      }
      {
        let e = t(s);
        if (e) {
          let A = this.loadFile(e);
          if (!A) throw new Error("Unable to load previous source map: " + e.toString());
          return A;
        }
      }
    } else {
      if (this.inline) return this.decodeInline(this.annotation);
      if (this.annotation) {
        let e = this.annotation;
        return s && (e = SF(th(s), e)), this.loadFile(e);
      }
    }
  }
  startWith(s, t) {
    return !!s && s.substr(0, t.length) === t;
  }
  withContent() {
    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);
  }
};
var UB = Bd;
Bd.default = Bd;
let { SourceMapConsumer: EF, SourceMapGenerator: FF } = CA, { fileURLToPath: Af, pathToFileURL: xo } = CA, { isAbsolute: yd, resolve: Cd } = CA, { nanoid: QF } = vF, eh = CA, sf = np, UF = UB, Ah = Symbol("fromOffsetCache"), IF = !!(EF && FF), rf = !!(Cd && yd), pa = class {
  constructor(s, t = {}) {
    if (s == null || typeof s == "object" && !s.toString) throw new Error(`PostCSS received ${s} instead of CSS string`);
    if (this.css = s.toString(), this.css[0] === "\uFEFF" || this.css[0] === "๏ฟพ" ? (this.hasBOM = !0, this.css = this.css.slice(1)) : this.hasBOM = !1, t.from && (!rf || /^\w+:\/\//.test(t.from) || yd(t.from) ? this.file = t.from : this.file = Cd(t.from)), rf && IF) {
      let e = new UF(this.css, t);
      if (e.text) {
        this.map = e;
        let A = e.consumer().file;
        !this.file && A && (this.file = this.mapResolve(A));
      }
    }
    this.file || (this.id = "<input css " + QF(6) + ">"), this.map && (this.map.file = this.from);
  }
  error(s, t, e, A = {}) {
    let r, n, i;
    if (t && typeof t == "object") {
      let a = t, c = e;
      if (typeof a.offset == "number") {
        let l = this.fromOffset(a.offset);
        t = l.line, e = l.col;
      } else t = a.line, e = a.column;
      if (typeof c.offset == "number") {
        let l = this.fromOffset(c.offset);
        n = l.line, i = l.col;
      } else n = c.line, i = c.column;
    } else if (!e) {
      let a = this.fromOffset(t);
      t = a.line, e = a.col;
    }
    let o = this.origin(t, e, n, i);
    return r = o ? new sf(s, o.endLine === void 0 ? o.line : { column: o.column, line: o.line }, o.endLine === void 0 ? o.column : { column: o.endColumn, line: o.endLine }, o.source, o.file, A.plugin) : new sf(s, n === void 0 ? t : { column: e, line: t }, n === void 0 ? e : { column: i, line: n }, this.css, this.file, A.plugin), r.input = { column: e, endColumn: i, endLine: n, line: t, source: this.css }, this.file && (xo && (r.input.url = xo(this.file).toString()), r.input.file = this.file), r;
  }
  fromOffset(s) {
    let t, e;
    if (this[Ah]) e = this[Ah];
    else {
      let r = this.css.split(`
`);
      e = new Array(r.length);
      let n = 0;
      for (let i = 0, o = r.length; i < o; i++) e[i] = n, n += r[i].length + 1;
      this[Ah] = e;
    }
    t = e[e.length - 1];
    let A = 0;
    if (s >= t) A = e.length - 1;
    else {
      let r, n = e.length - 2;
      for (; A < n; ) if (r = A + (n - A >> 1), s < e[r]) n = r - 1;
      else {
        if (!(s >= e[r + 1])) {
          A = r;
          break;
        }
        A = r + 1;
      }
    }
    return { col: s - e[A] + 1, line: A + 1 };
  }
  mapResolve(s) {
    return /^\w+:\/\//.test(s) ? s : Cd(this.map.consumer().sourceRoot || this.map.root || ".", s);
  }
  origin(s, t, e, A) {
    if (!this.map) return !1;
    let r, n, i = this.map.consumer(), o = i.originalPositionFor({ column: t, line: s });
    if (!o.source) return !1;
    typeof e == "number" && (r = i.originalPositionFor({ column: A, line: e })), n = yd(o.source) ? xo(o.source) : new URL(o.source, this.map.consumer().sourceRoot || xo(this.map.mapFile));
    let a = { column: o.column, endColumn: r && r.column, endLine: r && r.line, line: o.line, url: n.toString() };
    if (n.protocol === "file:") {
      if (!Af) throw new Error("file: protocol is not available in this PostCSS build");
      a.file = Af(n);
    }
    let c = i.sourceContentFor(o.source);
    return c && (a.source = c), a;
  }
  toJSON() {
    let s = {};
    for (let t of ["hasBOM", "css", "file", "id"]) this[t] != null && (s[t] = this[t]);
    return this.map && (s.map = { ...this.map }, s.map.consumerCache && (s.map.consumerCache = void 0)), s;
  }
  get from() {
    return this.file || this.id;
  }
};
var el = pa;
pa.default = pa, eh && eh.registerInput && eh.registerInput(pa);
let { SourceMapConsumer: IB, SourceMapGenerator: ga } = CA, { dirname: fa, relative: TB, resolve: _B, sep: OB } = CA, { pathToFileURL: nf } = CA, TF = el, _F = !!(IB && ga), OF = !!(fa && _B && TB && OB);
var LB = class {
  constructor(s, t, e, A) {
    this.stringify = s, this.mapOpts = e.map || {}, this.root = t, this.opts = e, this.css = A, this.originalCSS = A, this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute, this.memoizedFileURLs = /* @__PURE__ */ new Map(), this.memoizedPaths = /* @__PURE__ */ new Map(), this.memoizedURLs = /* @__PURE__ */ new Map();
  }
  addAnnotation() {
    let s;
    s = this.isInline() ? "data:application/json;base64," + this.toBase64(this.map.toString()) : typeof this.mapOpts.annotation == "string" ? this.mapOpts.annotation : typeof this.mapOpts.annotation == "function" ? this.mapOpts.annotation(this.opts.to, this.root) : this.outputFile() + ".map";
    let t = `
`;
    this.css.includes(`\r
`) && (t = `\r
`), this.css += t + "/*# sourceMappingURL=" + s + " */";
  }
  applyPrevMaps() {
    for (let s of this.previous()) {
      let t, e = this.toUrl(this.path(s.file)), A = s.root || fa(s.file);
      this.mapOpts.sourcesContent === !1 ? (t = new IB(s.text), t.sourcesContent && (t.sourcesContent = null)) : t = s.consumer(), this.map.applySourceMap(t, e, this.toUrl(this.path(A)));
    }
  }
  clearAnnotation() {
    if (this.mapOpts.annotation !== !1) if (this.root) {
      let s;
      for (let t = this.root.nodes.length - 1; t >= 0; t--) s = this.root.nodes[t], s.type === "comment" && s.text.indexOf("# sourceMappingURL=") === 0 && this.root.removeChild(t);
    } else this.css && (this.css = this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm, ""));
  }
  generate() {
    if (this.clearAnnotation(), OF && _F && this.isMap()) return this.generateMap();
    {
      let s = "";
      return this.stringify(this.root, (t) => {
        s += t;
      }), [s];
    }
  }
  generateMap() {
    if (this.root) this.generateString();
    else if (this.previous().length === 1) {
      let s = this.previous()[0].consumer();
      s.file = this.outputFile(), this.map = ga.fromSourceMap(s, { ignoreInvalidMapping: !0 });
    } else this.map = new ga({ file: this.outputFile(), ignoreInvalidMapping: !0 }), this.map.addMapping({ generated: { column: 0, line: 1 }, original: { column: 0, line: 1 }, source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : "<no source>" });
    return this.isSourcesContent() && this.setSourcesContent(), this.root && this.previous().length > 0 && this.applyPrevMaps(), this.isAnnotation() && this.addAnnotation(), this.isInline() ? [this.css] : [this.css, this.map];
  }
  generateString() {
    this.css = "", this.map = new ga({ file: this.outputFile(), ignoreInvalidMapping: !0 });
    let s, t, e = 1, A = 1, r = "<no source>", n = { generated: { column: 0, line: 0 }, original: { column: 0, line: 0 }, source: "" };
    this.stringify(this.root, (i, o, a) => {
      if (this.css += i, o && a !== "end" && (n.generated.line = e, n.generated.column = A - 1, o.source && o.source.start ? (n.source = this.sourcePath(o), n.original.line = o.source.start.line, n.original.column = o.source.start.column - 1, this.map.addMapping(n)) : (n.source = r, n.original.line = 1, n.original.column = 0, this.map.addMapping(n))), s = i.match(/\n/g), s ? (e += s.length, t = i.lastIndexOf(`
`), A = i.length - t) : A += i.length, o && a !== "start") {
        let c = o.parent || { raws: {} };
        (o.type === "decl" || o.type === "atrule" && !o.nodes) && o === c.last && !c.raws.semicolon || (o.source && o.source.end ? (n.source = this.sourcePath(o), n.original.line = o.source.end.line, n.original.column = o.source.end.column - 1, n.generated.line = e, n.generated.column = A - 2, this.map.addMapping(n)) : (n.source = r, n.original.line = 1, n.original.column = 0, n.generated.line = e, n.generated.column = A - 1, this.map.addMapping(n)));
      }
    });
  }
  isAnnotation() {
    return !!this.isInline() || (this.mapOpts.annotation !== void 0 ? this.mapOpts.annotation : !this.previous().length || this.previous().some((s) => s.annotation));
  }
  isInline() {
    if (this.mapOpts.inline !== void 0) return this.mapOpts.inline;
    let s = this.mapOpts.annotation;
    return (s === void 0 || s === !0) && (!this.previous().length || this.previous().some((t) => t.inline));
  }
  isMap() {
    return this.opts.map !== void 0 ? !!this.opts.map : this.previous().length > 0;
  }
  isSourcesContent() {
    return this.mapOpts.sourcesContent !== void 0 ? this.mapOpts.sourcesContent : !this.previous().length || this.previous().some((s) => s.withContent());
  }
  outputFile() {
    return this.opts.to ? this.path(this.opts.to) : this.opts.from ? this.path(this.opts.from) : "to.css";
  }
  path(s) {
    if (this.mapOpts.absolute || s.charCodeAt(0) === 60 || /^\w+:\/\//.test(s)) return s;
    let t = this.memoizedPaths.get(s);
    if (t) return t;
    let e = this.opts.to ? fa(this.opts.to) : ".";
    typeof this.mapOpts.annotation == "string" && (e = fa(_B(e, this.mapOpts.annotation)));
    let A = TB(e, s);
    return this.memoizedPaths.set(s, A), A;
  }
  previous() {
    if (!this.previousMaps) if (this.previousMaps = [], this.root) this.root.walk((s) => {
      if (s.source && s.source.input.map) {
        let t = s.source.input.map;
        this.previousMaps.includes(t) || this.previousMaps.push(t);
      }
    });
    else {
      let s = new TF(this.originalCSS, this.opts);
      s.map && this.previousMaps.push(s.map);
    }
    return this.previousMaps;
  }
  setSourcesContent() {
    let s = {};
    if (this.root) this.root.walk((t) => {
      if (t.source) {
        let e = t.source.input.from;
        if (e && !s[e]) {
          s[e] = !0;
          let A = this.usesFileUrls ? this.toFileUrl(e) : this.toUrl(this.path(e));
          this.map.setSourceContent(A, t.source.input.css);
        }
      }
    });
    else if (this.css) {
      let t = this.opts.from ? this.toUrl(this.path(this.opts.from)) : "<no source>";
      this.map.setSourceContent(t, this.css);
    }
  }
  sourcePath(s) {
    return this.mapOpts.from ? this.toUrl(this.mapOpts.from) : this.usesFileUrls ? this.toFileUrl(s.source.input.from) : this.toUrl(this.path(s.source.input.from));
  }
  toBase64(s) {
    return Buffer ? Buffer.from(s).toString("base64") : window.btoa(unescape(encodeURIComponent(s)));
  }
  toFileUrl(s) {
    let t = this.memoizedFileURLs.get(s);
    if (t) return t;
    if (nf) {
      let e = nf(s).toString();
      return this.memoizedFileURLs.set(s, e), e;
    }
    throw new Error("`map.absolute` option is not available in this PostCSS build");
  }
  toUrl(s) {
    let t = this.memoizedURLs.get(s);
    if (t) return t;
    OB === "\\" && (s = s.replace(/\\/g, "/"));
    let e = encodeURI(s).replace(/[#?]/g, encodeURIComponent);
    return this.memoizedURLs.set(s, e), e;
  }
};
let LF = $c, bd = class extends LF {
  constructor(s) {
    super(s), this.type = "comment";
  }
};
var Al = bd;
bd.default = bd;
let MB, ip, op, DB, { isClean: RB, my: HB } = vi, PB = tl, KB = Al, MF = $c;
function NB(s) {
  return s.map((t) => (t.nodes && (t.nodes = NB(t.nodes)), delete t.source, t));
}
function jB(s) {
  if (s[RB] = !1, s.proxyOf.nodes) for (let t of s.proxyOf.nodes) jB(t);
}
let qA = class VB extends MF {
  append(...t) {
    for (let e of t) {
      let A = this.normalize(e, this.last);
      for (let r of A) this.proxyOf.nodes.push(r);
    }
    return this.markDirty(), this;
  }
  cleanRaws(t) {
    if (super.cleanRaws(t), this.nodes) for (let e of this.nodes) e.cleanRaws(t);
  }
  each(t) {
    if (!this.proxyOf.nodes) return;
    let e, A, r = this.getIterator();
    for (; this.indexes[r] < this.proxyOf.nodes.length && (e = this.indexes[r], A = t(this.proxyOf.nodes[e], e), A !== !1); ) this.indexes[r] += 1;
    return delete this.indexes[r], A;
  }
  every(t) {
    return this.nodes.every(t);
  }
  getIterator() {
    this.lastEach || (this.lastEach = 0), this.indexes || (this.indexes = {}), this.lastEach += 1;
    let t = this.lastEach;
    return this.indexes[t] = 0, t;
  }
  getProxyProcessor() {
    return { get: (t, e) => e === "proxyOf" ? t : t[e] ? e === "each" || typeof e == "string" && e.startsWith("walk") ? (...A) => t[e](...A.map((r) => typeof r == "function" ? (n, i) => r(n.toProxy(), i) : r)) : e === "every" || e === "some" ? (A) => t[e]((r, ...n) => A(r.toProxy(), ...n)) : e === "root" ? () => t.root().toProxy() : e === "nodes" ? t.nodes.map((A) => A.toProxy()) : e === "first" || e === "last" ? t[e].toProxy() : t[e] : t[e], set: (t, e, A) => (t[e] === A || (t[e] = A, e !== "name" && e !== "params" && e !== "selector" || t.markDirty()), !0) };
  }
  index(t) {
    return typeof t == "number" ? t : (t.proxyOf && (t = t.proxyOf), this.proxyOf.nodes.indexOf(t));
  }
  insertAfter(t, e) {
    let A, r = this.index(t), n = this.normalize(e, this.proxyOf.nodes[r]).reverse();
    r = this.index(t);
    for (let i of n) this.proxyOf.nodes.splice(r + 1, 0, i);
    for (let i in this.indexes) A = this.indexes[i], r < A && (this.indexes[i] = A + n.length);
    return this.markDirty(), this;
  }
  insertBefore(t, e) {
    let A, r = this.index(t), n = r === 0 && "prepend", i = this.normalize(e, this.proxyOf.nodes[r], n).reverse();
    r = this.index(t);
    for (let o of i) this.proxyOf.nodes.splice(r, 0, o);
    for (let o in this.indexes) A = this.indexes[o], r <= A && (this.indexes[o] = A + i.length);
    return this.markDirty(), this;
  }
  normalize(t, e) {
    if (typeof t == "string") t = NB(MB(t).nodes);
    else if (t === void 0) t = [];
    else if (Array.isArray(t)) {
      t = t.slice(0);
      for (let A of t) A.parent && A.parent.removeChild(A, "ignore");
    } else if (t.type === "root" && this.type !== "document") {
      t = t.nodes.slice(0);
      for (let A of t) A.parent && A.parent.removeChild(A, "ignore");
    } else if (t.type) t = [t];
    else if (t.prop) {
      if (t.value === void 0) throw new Error("Value field is missed in node creation");
      typeof t.value != "string" && (t.value = String(t.value)), t = [new PB(t)];
    } else if (t.selector) t = [new ip(t)];
    else if (t.name) t = [new op(t)];
    else {
      if (!t.text) throw new Error("Unknown node type in node creation");
      t = [new KB(t)];
    }
    return t.map((A) => (A[HB] || VB.rebuild(A), (A = A.proxyOf).parent && A.parent.removeChild(A), A[RB] && jB(A), A.raws.before === void 0 && e && e.raws.before !== void 0 && (A.raws.before = e.raws.before.replace(/\S/g, "")), A.parent = this.proxyOf, A));
  }
  prepend(...t) {
    t = t.reverse();
    for (let e of t) {
      let A = this.normalize(e, this.first, "prepend").reverse();
      for (let r of A) this.proxyOf.nodes.unshift(r);
      for (let r in this.indexes) this.indexes[r] = this.indexes[r] + A.length;
    }
    return this.markDirty(), this;
  }
  push(t) {
    return t.parent = this, this.proxyOf.nodes.push(t), this;
  }
  removeAll() {
    for (let t of this.proxyOf.nodes) t.parent = void 0;
    return this.proxyOf.nodes = [], this.markDirty(), this;
  }
  removeChild(t) {
    let e;
    t = this.index(t), this.proxyOf.nodes[t].parent = void 0, this.proxyOf.nodes.splice(t, 1);
    for (let A in this.indexes) e = this.indexes[A], e >= t && (this.indexes[A] = e - 1);
    return this.markDirty(), this;
  }
  replaceValues(t, e, A) {
    return A || (A = e, e = {}), this.walkDecls((r) => {
      e.props && !e.props.includes(r.prop) || e.fast && !r.value.includes(e.fast) || (r.value = r.value.replace(t, A));
    }), this.markDirty(), this;
  }
  some(t) {
    return this.nodes.some(t);
  }
  walk(t) {
    return this.each((e, A) => {
      let r;
      try {
        r = t(e, A);
      } catch (n) {
        throw e.addToError(n);
      }
      return r !== !1 && e.walk && (r = e.walk(t)), r;
    });
  }
  walkAtRules(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "atrule" && t.test(A.name)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "atrule" && A.name === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "atrule") return e(A, r);
    }));
  }
  walkComments(t) {
    return this.walk((e, A) => {
      if (e.type === "comment") return t(e, A);
    });
  }
  walkDecls(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "decl" && t.test(A.prop)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "decl" && A.prop === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "decl") return e(A, r);
    }));
  }
  walkRules(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "rule" && t.test(A.selector)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "rule" && A.selector === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "rule") return e(A, r);
    }));
  }
  get first() {
    if (this.proxyOf.nodes) return this.proxyOf.nodes[0];
  }
  get last() {
    if (this.proxyOf.nodes) return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];
  }
};
qA.registerParse = (s) => {
  MB = s;
}, qA.registerRule = (s) => {
  ip = s;
}, qA.registerAtRule = (s) => {
  op = s;
}, qA.registerRoot = (s) => {
  DB = s;
};
var dr = qA;
qA.default = qA, qA.rebuild = (s) => {
  s.type === "atrule" ? Object.setPrototypeOf(s, op.prototype) : s.type === "rule" ? Object.setPrototypeOf(s, ip.prototype) : s.type === "decl" ? Object.setPrototypeOf(s, PB.prototype) : s.type === "comment" ? Object.setPrototypeOf(s, KB.prototype) : s.type === "root" && Object.setPrototypeOf(s, DB.prototype), s[HB] = !0, s.nodes && s.nodes.forEach((t) => {
    qA.rebuild(t);
  });
};
let GB, WB, DF = dr, ki = class extends DF {
  constructor(s) {
    super({ type: "document", ...s }), this.nodes || (this.nodes = []);
  }
  toResult(s = {}) {
    return new GB(new WB(), this, s).stringify();
  }
};
ki.registerLazyResult = (s) => {
  GB = s;
}, ki.registerProcessor = (s) => {
  WB = s;
};
var ap = ki;
ki.default = ki;
let of = {};
var YB = function(s) {
  of[s] || (of[s] = !0, typeof console < "u" && console.warn && console.warn(s));
};
let vd = class {
  constructor(s, t = {}) {
    if (this.type = "warning", this.text = s, t.node && t.node.source) {
      let e = t.node.rangeBy(t);
      this.line = e.start.line, this.column = e.start.column, this.endLine = e.end.line, this.endColumn = e.end.column;
    }
    for (let e in t) this[e] = t[e];
  }
  toString() {
    return this.node ? this.node.error(this.text, { index: this.index, plugin: this.plugin, word: this.word }).message : this.plugin ? this.plugin + ": " + this.text : this.text;
  }
};
var JB = vd;
vd.default = vd;
let RF = JB, kd = class {
  constructor(s, t, e) {
    this.processor = s, this.messages = [], this.root = t, this.opts = e, this.css = void 0, this.map = void 0;
  }
  toString() {
    return this.css;
  }
  warn(s, t = {}) {
    t.plugin || this.lastPlugin && this.lastPlugin.postcssPlugin && (t.plugin = this.lastPlugin.postcssPlugin);
    let e = new RF(s, t);
    return this.messages.push(e), e;
  }
  warnings() {
    return this.messages.filter((s) => s.type === "warning");
  }
  get content() {
    return this.css;
  }
};
var cp = kd;
kd.default = kd;
const sh = 39, af = 34, So = 92, cf = 47, Eo = 10, mn = 32, Fo = 12, Qo = 9, Uo = 13, HF = 91, PF = 93, KF = 40, NF = 41, jF = 123, VF = 125, GF = 59, WF = 42, YF = 58, JF = 64, Io = /[\t\n\f\r "#'()/;[\\\]{}]/g, To = /[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g, XF = /.[\r\n"'(/\\]/, lf = /[\da-f]/i;
let XB = dr, ma = class extends XB {
  constructor(s) {
    super(s), this.type = "atrule";
  }
  append(...s) {
    return this.proxyOf.nodes || (this.nodes = []), super.append(...s);
  }
  prepend(...s) {
    return this.proxyOf.nodes || (this.nodes = []), super.prepend(...s);
  }
};
var lp = ma;
ma.default = ma, XB.registerAtRule(ma);
let zB, ZB, qB = dr, Xr = class extends qB {
  constructor(s) {
    super(s), this.type = "root", this.nodes || (this.nodes = []);
  }
  normalize(s, t, e) {
    let A = super.normalize(s);
    if (t) {
      if (e === "prepend") this.nodes.length > 1 ? t.raws.before = this.nodes[1].raws.before : delete t.raws.before;
      else if (this.first !== t) for (let r of A) r.raws.before = t.raws.before;
    }
    return A;
  }
  removeChild(s, t) {
    let e = this.index(s);
    return !t && e === 0 && this.nodes.length > 1 && (this.nodes[1].raws.before = this.nodes[e].raws.before), super.removeChild(s);
  }
  toResult(s = {}) {
    return new zB(new ZB(), this, s).stringify();
  }
};
Xr.registerLazyResult = (s) => {
  zB = s;
}, Xr.registerProcessor = (s) => {
  ZB = s;
};
var Ri = Xr;
Xr.default = Xr, qB.registerRoot(Xr);
let xi = { comma: (s) => xi.split(s, [","], !0), space: (s) => xi.split(s, [" ", `
`, "	"]), split(s, t, e) {
  let A = [], r = "", n = !1, i = 0, o = !1, a = "", c = !1;
  for (let l of s) c ? c = !1 : l === "\\" ? c = !0 : o ? l === a && (o = !1) : l === '"' || l === "'" ? (o = !0, a = l) : l === "(" ? i += 1 : l === ")" ? i > 0 && (i -= 1) : i === 0 && t.includes(l) && (n = !0), n ? (r !== "" && A.push(r.trim()), r = "", n = !1) : r += l;
  return (e || r !== "") && A.push(r.trim()), A;
} };
var $B = xi;
xi.default = xi;
let ty = dr, zF = $B, wa = class extends ty {
  constructor(s) {
    super(s), this.type = "rule", this.nodes || (this.nodes = []);
  }
  get selectors() {
    return zF.comma(this.selector);
  }
  set selectors(s) {
    let t = this.selector ? this.selector.match(/,\s*/) : null, e = t ? t[0] : "," + this.raw("between", "beforeOpen");
    this.selector = s.join(e);
  }
};
var hp = wa;
wa.default = wa, ty.registerRule(wa);
let ZF = tl, qF = function(s, t = {}) {
  let e, A, r, n, i, o, a, c, l, h, d = s.css.valueOf(), u = t.ignoreErrors, p = d.length, g = 0, m = [], f = [];
  function w(B) {
    throw s.error("Unclosed " + B, g);
  }
  return { back: function(B) {
    f.push(B);
  }, endOfFile: function() {
    return f.length === 0 && g >= p;
  }, nextToken: function(B) {
    if (f.length) return f.pop();
    if (g >= p) return;
    let C = !!B && B.ignoreUnclosed;
    switch (e = d.charCodeAt(g), e) {
      case Eo:
      case mn:
      case Qo:
      case Uo:
      case Fo:
        A = g;
        do
          A += 1, e = d.charCodeAt(A);
        while (e === mn || e === Eo || e === Qo || e === Uo || e === Fo);
        h = ["space", d.slice(g, A)], g = A - 1;
        break;
      case HF:
      case PF:
      case jF:
      case VF:
      case YF:
      case GF:
      case NF: {
        let v = String.fromCharCode(e);
        h = [v, v, g];
        break;
      }
      case KF:
        if (c = m.length ? m.pop()[1] : "", l = d.charCodeAt(g + 1), c === "url" && l !== sh && l !== af && l !== mn && l !== Eo && l !== Qo && l !== Fo && l !== Uo) {
          A = g;
          do {
            if (o = !1, A = d.indexOf(")", A + 1), A === -1) {
              if (u || C) {
                A = g;
                break;
              }
              w("bracket");
            }
            for (a = A; d.charCodeAt(a - 1) === So; ) a -= 1, o = !o;
          } while (o);
          h = ["brackets", d.slice(g, A + 1), g, A], g = A;
        } else A = d.indexOf(")", g + 1), n = d.slice(g, A + 1), A === -1 || XF.test(n) ? h = ["(", "(", g] : (h = ["brackets", n, g, A], g = A);
        break;
      case sh:
      case af:
        r = e === sh ? "'" : '"', A = g;
        do {
          if (o = !1, A = d.indexOf(r, A + 1), A === -1) {
            if (u || C) {
              A = g + 1;
              break;
            }
            w("string");
          }
          for (a = A; d.charCodeAt(a - 1) === So; ) a -= 1, o = !o;
        } while (o);
        h = ["string", d.slice(g, A + 1), g, A], g = A;
        break;
      case JF:
        Io.lastIndex = g + 1, Io.test(d), A = Io.lastIndex === 0 ? d.length - 1 : Io.lastIndex - 2, h = ["at-word", d.slice(g, A + 1), g, A], g = A;
        break;
      case So:
        for (A = g, i = !0; d.charCodeAt(A + 1) === So; ) A += 1, i = !i;
        if (e = d.charCodeAt(A + 1), i && e !== cf && e !== mn && e !== Eo && e !== Qo && e !== Uo && e !== Fo && (A += 1, lf.test(d.charAt(A)))) {
          for (; lf.test(d.charAt(A + 1)); ) A += 1;
          d.charCodeAt(A + 1) === mn && (A += 1);
        }
        h = ["word", d.slice(g, A + 1), g, A], g = A;
        break;
      default:
        e === cf && d.charCodeAt(g + 1) === WF ? (A = d.indexOf("*/", g + 2) + 1, A === 0 && (u || C ? A = d.length : w("comment")), h = ["comment", d.slice(g, A + 1), g, A], g = A) : (To.lastIndex = g + 1, To.test(d), A = To.lastIndex === 0 ? d.length - 1 : To.lastIndex - 2, h = ["word", d.slice(g, A + 1), g, A], m.push(h), g = A);
    }
    return g++, h;
  }, position: function() {
    return g;
  } };
}, $F = Al, tQ = lp, eQ = Ri, hf = hp;
const df = { empty: !0, space: !0 };
var AQ = class {
  constructor(s) {
    this.input = s, this.root = new eQ(), this.current = this.root, this.spaces = "", this.semicolon = !1, this.createTokenizer(), this.root.source = { input: s, start: { column: 1, line: 1, offset: 0 } };
  }
  atrule(s) {
    let t, e, A, r = new tQ();
    r.name = s[1].slice(1), r.name === "" && this.unnamedAtrule(r, s), this.init(r, s[2]);
    let n = !1, i = !1, o = [], a = [];
    for (; !this.tokenizer.endOfFile(); ) {
      if (t = (s = this.tokenizer.nextToken())[0], t === "(" || t === "[" ? a.push(t === "(" ? ")" : "]") : t === "{" && a.length > 0 ? a.push("}") : t === a[a.length - 1] && a.pop(), a.length === 0) {
        if (t === ";") {
          r.source.end = this.getPosition(s[2]), r.source.end.offset++, this.semicolon = !0;
          break;
        }
        if (t === "{") {
          i = !0;
          break;
        }
        if (t === "}") {
          if (o.length > 0) {
            for (A = o.length - 1, e = o[A]; e && e[0] === "space"; ) e = o[--A];
            e && (r.source.end = this.getPosition(e[3] || e[2]), r.source.end.offset++);
          }
          this.end(s);
          break;
        }
        o.push(s);
      } else o.push(s);
      if (this.tokenizer.endOfFile()) {
        n = !0;
        break;
      }
    }
    r.raws.between = this.spacesAndCommentsFromEnd(o), o.length ? (r.raws.afterName = this.spacesAndCommentsFromStart(o), this.raw(r, "params", o), n && (s = o[o.length - 1], r.source.end = this.getPosition(s[3] || s[2]), r.source.end.offset++, this.spaces = r.raws.between, r.raws.between = "")) : (r.raws.afterName = "", r.params = ""), i && (r.nodes = [], this.current = r);
  }
  checkMissedSemicolon(s) {
    let t = this.colon(s);
    if (t === !1) return;
    let e, A = 0;
    for (let r = t - 1; r >= 0 && (e = s[r], e[0] === "space" || (A += 1, A !== 2)); r--) ;
    throw this.input.error("Missed semicolon", e[0] === "word" ? e[3] + 1 : e[2]);
  }
  colon(s) {
    let t, e, A, r = 0;
    for (let [n, i] of s.entries()) {
      if (t = i, e = t[0], e === "(" && (r += 1), e === ")" && (r -= 1), r === 0 && e === ":") {
        if (A) {
          if (A[0] === "word" && A[1] === "progid") continue;
          return n;
        }
        this.doubleColon(t);
      }
      A = t;
    }
    return !1;
  }
  comment(s) {
    let t = new $F();
    this.init(t, s[2]), t.source.end = this.getPosition(s[3] || s[2]), t.source.end.offset++;
    let e = s[1].slice(2, -2);
    if (/^\s*$/.test(e)) t.text = "", t.raws.left = e, t.raws.right = "";
    else {
      let A = e.match(/^(\s*)([^]*\S)(\s*)$/);
      t.text = A[2], t.raws.left = A[1], t.raws.right = A[3];
    }
  }
  createTokenizer() {
    this.tokenizer = qF(this.input);
  }
  decl(s, t) {
    let e = new ZF();
    this.init(e, s[0][2]);
    let A, r = s[s.length - 1];
    for (r[0] === ";" && (this.semicolon = !0, s.pop()), e.source.end = this.getPosition(r[3] || r[2] || function(o) {
      for (let a = o.length - 1; a >= 0; a--) {
        let c = o[a], l = c[3] || c[2];
        if (l) return l;
      }
    }(s)), e.source.end.offset++; s[0][0] !== "word"; ) s.length === 1 && this.unknownWord(s), e.raws.before += s.shift()[1];
    for (e.source.start = this.getPosition(s[0][2]), e.prop = ""; s.length; ) {
      let o = s[0][0];
      if (o === ":" || o === "space" || o === "comment") break;
      e.prop += s.shift()[1];
    }
    for (e.raws.between = ""; s.length; ) {
      if (A = s.shift(), A[0] === ":") {
        e.raws.between += A[1];
        break;
      }
      A[0] === "word" && /\w/.test(A[1]) && this.unknownWord([A]), e.raws.between += A[1];
    }
    e.prop[0] !== "_" && e.prop[0] !== "*" || (e.raws.before += e.prop[0], e.prop = e.prop.slice(1));
    let n, i = [];
    for (; s.length && (n = s[0][0], n === "space" || n === "comment"); ) i.push(s.shift());
    this.precheckMissedSemicolon(s);
    for (let o = s.length - 1; o >= 0; o--) {
      if (A = s[o], A[1].toLowerCase() === "!important") {
        e.important = !0;
        let a = this.stringFrom(s, o);
        a = this.spacesFromEnd(s) + a, a !== " !important" && (e.raws.important = a);
        break;
      }
      if (A[1].toLowerCase() === "important") {
        let a = s.slice(0), c = "";
        for (let l = o; l > 0; l--) {
          let h = a[l][0];
          if (c.trim().indexOf("!") === 0 && h !== "space") break;
          c = a.pop()[1] + c;
        }
        c.trim().indexOf("!") === 0 && (e.important = !0, e.raws.important = c, s = a);
      }
      if (A[0] !== "space" && A[0] !== "comment") break;
    }
    s.some((o) => o[0] !== "space" && o[0] !== "comment") && (e.raws.between += i.map((o) => o[1]).join(""), i = []), this.raw(e, "value", i.concat(s), t), e.value.includes(":") && !t && this.checkMissedSemicolon(s);
  }
  doubleColon(s) {
    throw this.input.error("Double colon", { offset: s[2] }, { offset: s[2] + s[1].length });
  }
  emptyRule(s) {
    let t = new hf();
    this.init(t, s[2]), t.selector = "", t.raws.between = "", this.current = t;
  }
  end(s) {
    this.current.nodes && this.current.nodes.length && (this.current.raws.semicolon = this.semicolon), this.semicolon = !1, this.current.raws.after = (this.current.raws.after || "") + this.spaces, this.spaces = "", this.current.parent ? (this.current.source.end = this.getPosition(s[2]), this.current.source.end.offset++, this.current = this.current.parent) : this.unexpectedClose(s);
  }
  endFile() {
    this.current.parent && this.unclosedBlock(), this.current.nodes && this.current.nodes.length && (this.current.raws.semicolon = this.semicolon), this.current.raws.after = (this.current.raws.after || "") + this.spaces, this.root.source.end = this.getPosition(this.tokenizer.position());
  }
  freeSemicolon(s) {
    if (this.spaces += s[1], this.current.nodes) {
      let t = this.current.nodes[this.current.nodes.length - 1];
      t && t.type === "rule" && !t.raws.ownSemicolon && (t.raws.ownSemicolon = this.spaces, this.spaces = "");
    }
  }
  getPosition(s) {
    let t = this.input.fromOffset(s);
    return { column: t.col, line: t.line, offset: s };
  }
  init(s, t) {
    this.current.push(s), s.source = { input: this.input, start: this.getPosition(t) }, s.raws.before = this.spaces, this.spaces = "", s.type !== "comment" && (this.semicolon = !1);
  }
  other(s) {
    let t = !1, e = null, A = !1, r = null, n = [], i = s[1].startsWith("--"), o = [], a = s;
    for (; a; ) {
      if (e = a[0], o.push(a), e === "(" || e === "[") r || (r = a), n.push(e === "(" ? ")" : "]");
      else if (i && A && e === "{") r || (r = a), n.push("}");
      else if (n.length === 0) {
        if (e === ";") {
          if (A) return void this.decl(o, i);
          break;
        }
        if (e === "{") return void this.rule(o);
        if (e === "}") {
          this.tokenizer.back(o.pop()), t = !0;
          break;
        }
        e === ":" && (A = !0);
      } else e === n[n.length - 1] && (n.pop(), n.length === 0 && (r = null));
      a = this.tokenizer.nextToken();
    }
    if (this.tokenizer.endOfFile() && (t = !0), n.length > 0 && this.unclosedBracket(r), t && A) {
      if (!i) for (; o.length && (a = o[o.length - 1][0], a === "space" || a === "comment"); ) this.tokenizer.back(o.pop());
      this.decl(o, i);
    } else this.unknownWord(o);
  }
  parse() {
    let s;
    for (; !this.tokenizer.endOfFile(); ) switch (s = this.tokenizer.nextToken(), s[0]) {
      case "space":
        this.spaces += s[1];
        break;
      case ";":
        this.freeSemicolon(s);
        break;
      case "}":
        this.end(s);
        break;
      case "comment":
        this.comment(s);
        break;
      case "at-word":
        this.atrule(s);
        break;
      case "{":
        this.emptyRule(s);
        break;
      default:
        this.other(s);
    }
    this.endFile();
  }
  precheckMissedSemicolon() {
  }
  raw(s, t, e, A) {
    let r, n, i, o, a = e.length, c = "", l = !0;
    for (let h = 0; h < a; h += 1) r = e[h], n = r[0], n !== "space" || h !== a - 1 || A ? n === "comment" ? (o = e[h - 1] ? e[h - 1][0] : "empty", i = e[h + 1] ? e[h + 1][0] : "empty", df[o] || df[i] || c.slice(-1) === "," ? l = !1 : c += r[1]) : c += r[1] : l = !1;
    if (!l) {
      let h = e.reduce((d, u) => d + u[1], "");
      s.raws[t] = { raw: h, value: c };
    }
    s[t] = c;
  }
  rule(s) {
    s.pop();
    let t = new hf();
    this.init(t, s[0][2]), t.raws.between = this.spacesAndCommentsFromEnd(s), this.raw(t, "selector", s), this.current = t;
  }
  spacesAndCommentsFromEnd(s) {
    let t, e = "";
    for (; s.length && (t = s[s.length - 1][0], t === "space" || t === "comment"); ) e = s.pop()[1] + e;
    return e;
  }
  spacesAndCommentsFromStart(s) {
    let t, e = "";
    for (; s.length && (t = s[0][0], t === "space" || t === "comment"); ) e += s.shift()[1];
    return e;
  }
  spacesFromEnd(s) {
    let t, e = "";
    for (; s.length && (t = s[s.length - 1][0], t === "space"); ) e = s.pop()[1] + e;
    return e;
  }
  stringFrom(s, t) {
    let e = "";
    for (let A = t; A < s.length; A++) e += s[A][1];
    return s.splice(t, s.length - t), e;
  }
  unclosedBlock() {
    let s = this.current.source.start;
    throw this.input.error("Unclosed block", s.line, s.column);
  }
  unclosedBracket(s) {
    throw this.input.error("Unclosed bracket", { offset: s[2] }, { offset: s[2] + 1 });
  }
  unexpectedClose(s) {
    throw this.input.error("Unexpected }", { offset: s[2] }, { offset: s[2] + 1 });
  }
  unknownWord(s) {
    throw this.input.error("Unknown word", { offset: s[0][2] }, { offset: s[0][2] + s[0][1].length });
  }
  unnamedAtrule(s, t) {
    throw this.input.error("At-rule without name", { offset: t[2] }, { offset: t[2] + t[1].length });
  }
};
let sQ = dr, rQ = AQ, nQ = el;
function Ba(s, t) {
  let e = new nQ(s, t), A = new rQ(e);
  try {
    A.parse();
  } catch (r) {
    throw process.env.NODE_ENV !== "production" && r.name === "CssSyntaxError" && t && t.from && (/\.scss$/i.test(t.from) ? r.message += `
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser` : /\.sass/i.test(t.from) ? r.message += `
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser` : /\.less$/i.test(t.from) && (r.message += `
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)), r;
  }
  return A.root;
}
var dp = Ba;
Ba.default = Ba, sQ.registerParse(Ba);
let { isClean: xA, my: iQ } = vi, oQ = LB, aQ = qc, cQ = dr, lQ = ap, hQ = YB, uf = cp, dQ = dp, uQ = Ri;
const pQ = { atrule: "AtRule", comment: "Comment", decl: "Declaration", document: "Document", root: "Root", rule: "Rule" }, gQ = { AtRule: !0, AtRuleExit: !0, Comment: !0, CommentExit: !0, Declaration: !0, DeclarationExit: !0, Document: !0, DocumentExit: !0, Once: !0, OnceExit: !0, postcssPlugin: !0, prepare: !0, Root: !0, RootExit: !0, Rule: !0, RuleExit: !0 }, fQ = { Once: !0, postcssPlugin: !0, prepare: !0 };
function wn(s) {
  return typeof s == "object" && typeof s.then == "function";
}
function ey(s) {
  let t = !1, e = pQ[s.type];
  return s.type === "decl" ? t = s.prop.toLowerCase() : s.type === "atrule" && (t = s.name.toLowerCase()), t && s.append ? [e, e + "-" + t, 0, e + "Exit", e + "Exit-" + t] : t ? [e, e + "-" + t, e + "Exit", e + "Exit-" + t] : s.append ? [e, 0, e + "Exit"] : [e, e + "Exit"];
}
function pf(s) {
  let t;
  return t = s.type === "document" ? ["Document", 0, "DocumentExit"] : s.type === "root" ? ["Root", 0, "RootExit"] : ey(s), { eventIndex: 0, events: t, iterator: 0, node: s, visitorIndex: 0, visitors: [] };
}
function xd(s) {
  return s[xA] = !1, s.nodes && s.nodes.forEach((t) => xd(t)), s;
}
let Sd = {}, Pr = class Ay {
  constructor(t, e, A) {
    let r;
    if (this.stringified = !1, this.processed = !1, typeof e != "object" || e === null || e.type !== "root" && e.type !== "document") if (e instanceof Ay || e instanceof uf) r = xd(e.root), e.map && (A.map === void 0 && (A.map = {}), A.map.inline || (A.map.inline = !1), A.map.prev = e.map);
    else {
      let n = dQ;
      A.syntax && (n = A.syntax.parse), A.parser && (n = A.parser), n.parse && (n = n.parse);
      try {
        r = n(e, A);
      } catch (i) {
        this.processed = !0, this.error = i;
      }
      r && !r[iQ] && cQ.rebuild(r);
    }
    else r = xd(e);
    this.result = new uf(t, r, A), this.helpers = { ...Sd, postcss: Sd, result: this.result }, this.plugins = this.processor.plugins.map((n) => typeof n == "object" && n.prepare ? { ...n, ...n.prepare(this.result) } : n);
  }
  async() {
    return this.error ? Promise.reject(this.error) : this.processed ? Promise.resolve(this.result) : (this.processing || (this.processing = this.runAsync()), this.processing);
  }
  catch(t) {
    return this.async().catch(t);
  }
  finally(t) {
    return this.async().then(t, t);
  }
  getAsyncError() {
    throw new Error("Use process(css).then(cb) to work with async plugins");
  }
  handleError(t, e) {
    let A = this.result.lastPlugin;
    try {
      if (e && e.addToError(t), this.error = t, t.name !== "CssSyntaxError" || t.plugin) {
        if (A.postcssVersion && process.env.NODE_ENV !== "production") {
          let r = A.postcssPlugin, n = A.postcssVersion, i = this.result.processor.version, o = n.split("."), a = i.split(".");
          (o[0] !== a[0] || parseInt(o[1]) > parseInt(a[1])) && console.error("Unknown error from PostCSS plugin. Your current PostCSS version is " + i + ", but " + r + " uses " + n + ". Perhaps this is the source of the error below.");
        }
      } else t.plugin = A.postcssPlugin, t.setMessage();
    } catch (r) {
      console && console.error && console.error(r);
    }
    return t;
  }
  prepareVisitors() {
    this.listeners = {};
    let t = (e, A, r) => {
      this.listeners[A] || (this.listeners[A] = []), this.listeners[A].push([e, r]);
    };
    for (let e of this.plugins) if (typeof e == "object") for (let A in e) {
      if (!gQ[A] && /^[A-Z]/.test(A)) throw new Error(`Unknown event ${A} in ${e.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);
      if (!fQ[A]) if (typeof e[A] == "object") for (let r in e[A]) t(e, r === "*" ? A : A + "-" + r.toLowerCase(), e[A][r]);
      else typeof e[A] == "function" && t(e, A, e[A]);
    }
    this.hasListener = Object.keys(this.listeners).length > 0;
  }
  async runAsync() {
    this.plugin = 0;
    for (let t = 0; t < this.plugins.length; t++) {
      let e = this.plugins[t], A = this.runOnRoot(e);
      if (wn(A)) try {
        await A;
      } catch (r) {
        throw this.handleError(r);
      }
    }
    if (this.prepareVisitors(), this.hasListener) {
      let t = this.result.root;
      for (; !t[xA]; ) {
        t[xA] = !0;
        let e = [pf(t)];
        for (; e.length > 0; ) {
          let A = this.visitTick(e);
          if (wn(A)) try {
            await A;
          } catch (r) {
            let n = e[e.length - 1].node;
            throw this.handleError(r, n);
          }
        }
      }
      if (this.listeners.OnceExit) for (let [e, A] of this.listeners.OnceExit) {
        this.result.lastPlugin = e;
        try {
          if (t.type === "document") {
            let r = t.nodes.map((n) => A(n, this.helpers));
            await Promise.all(r);
          } else await A(t, this.helpers);
        } catch (r) {
          throw this.handleError(r);
        }
      }
    }
    return this.processed = !0, this.stringify();
  }
  runOnRoot(t) {
    this.result.lastPlugin = t;
    try {
      if (typeof t == "object" && t.Once) {
        if (this.result.root.type === "document") {
          let e = this.result.root.nodes.map((A) => t.Once(A, this.helpers));
          return wn(e[0]) ? Promise.all(e) : e;
        }
        return t.Once(this.result.root, this.helpers);
      }
      if (typeof t == "function") return t(this.result.root, this.result);
    } catch (e) {
      throw this.handleError(e);
    }
  }
  stringify() {
    if (this.error) throw this.error;
    if (this.stringified) return this.result;
    this.stringified = !0, this.sync();
    let t = this.result.opts, e = aQ;
    t.syntax && (e = t.syntax.stringify), t.stringifier && (e = t.stringifier), e.stringify && (e = e.stringify);
    let A = new oQ(e, this.result.root, this.result.opts).generate();
    return this.result.css = A[0], this.result.map = A[1], this.result;
  }
  sync() {
    if (this.error) throw this.error;
    if (this.processed) return this.result;
    if (this.processed = !0, this.processing) throw this.getAsyncError();
    for (let t of this.plugins)
      if (wn(this.runOnRoot(t))) throw this.getAsyncError();
    if (this.prepareVisitors(), this.hasListener) {
      let t = this.result.root;
      for (; !t[xA]; ) t[xA] = !0, this.walkSync(t);
      if (this.listeners.OnceExit) if (t.type === "document") for (let e of t.nodes) this.visitSync(this.listeners.OnceExit, e);
      else this.visitSync(this.listeners.OnceExit, t);
    }
    return this.result;
  }
  then(t, e) {
    return process.env.NODE_ENV !== "production" && ("from" in this.opts || hQ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")), this.async().then(t, e);
  }
  toString() {
    return this.css;
  }
  visitSync(t, e) {
    for (let [A, r] of t) {
      let n;
      this.result.lastPlugin = A;
      try {
        n = r(e, this.helpers);
      } catch (i) {
        throw this.handleError(i, e.proxyOf);
      }
      if (e.type !== "root" && e.type !== "document" && !e.parent) return !0;
      if (wn(n)) throw this.getAsyncError();
    }
  }
  visitTick(t) {
    let e = t[t.length - 1], { node: A, visitors: r } = e;
    if (A.type !== "root" && A.type !== "document" && !A.parent) return void t.pop();
    if (r.length > 0 && e.visitorIndex < r.length) {
      let [i, o] = r[e.visitorIndex];
      e.visitorIndex += 1, e.visitorIndex === r.length && (e.visitors = [], e.visitorIndex = 0), this.result.lastPlugin = i;
      try {
        return o(A.toProxy(), this.helpers);
      } catch (a) {
        throw this.handleError(a, A);
      }
    }
    if (e.iterator !== 0) {
      let i, o = e.iterator;
      for (; i = A.nodes[A.indexes[o]]; ) if (A.indexes[o] += 1, !i[xA]) return i[xA] = !0, void t.push(pf(i));
      e.iterator = 0, delete A.indexes[o];
    }
    let n = e.events;
    for (; e.eventIndex < n.length; ) {
      let i = n[e.eventIndex];
      if (e.eventIndex += 1, i === 0) return void (A.nodes && A.nodes.length && (A[xA] = !0, e.iterator = A.getIterator()));
      if (this.listeners[i]) return void (e.visitors = this.listeners[i]);
    }
    t.pop();
  }
  walkSync(t) {
    t[xA] = !0;
    let e = ey(t);
    for (let A of e) if (A === 0) t.nodes && t.each((r) => {
      r[xA] || this.walkSync(r);
    });
    else {
      let r = this.listeners[A];
      if (r && this.visitSync(r, t.toProxy())) return;
    }
  }
  warnings() {
    return this.sync().warnings();
  }
  get content() {
    return this.stringify().content;
  }
  get css() {
    return this.stringify().css;
  }
  get map() {
    return this.stringify().map;
  }
  get messages() {
    return this.sync().messages;
  }
  get opts() {
    return this.result.opts;
  }
  get processor() {
    return this.result.processor;
  }
  get root() {
    return this.sync().root;
  }
  get [Symbol.toStringTag]() {
    return "LazyResult";
  }
};
Pr.registerPostcss = (s) => {
  Sd = s;
};
var sy = Pr;
Pr.default = Pr, uQ.registerLazyResult(Pr), lQ.registerLazyResult(Pr);
let mQ = LB, wQ = qc, BQ = YB, yQ = dp;
const CQ = cp;
let Ed = class {
  constructor(s, t, e) {
    let A;
    t = t.toString(), this.stringified = !1, this._processor = s, this._css = t, this._opts = e, this._map = void 0;
    let r = wQ;
    this.result = new CQ(this._processor, A, this._opts), this.result.css = t;
    let n = this;
    Object.defineProperty(this.result, "root", { get: () => n.root });
    let i = new mQ(r, A, this._opts, t);
    if (i.isMap()) {
      let [o, a] = i.generate();
      o && (this.result.css = o), a && (this.result.map = a);
    } else i.clearAnnotation(), this.result.css = i.css;
  }
  async() {
    return this.error ? Promise.reject(this.error) : Promise.resolve(this.result);
  }
  catch(s) {
    return this.async().catch(s);
  }
  finally(s) {
    return this.async().then(s, s);
  }
  sync() {
    if (this.error) throw this.error;
    return this.result;
  }
  then(s, t) {
    return process.env.NODE_ENV !== "production" && ("from" in this._opts || BQ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")), this.async().then(s, t);
  }
  toString() {
    return this._css;
  }
  warnings() {
    return [];
  }
  get content() {
    return this.result.css;
  }
  get css() {
    return this.result.css;
  }
  get map() {
    return this.result.map;
  }
  get messages() {
    return [];
  }
  get opts() {
    return this.result.opts;
  }
  get processor() {
    return this.result.processor;
  }
  get root() {
    if (this._root) return this._root;
    let s, t = yQ;
    try {
      s = t(this._css, this._opts);
    } catch (e) {
      this.error = e;
    }
    if (this.error) throw this.error;
    return this._root = s, s;
  }
  get [Symbol.toStringTag]() {
    return "NoWorkResult";
  }
};
var bQ = Ed;
Ed.default = Ed;
let vQ = bQ, kQ = sy, xQ = ap, SQ = Ri, Wn = class {
  constructor(s = []) {
    this.version = "8.4.38", this.plugins = this.normalize(s);
  }
  normalize(s) {
    let t = [];
    for (let e of s) if (e.postcss === !0 ? e = e() : e.postcss && (e = e.postcss), typeof e == "object" && Array.isArray(e.plugins)) t = t.concat(e.plugins);
    else if (typeof e == "object" && e.postcssPlugin) t.push(e);
    else if (typeof e == "function") t.push(e);
    else {
      if (typeof e != "object" || !e.parse && !e.stringify) throw new Error(e + " is not a PostCSS plugin");
      if (process.env.NODE_ENV !== "production") throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");
    }
    return t;
  }
  process(s, t = {}) {
    return this.plugins.length || t.parser || t.stringifier || t.syntax ? new kQ(this, s, t) : new vQ(this, s, t);
  }
  use(s) {
    return this.plugins = this.plugins.concat(this.normalize([s])), this;
  }
};
var EQ = Wn;
Wn.default = Wn, SQ.registerProcessor(Wn), xQ.registerProcessor(Wn);
let FQ = tl, QQ = UB, UQ = Al, IQ = lp, TQ = el, _Q = Ri, OQ = hp;
function Si(s, t) {
  if (Array.isArray(s)) return s.map((r) => Si(r));
  let { inputs: e, ...A } = s;
  if (e) {
    t = [];
    for (let r of e) {
      let n = { ...r, __proto__: TQ.prototype };
      n.map && (n.map = { ...n.map, __proto__: QQ.prototype }), t.push(n);
    }
  }
  if (A.nodes && (A.nodes = s.nodes.map((r) => Si(r, t))), A.source) {
    let { inputId: r, ...n } = A.source;
    A.source = n, r != null && (A.source.input = t[r]);
  }
  if (A.type === "root") return new _Q(A);
  if (A.type === "decl") return new FQ(A);
  if (A.type === "rule") return new OQ(A);
  if (A.type === "comment") return new UQ(A);
  if (A.type === "atrule") return new IQ(A);
  throw new Error("Unknown node type: " + s.type);
}
var LQ = Si;
Si.default = Si;
let MQ = np, gf = tl, DQ = sy, RQ = dr, Fd = EQ, HQ = qc, PQ = LQ, ff = ap, KQ = JB, mf = Al, wf = lp, NQ = cp, jQ = el, VQ = dp, GQ = $B, Bf = hp, yf = Ri, WQ = $c;
function Qt(...s) {
  return s.length === 1 && Array.isArray(s[0]) && (s = s[0]), new Fd(s);
}
Qt.plugin = function(s, t) {
  let e, A = !1;
  function r(...n) {
    console && console.warn && !A && (A = !0, console.warn(s + `: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`), process.env.LANG && process.env.LANG.startsWith("cn") && console.warn(s + `: ้้ข postcss.plugin ่ขซๅผ็จ. ่ฟ็งปๆๅ:
https://www.w3ctech.com/topic/2226`));
    let i = t(...n);
    return i.postcssPlugin = s, i.postcssVersion = new Fd().version, i;
  }
  return Object.defineProperty(r, "postcss", { get: () => (e || (e = r()), e) }), r.process = function(n, i, o) {
    return Qt([r(o)]).process(n, i);
  }, r;
}, Qt.stringify = HQ, Qt.parse = VQ, Qt.fromJSON = PQ, Qt.list = GQ, Qt.comment = (s) => new mf(s), Qt.atRule = (s) => new wf(s), Qt.decl = (s) => new gf(s), Qt.rule = (s) => new Bf(s), Qt.root = (s) => new yf(s), Qt.document = (s) => new ff(s), Qt.CssSyntaxError = MQ, Qt.Declaration = gf, Qt.Container = RQ, Qt.Processor = Fd, Qt.Document = ff, Qt.Comment = mf, Qt.Warning = KQ, Qt.AtRule = wf, Qt.Result = NQ, Qt.Input = jQ, Qt.Rule = Bf, Qt.Root = yf, Qt.Node = WQ, DQ.registerPostcss(Qt);
var YQ = Qt;
Qt.default = Qt;
const Kt = pF(YQ);
Kt.stringify, Kt.fromJSON, Kt.plugin, Kt.parse, Kt.list, Kt.document, Kt.comment, Kt.atRule, Kt.rule, Kt.decl, Kt.root, Kt.CssSyntaxError, Kt.Declaration, Kt.Container, Kt.Processor, Kt.Document, Kt.Comment, Kt.Warning, Kt.AtRule, Kt.Result, Kt.Input, Kt.Rule, Kt.Root, Kt.Node;
var JQ = Object.defineProperty, Ze = (s, t, e) => ((A, r, n) => r in A ? JQ(A, r, { enumerable: !0, configurable: !0, writable: !0, value: n }) : A[r] = n)(s, typeof t != "symbol" ? t + "" : t, e);
function XQ(s) {
  return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
}
function zQ(s) {
  if (s.__esModule) return s;
  var t = s.default;
  if (typeof t == "function") {
    var e = function A() {
      return this instanceof A ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    e.prototype = t.prototype;
  } else e = {};
  return Object.defineProperty(e, "__esModule", { value: !0 }), Object.keys(s).forEach(function(A) {
    var r = Object.getOwnPropertyDescriptor(s, A);
    Object.defineProperty(e, A, r.get ? r : { enumerable: !0, get: function() {
      return s[A];
    } });
  }), e;
}
var Qd = { exports: {} }, Ht = String, Cf = function() {
  return { isColorSupported: !1, reset: Ht, bold: Ht, dim: Ht, italic: Ht, underline: Ht, inverse: Ht, hidden: Ht, strikethrough: Ht, black: Ht, red: Ht, green: Ht, yellow: Ht, blue: Ht, magenta: Ht, cyan: Ht, white: Ht, gray: Ht, bgBlack: Ht, bgRed: Ht, bgGreen: Ht, bgYellow: Ht, bgBlue: Ht, bgMagenta: Ht, bgCyan: Ht, bgWhite: Ht };
};
Qd.exports = Cf(), Qd.exports.createColors = Cf;
var ZQ = Qd.exports;
const bA = zQ(Object.freeze(Object.defineProperty({ __proto__: null, default: {} }, Symbol.toStringTag, { value: "Module" })));
let bf = ZQ, vf = bA, Ud = class ry extends Error {
  constructor(t, e, A, r, n, i) {
    super(t), this.name = "CssSyntaxError", this.reason = t, n && (this.file = n), r && (this.source = r), i && (this.plugin = i), e !== void 0 && A !== void 0 && (typeof e == "number" ? (this.line = e, this.column = A) : (this.line = e.line, this.column = e.column, this.endLine = A.line, this.endColumn = A.column)), this.setMessage(), Error.captureStackTrace && Error.captureStackTrace(this, ry);
  }
  setMessage() {
    this.message = this.plugin ? this.plugin + ": " : "", this.message += this.file ? this.file : "<css input>", this.line !== void 0 && (this.message += ":" + this.line + ":" + this.column), this.message += ": " + this.reason;
  }
  showSourceCode(t) {
    if (!this.source) return "";
    let e = this.source;
    t == null && (t = bf.isColorSupported), vf && t && (e = vf(e));
    let A, r, n = e.split(/\r?\n/), i = Math.max(this.line - 3, 0), o = Math.min(this.line + 2, n.length), a = String(o).length;
    if (t) {
      let { bold: c, gray: l, red: h } = bf.createColors(!0);
      A = (d) => c(h(d)), r = (d) => l(d);
    } else A = r = (c) => c;
    return n.slice(i, o).map((c, l) => {
      let h = i + 1 + l, d = " " + (" " + h).slice(-a) + " | ";
      if (h === this.line) {
        let u = r(d.replace(/\d/g, " ")) + c.slice(0, this.column - 1).replace(/[^\t]/g, " ");
        return A(">") + r(d) + c + `
 ` + u + A("^");
      }
      return " " + r(d) + c;
    }).join(`
`);
  }
  toString() {
    let t = this.showSourceCode();
    return t && (t = `

` + t + `
`), this.name + ": " + this.message + t;
  }
};
var up = Ud;
Ud.default = Ud;
var Ei = {};
Ei.isClean = Symbol("isClean"), Ei.my = Symbol("my");
const kf = { after: `
`, beforeClose: `
`, beforeComment: `
`, beforeDecl: `
`, beforeOpen: " ", beforeRule: `
`, colon: ": ", commentLeft: " ", commentRight: " ", emptyBody: "", indent: "    ", semicolon: !1 };
let Id = class {
  constructor(s) {
    this.builder = s;
  }
  atrule(s, t) {
    let e = "@" + s.name, A = s.params ? this.rawValue(s, "params") : "";
    if (s.raws.afterName !== void 0 ? e += s.raws.afterName : A && (e += " "), s.nodes) this.block(s, e + A);
    else {
      let r = (s.raws.between || "") + (t ? ";" : "");
      this.builder(e + A + r, s);
    }
  }
  beforeAfter(s, t) {
    let e;
    e = s.type === "decl" ? this.raw(s, null, "beforeDecl") : s.type === "comment" ? this.raw(s, null, "beforeComment") : t === "before" ? this.raw(s, null, "beforeRule") : this.raw(s, null, "beforeClose");
    let A = s.parent, r = 0;
    for (; A && A.type !== "root"; ) r += 1, A = A.parent;
    if (e.includes(`
`)) {
      let n = this.raw(s, null, "indent");
      if (n.length) for (let i = 0; i < r; i++) e += n;
    }
    return e;
  }
  block(s, t) {
    let e, A = this.raw(s, "between", "beforeOpen");
    this.builder(t + A + "{", s, "start"), s.nodes && s.nodes.length ? (this.body(s), e = this.raw(s, "after")) : e = this.raw(s, "after", "emptyBody"), e && this.builder(e), this.builder("}", s, "end");
  }
  body(s) {
    let t = s.nodes.length - 1;
    for (; t > 0 && s.nodes[t].type === "comment"; ) t -= 1;
    let e = this.raw(s, "semicolon");
    for (let A = 0; A < s.nodes.length; A++) {
      let r = s.nodes[A], n = this.raw(r, "before");
      n && this.builder(n), this.stringify(r, t !== A || e);
    }
  }
  comment(s) {
    let t = this.raw(s, "left", "commentLeft"), e = this.raw(s, "right", "commentRight");
    this.builder("/*" + t + s.text + e + "*/", s);
  }
  decl(s, t) {
    let e = this.raw(s, "between", "colon"), A = s.prop + e + this.rawValue(s, "value");
    s.important && (A += s.raws.important || " !important"), t && (A += ";"), this.builder(A, s);
  }
  document(s) {
    this.body(s);
  }
  raw(s, t, e) {
    let A;
    if (e || (e = t), t && (A = s.raws[t], A !== void 0)) return A;
    let r = s.parent;
    if (e === "before" && (!r || r.type === "root" && r.first === s || r && r.type === "document"))
      return "";
    if (!r) return kf[e];
    let n = s.root();
    if (n.rawCache || (n.rawCache = {}), n.rawCache[e] !== void 0) return n.rawCache[e];
    if (e === "before" || e === "after") return this.beforeAfter(s, e);
    {
      let i = "raw" + function(o) {
        return o[0].toUpperCase() + o.slice(1);
      }(e);
      this[i] ? A = this[i](n, s) : n.walk((o) => {
        if (A = o.raws[t], A !== void 0) return !1;
      });
    }
    return A === void 0 && (A = kf[e]), n.rawCache[e] = A, A;
  }
  rawBeforeClose(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length > 0 && e.raws.after !== void 0) return t = e.raws.after, t.includes(`
`) && (t = t.replace(/[^\n]+$/, "")), !1;
    }), t && (t = t.replace(/\S/g, "")), t;
  }
  rawBeforeComment(s, t) {
    let e;
    return s.walkComments((A) => {
      if (A.raws.before !== void 0) return e = A.raws.before, e.includes(`
`) && (e = e.replace(/[^\n]+$/, "")), !1;
    }), e === void 0 ? e = this.raw(t, null, "beforeDecl") : e && (e = e.replace(/\S/g, "")), e;
  }
  rawBeforeDecl(s, t) {
    let e;
    return s.walkDecls((A) => {
      if (A.raws.before !== void 0) return e = A.raws.before, e.includes(`
`) && (e = e.replace(/[^\n]+$/, "")), !1;
    }), e === void 0 ? e = this.raw(t, null, "beforeRule") : e && (e = e.replace(/\S/g, "")), e;
  }
  rawBeforeOpen(s) {
    let t;
    return s.walk((e) => {
      if (e.type !== "decl" && (t = e.raws.between, t !== void 0)) return !1;
    }), t;
  }
  rawBeforeRule(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && (e.parent !== s || s.first !== e) && e.raws.before !== void 0) return t = e.raws.before, t.includes(`
`) && (t = t.replace(/[^\n]+$/, "")), !1;
    }), t && (t = t.replace(/\S/g, "")), t;
  }
  rawColon(s) {
    let t;
    return s.walkDecls((e) => {
      if (e.raws.between !== void 0) return t = e.raws.between.replace(/[^\s:]/g, ""), !1;
    }), t;
  }
  rawEmptyBody(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length === 0 && (t = e.raws.after, t !== void 0)) return !1;
    }), t;
  }
  rawIndent(s) {
    if (s.raws.indent) return s.raws.indent;
    let t;
    return s.walk((e) => {
      let A = e.parent;
      if (A && A !== s && A.parent && A.parent === s && e.raws.before !== void 0) {
        let r = e.raws.before.split(`
`);
        return t = r[r.length - 1], t = t.replace(/\S/g, ""), !1;
      }
    }), t;
  }
  rawSemicolon(s) {
    let t;
    return s.walk((e) => {
      if (e.nodes && e.nodes.length && e.last.type === "decl" && (t = e.raws.semicolon, t !== void 0)) return !1;
    }), t;
  }
  rawValue(s, t) {
    let e = s[t], A = s.raws[t];
    return A && A.value === e ? A.raw : e;
  }
  root(s) {
    this.body(s), s.raws.after && this.builder(s.raws.after);
  }
  rule(s) {
    this.block(s, this.rawValue(s, "selector")), s.raws.ownSemicolon && this.builder(s.raws.ownSemicolon, s, "end");
  }
  stringify(s, t) {
    if (!this[s.type]) throw new Error("Unknown AST node type " + s.type + ". Maybe you need to change PostCSS stringifier.");
    this[s.type](s, t);
  }
};
var ny = Id;
Id.default = Id;
let qQ = ny;
function Td(s, t) {
  new qQ(t).stringify(s);
}
var sl = Td;
Td.default = Td;
let { isClean: _o, my: $Q } = Ei, tU = up, eU = ny, AU = sl;
function _d(s, t) {
  let e = new s.constructor();
  for (let A in s) {
    if (!Object.prototype.hasOwnProperty.call(s, A) || A === "proxyCache") continue;
    let r = s[A], n = typeof r;
    A === "parent" && n === "object" ? t && (e[A] = t) : A === "source" ? e[A] = r : Array.isArray(r) ? e[A] = r.map((i) => _d(i, e)) : (n === "object" && r !== null && (r = _d(r)), e[A] = r);
  }
  return e;
}
let Od = class {
  constructor(s = {}) {
    this.raws = {}, this[_o] = !1, this[$Q] = !0;
    for (let t in s) if (t === "nodes") {
      this.nodes = [];
      for (let e of s[t]) typeof e.clone == "function" ? this.append(e.clone()) : this.append(e);
    } else this[t] = s[t];
  }
  addToError(s) {
    if (s.postcssNode = this, s.stack && this.source && /\n\s{4}at /.test(s.stack)) {
      let t = this.source;
      s.stack = s.stack.replace(/\n\s{4}at /, `$&${t.input.from}:${t.start.line}:${t.start.column}$&`);
    }
    return s;
  }
  after(s) {
    return this.parent.insertAfter(this, s), this;
  }
  assign(s = {}) {
    for (let t in s) this[t] = s[t];
    return this;
  }
  before(s) {
    return this.parent.insertBefore(this, s), this;
  }
  cleanRaws(s) {
    delete this.raws.before, delete this.raws.after, s || delete this.raws.between;
  }
  clone(s = {}) {
    let t = _d(this);
    for (let e in s) t[e] = s[e];
    return t;
  }
  cloneAfter(s = {}) {
    let t = this.clone(s);
    return this.parent.insertAfter(this, t), t;
  }
  cloneBefore(s = {}) {
    let t = this.clone(s);
    return this.parent.insertBefore(this, t), t;
  }
  error(s, t = {}) {
    if (this.source) {
      let { end: e, start: A } = this.rangeBy(t);
      return this.source.input.error(s, { column: A.column, line: A.line }, { column: e.column, line: e.line }, t);
    }
    return new tU(s);
  }
  getProxyProcessor() {
    return { get: (s, t) => t === "proxyOf" ? s : t === "root" ? () => s.root().toProxy() : s[t], set: (s, t, e) => (s[t] === e || (s[t] = e, t !== "prop" && t !== "value" && t !== "name" && t !== "params" && t !== "important" && t !== "text" || s.markDirty()), !0) };
  }
  markDirty() {
    if (this[_o]) {
      this[_o] = !1;
      let s = this;
      for (; s = s.parent; ) s[_o] = !1;
    }
  }
  next() {
    if (!this.parent) return;
    let s = this.parent.index(this);
    return this.parent.nodes[s + 1];
  }
  positionBy(s, t) {
    let e = this.source.start;
    if (s.index) e = this.positionInside(s.index, t);
    else if (s.word) {
      let A = (t = this.toString()).indexOf(s.word);
      A !== -1 && (e = this.positionInside(A, t));
    }
    return e;
  }
  positionInside(s, t) {
    let e = t || this.toString(), A = this.source.start.column, r = this.source.start.line;
    for (let n = 0; n < s; n++) e[n] === `
` ? (A = 1, r += 1) : A += 1;
    return { column: A, line: r };
  }
  prev() {
    if (!this.parent) return;
    let s = this.parent.index(this);
    return this.parent.nodes[s - 1];
  }
  rangeBy(s) {
    let t = { column: this.source.start.column, line: this.source.start.line }, e = this.source.end ? { column: this.source.end.column + 1, line: this.source.end.line } : { column: t.column + 1, line: t.line };
    if (s.word) {
      let A = this.toString(), r = A.indexOf(s.word);
      r !== -1 && (t = this.positionInside(r, A), e = this.positionInside(r + s.word.length, A));
    } else s.start ? t = { column: s.start.column, line: s.start.line } : s.index && (t = this.positionInside(s.index)), s.end ? e = { column: s.end.column, line: s.end.line } : typeof s.endIndex == "number" ? e = this.positionInside(s.endIndex) : s.index && (e = this.positionInside(s.index + 1));
    return (e.line < t.line || e.line === t.line && e.column <= t.column) && (e = { column: t.column + 1, line: t.line }), { end: e, start: t };
  }
  raw(s, t) {
    return new eU().raw(this, s, t);
  }
  remove() {
    return this.parent && this.parent.removeChild(this), this.parent = void 0, this;
  }
  replaceWith(...s) {
    if (this.parent) {
      let t = this, e = !1;
      for (let A of s) A === this ? e = !0 : e ? (this.parent.insertAfter(t, A), t = A) : this.parent.insertBefore(t, A);
      e || this.remove();
    }
    return this;
  }
  root() {
    let s = this;
    for (; s.parent && s.parent.type !== "document"; ) s = s.parent;
    return s;
  }
  toJSON(s, t) {
    let e = {}, A = t == null;
    t = t || /* @__PURE__ */ new Map();
    let r = 0;
    for (let n in this) {
      if (!Object.prototype.hasOwnProperty.call(this, n) || n === "parent" || n === "proxyCache") continue;
      let i = this[n];
      if (Array.isArray(i)) e[n] = i.map((o) => typeof o == "object" && o.toJSON ? o.toJSON(null, t) : o);
      else if (typeof i == "object" && i.toJSON) e[n] = i.toJSON(null, t);
      else if (n === "source") {
        let o = t.get(i.input);
        o == null && (o = r, t.set(i.input, r), r++), e[n] = { end: i.end, inputId: o, start: i.start };
      } else e[n] = i;
    }
    return A && (e.inputs = [...t.keys()].map((n) => n.toJSON())), e;
  }
  toProxy() {
    return this.proxyCache || (this.proxyCache = new Proxy(this, this.getProxyProcessor())), this.proxyCache;
  }
  toString(s = AU) {
    s.stringify && (s = s.stringify);
    let t = "";
    return s(this, (e) => {
      t += e;
    }), t;
  }
  warn(s, t, e) {
    let A = { node: this };
    for (let r in e) A[r] = e[r];
    return s.warn(t, A);
  }
  get proxyOf() {
    return this;
  }
};
var rl = Od;
Od.default = Od;
let sU = rl, Ld = class extends sU {
  constructor(s) {
    s && s.value !== void 0 && typeof s.value != "string" && (s = { ...s, value: String(s.value) }), super(s), this.type = "decl";
  }
  get variable() {
    return this.prop.startsWith("--") || this.prop[0] === "$";
  }
};
var nl = Ld;
Ld.default = Ld;
var rU = { nanoid: (s = 21) => {
  let t = "", e = s;
  for (; e--; ) t += "useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64 * Math.random() | 0];
  return t;
}, customAlphabet: (s, t = 21) => (e = t) => {
  let A = "", r = e;
  for (; r--; ) A += s[Math.random() * s.length | 0];
  return A;
} };
let { SourceMapConsumer: xf, SourceMapGenerator: Sf } = bA, { existsSync: nU, readFileSync: iU } = bA, { dirname: rh, join: oU } = bA, Md = class {
  constructor(s, t) {
    if (t.map === !1) return;
    this.loadAnnotation(s), this.inline = this.startWith(this.annotation, "data:");
    let e = t.map ? t.map.prev : void 0, A = this.loadMap(t.from, e);
    !this.mapFile && t.from && (this.mapFile = t.from), this.mapFile && (this.root = rh(this.mapFile)), A && (this.text = A);
  }
  consumer() {
    return this.consumerCache || (this.consumerCache = new xf(this.text)), this.consumerCache;
  }
  decodeInline(s) {
    if (/^data:application\/json;charset=utf-?8,/.test(s) || /^data:application\/json,/.test(s)) return decodeURIComponent(s.substr(RegExp.lastMatch.length));
    if (/^data:application\/json;charset=utf-?8;base64,/.test(s) || /^data:application\/json;base64,/.test(s)) return function(e) {
      return Buffer ? Buffer.from(e, "base64").toString() : window.atob(e);
    }(s.substr(RegExp.lastMatch.length));
    let t = s.match(/data:application\/json;([^,]+),/)[1];
    throw new Error("Unsupported source map encoding " + t);
  }
  getAnnotationURL(s) {
    return s.replace(/^\/\*\s*# sourceMappingURL=/, "").trim();
  }
  isMap(s) {
    return typeof s == "object" && (typeof s.mappings == "string" || typeof s._mappings == "string" || Array.isArray(s.sections));
  }
  loadAnnotation(s) {
    let t = s.match(/\/\*\s*# sourceMappingURL=/gm);
    if (!t) return;
    let e = s.lastIndexOf(t.pop()), A = s.indexOf("*/", e);
    e > -1 && A > -1 && (this.annotation = this.getAnnotationURL(s.substring(e, A)));
  }
  loadFile(s) {
    if (this.root = rh(s), nU(s)) return this.mapFile = s, iU(s, "utf-8").toString().trim();
  }
  loadMap(s, t) {
    if (t === !1) return !1;
    if (t) {
      if (typeof t == "string") return t;
      if (typeof t != "function") {
        if (t instanceof xf) return Sf.fromSourceMap(t).toString();
        if (t instanceof Sf) return t.toString();
        if (this.isMap(t)) return JSON.stringify(t);
        throw new Error("Unsupported previous source map format: " + t.toString());
      }
      {
        let e = t(s);
        if (e) {
          let A = this.loadFile(e);
          if (!A) throw new Error("Unable to load previous source map: " + e.toString());
          return A;
        }
      }
    } else {
      if (this.inline) return this.decodeInline(this.annotation);
      if (this.annotation) {
        let e = this.annotation;
        return s && (e = oU(rh(s), e)), this.loadFile(e);
      }
    }
  }
  startWith(s, t) {
    return !!s && s.substr(0, t.length) === t;
  }
  withContent() {
    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);
  }
};
var iy = Md;
Md.default = Md;
let { SourceMapConsumer: aU, SourceMapGenerator: cU } = bA, { fileURLToPath: Ef, pathToFileURL: Oo } = bA, { isAbsolute: Dd, resolve: Rd } = bA, { nanoid: lU } = rU, nh = bA, Ff = up, hU = iy, ih = Symbol("fromOffsetCache"), dU = !!(aU && cU), Qf = !!(Rd && Dd), ya = class {
  constructor(s, t = {}) {
    if (s == null || typeof s == "object" && !s.toString) throw new Error(`PostCSS received ${s} instead of CSS string`);
    if (this.css = s.toString(), this.css[0] === "\uFEFF" || this.css[0] === "๏ฟพ" ? (this.hasBOM = !0, this.css = this.css.slice(1)) : this.hasBOM = !1, t.from && (!Qf || /^\w+:\/\//.test(t.from) || Dd(t.from) ? this.file = t.from : this.file = Rd(t.from)), Qf && dU) {
      let e = new hU(this.css, t);
      if (e.text) {
        this.map = e;
        let A = e.consumer().file;
        !this.file && A && (this.file = this.mapResolve(A));
      }
    }
    this.file || (this.id = "<input css " + lU(6) + ">"), this.map && (this.map.file = this.from);
  }
  error(s, t, e, A = {}) {
    let r, n, i;
    if (t && typeof t == "object") {
      let a = t, c = e;
      if (typeof a.offset == "number") {
        let l = this.fromOffset(a.offset);
        t = l.line, e = l.col;
      } else t = a.line, e = a.column;
      if (typeof c.offset == "number") {
        let l = this.fromOffset(c.offset);
        n = l.line, i = l.col;
      } else n = c.line, i = c.column;
    } else if (!e) {
      let a = this.fromOffset(t);
      t = a.line, e = a.col;
    }
    let o = this.origin(t, e, n, i);
    return r = o ? new Ff(s, o.endLine === void 0 ? o.line : { column: o.column, line: o.line }, o.endLine === void 0 ? o.column : { column: o.endColumn, line: o.endLine }, o.source, o.file, A.plugin) : new Ff(s, n === void 0 ? t : { column: e, line: t }, n === void 0 ? e : { column: i, line: n }, this.css, this.file, A.plugin), r.input = { column: e, endColumn: i, endLine: n, line: t, source: this.css }, this.file && (Oo && (r.input.url = Oo(this.file).toString()), r.input.file = this.file), r;
  }
  fromOffset(s) {
    let t, e;
    if (this[ih]) e = this[ih];
    else {
      let r = this.css.split(`
`);
      e = new Array(r.length);
      let n = 0;
      for (let i = 0, o = r.length; i < o; i++) e[i] = n, n += r[i].length + 1;
      this[ih] = e;
    }
    t = e[e.length - 1];
    let A = 0;
    if (s >= t) A = e.length - 1;
    else {
      let r, n = e.length - 2;
      for (; A < n; ) if (r = A + (n - A >> 1), s < e[r]) n = r - 1;
      else {
        if (!(s >= e[r + 1])) {
          A = r;
          break;
        }
        A = r + 1;
      }
    }
    return { col: s - e[A] + 1, line: A + 1 };
  }
  mapResolve(s) {
    return /^\w+:\/\//.test(s) ? s : Rd(this.map.consumer().sourceRoot || this.map.root || ".", s);
  }
  origin(s, t, e, A) {
    if (!this.map) return !1;
    let r, n, i = this.map.consumer(), o = i.originalPositionFor({ column: t, line: s });
    if (!o.source) return !1;
    typeof e == "number" && (r = i.originalPositionFor({ column: A, line: e })), n = Dd(o.source) ? Oo(o.source) : new URL(o.source, this.map.consumer().sourceRoot || Oo(this.map.mapFile));
    let a = { column: o.column, endColumn: r && r.column, endLine: r && r.line, line: o.line, url: n.toString() };
    if (n.protocol === "file:") {
      if (!Ef) throw new Error("file: protocol is not available in this PostCSS build");
      a.file = Ef(n);
    }
    let c = i.sourceContentFor(o.source);
    return c && (a.source = c), a;
  }
  toJSON() {
    let s = {};
    for (let t of ["hasBOM", "css", "file", "id"]) this[t] != null && (s[t] = this[t]);
    return this.map && (s.map = { ...this.map }, s.map.consumerCache && (s.map.consumerCache = void 0)), s;
  }
  get from() {
    return this.file || this.id;
  }
};
var il = ya;
ya.default = ya, nh && nh.registerInput && nh.registerInput(ya);
let { SourceMapConsumer: oy, SourceMapGenerator: Ca } = bA, { dirname: ba, relative: ay, resolve: cy, sep: ly } = bA, { pathToFileURL: Uf } = bA, uU = il, pU = !!(oy && Ca), gU = !!(ba && cy && ay && ly);
var hy = class {
  constructor(s, t, e, A) {
    this.stringify = s, this.mapOpts = e.map || {}, this.root = t, this.opts = e, this.css = A, this.originalCSS = A, this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute, this.memoizedFileURLs = /* @__PURE__ */ new Map(), this.memoizedPaths = /* @__PURE__ */ new Map(), this.memoizedURLs = /* @__PURE__ */ new Map();
  }
  addAnnotation() {
    let s;
    s = this.isInline() ? "data:application/json;base64," + this.toBase64(this.map.toString()) : typeof this.mapOpts.annotation == "string" ? this.mapOpts.annotation : typeof this.mapOpts.annotation == "function" ? this.mapOpts.annotation(this.opts.to, this.root) : this.outputFile() + ".map";
    let t = `
`;
    this.css.includes(`\r
`) && (t = `\r
`), this.css += t + "/*# sourceMappingURL=" + s + " */";
  }
  applyPrevMaps() {
    for (let s of this.previous()) {
      let t, e = this.toUrl(this.path(s.file)), A = s.root || ba(s.file);
      this.mapOpts.sourcesContent === !1 ? (t = new oy(s.text), t.sourcesContent && (t.sourcesContent = null)) : t = s.consumer(), this.map.applySourceMap(t, e, this.toUrl(this.path(A)));
    }
  }
  clearAnnotation() {
    if (this.mapOpts.annotation !== !1) if (this.root) {
      let s;
      for (let t = this.root.nodes.length - 1; t >= 0; t--) s = this.root.nodes[t], s.type === "comment" && s.text.indexOf("# sourceMappingURL=") === 0 && this.root.removeChild(t);
    } else this.css && (this.css = this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm, ""));
  }
  generate() {
    if (this.clearAnnotation(), gU && pU && this.isMap()) return this.generateMap();
    {
      let s = "";
      return this.stringify(this.root, (t) => {
        s += t;
      }), [s];
    }
  }
  generateMap() {
    if (this.root) this.generateString();
    else if (this.previous().length === 1) {
      let s = this.previous()[0].consumer();
      s.file = this.outputFile(), this.map = Ca.fromSourceMap(s, { ignoreInvalidMapping: !0 });
    } else this.map = new Ca({ file: this.outputFile(), ignoreInvalidMapping: !0 }), this.map.addMapping({ generated: { column: 0, line: 1 }, original: { column: 0, line: 1 }, source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : "<no source>" });
    return this.isSourcesContent() && this.setSourcesContent(), this.root && this.previous().length > 0 && this.applyPrevMaps(), this.isAnnotation() && this.addAnnotation(), this.isInline() ? [this.css] : [this.css, this.map];
  }
  generateString() {
    this.css = "", this.map = new Ca({ file: this.outputFile(), ignoreInvalidMapping: !0 });
    let s, t, e = 1, A = 1, r = "<no source>", n = { generated: { column: 0, line: 0 }, original: { column: 0, line: 0 }, source: "" };
    this.stringify(this.root, (i, o, a) => {
      if (this.css += i, o && a !== "end" && (n.generated.line = e, n.generated.column = A - 1, o.source && o.source.start ? (n.source = this.sourcePath(o), n.original.line = o.source.start.line, n.original.column = o.source.start.column - 1, this.map.addMapping(n)) : (n.source = r, n.original.line = 1, n.original.column = 0, this.map.addMapping(n))), s = i.match(/\n/g), s ? (e += s.length, t = i.lastIndexOf(`
`), A = i.length - t) : A += i.length, o && a !== "start") {
        let c = o.parent || { raws: {} };
        (o.type === "decl" || o.type === "atrule" && !o.nodes) && o === c.last && !c.raws.semicolon || (o.source && o.source.end ? (n.source = this.sourcePath(o), n.original.line = o.source.end.line, n.original.column = o.source.end.column - 1, n.generated.line = e, n.generated.column = A - 2, this.map.addMapping(n)) : (n.source = r, n.original.line = 1, n.original.column = 0, n.generated.line = e, n.generated.column = A - 1, this.map.addMapping(n)));
      }
    });
  }
  isAnnotation() {
    return !!this.isInline() || (this.mapOpts.annotation !== void 0 ? this.mapOpts.annotation : !this.previous().length || this.previous().some((s) => s.annotation));
  }
  isInline() {
    if (this.mapOpts.inline !== void 0) return this.mapOpts.inline;
    let s = this.mapOpts.annotation;
    return (s === void 0 || s === !0) && (!this.previous().length || this.previous().some((t) => t.inline));
  }
  isMap() {
    return this.opts.map !== void 0 ? !!this.opts.map : this.previous().length > 0;
  }
  isSourcesContent() {
    return this.mapOpts.sourcesContent !== void 0 ? this.mapOpts.sourcesContent : !this.previous().length || this.previous().some((s) => s.withContent());
  }
  outputFile() {
    return this.opts.to ? this.path(this.opts.to) : this.opts.from ? this.path(this.opts.from) : "to.css";
  }
  path(s) {
    if (this.mapOpts.absolute || s.charCodeAt(0) === 60 || /^\w+:\/\//.test(s)) return s;
    let t = this.memoizedPaths.get(s);
    if (t) return t;
    let e = this.opts.to ? ba(this.opts.to) : ".";
    typeof this.mapOpts.annotation == "string" && (e = ba(cy(e, this.mapOpts.annotation)));
    let A = ay(e, s);
    return this.memoizedPaths.set(s, A), A;
  }
  previous() {
    if (!this.previousMaps) if (this.previousMaps = [], this.root) this.root.walk((s) => {
      if (s.source && s.source.input.map) {
        let t = s.source.input.map;
        this.previousMaps.includes(t) || this.previousMaps.push(t);
      }
    });
    else {
      let s = new uU(this.originalCSS, this.opts);
      s.map && this.previousMaps.push(s.map);
    }
    return this.previousMaps;
  }
  setSourcesContent() {
    let s = {};
    if (this.root) this.root.walk((t) => {
      if (t.source) {
        let e = t.source.input.from;
        if (e && !s[e]) {
          s[e] = !0;
          let A = this.usesFileUrls ? this.toFileUrl(e) : this.toUrl(this.path(e));
          this.map.setSourceContent(A, t.source.input.css);
        }
      }
    });
    else if (this.css) {
      let t = this.opts.from ? this.toUrl(this.path(this.opts.from)) : "<no source>";
      this.map.setSourceContent(t, this.css);
    }
  }
  sourcePath(s) {
    return this.mapOpts.from ? this.toUrl(this.mapOpts.from) : this.usesFileUrls ? this.toFileUrl(s.source.input.from) : this.toUrl(this.path(s.source.input.from));
  }
  toBase64(s) {
    return Buffer ? Buffer.from(s).toString("base64") : window.btoa(unescape(encodeURIComponent(s)));
  }
  toFileUrl(s) {
    let t = this.memoizedFileURLs.get(s);
    if (t) return t;
    if (Uf) {
      let e = Uf(s).toString();
      return this.memoizedFileURLs.set(s, e), e;
    }
    throw new Error("`map.absolute` option is not available in this PostCSS build");
  }
  toUrl(s) {
    let t = this.memoizedURLs.get(s);
    if (t) return t;
    ly === "\\" && (s = s.replace(/\\/g, "/"));
    let e = encodeURI(s).replace(/[#?]/g, encodeURIComponent);
    return this.memoizedURLs.set(s, e), e;
  }
};
let fU = rl, Hd = class extends fU {
  constructor(s) {
    super(s), this.type = "comment";
  }
};
var ol = Hd;
Hd.default = Hd;
let dy, pp, gp, uy, { isClean: py, my: gy } = Ei, fy = nl, my = ol, mU = rl;
function wy(s) {
  return s.map((t) => (t.nodes && (t.nodes = wy(t.nodes)), delete t.source, t));
}
function By(s) {
  if (s[py] = !1, s.proxyOf.nodes) for (let t of s.proxyOf.nodes) By(t);
}
let $A = class yy extends mU {
  append(...t) {
    for (let e of t) {
      let A = this.normalize(e, this.last);
      for (let r of A) this.proxyOf.nodes.push(r);
    }
    return this.markDirty(), this;
  }
  cleanRaws(t) {
    if (super.cleanRaws(t), this.nodes) for (let e of this.nodes) e.cleanRaws(t);
  }
  each(t) {
    if (!this.proxyOf.nodes) return;
    let e, A, r = this.getIterator();
    for (; this.indexes[r] < this.proxyOf.nodes.length && (e = this.indexes[r], A = t(this.proxyOf.nodes[e], e), A !== !1); ) this.indexes[r] += 1;
    return delete this.indexes[r], A;
  }
  every(t) {
    return this.nodes.every(t);
  }
  getIterator() {
    this.lastEach || (this.lastEach = 0), this.indexes || (this.indexes = {}), this.lastEach += 1;
    let t = this.lastEach;
    return this.indexes[t] = 0, t;
  }
  getProxyProcessor() {
    return { get: (t, e) => e === "proxyOf" ? t : t[e] ? e === "each" || typeof e == "string" && e.startsWith("walk") ? (...A) => t[e](...A.map((r) => typeof r == "function" ? (n, i) => r(n.toProxy(), i) : r)) : e === "every" || e === "some" ? (A) => t[e]((r, ...n) => A(r.toProxy(), ...n)) : e === "root" ? () => t.root().toProxy() : e === "nodes" ? t.nodes.map((A) => A.toProxy()) : e === "first" || e === "last" ? t[e].toProxy() : t[e] : t[e], set: (t, e, A) => (t[e] === A || (t[e] = A, e !== "name" && e !== "params" && e !== "selector" || t.markDirty()), !0) };
  }
  index(t) {
    return typeof t == "number" ? t : (t.proxyOf && (t = t.proxyOf), this.proxyOf.nodes.indexOf(t));
  }
  insertAfter(t, e) {
    let A, r = this.index(t), n = this.normalize(e, this.proxyOf.nodes[r]).reverse();
    r = this.index(t);
    for (let i of n) this.proxyOf.nodes.splice(r + 1, 0, i);
    for (let i in this.indexes) A = this.indexes[i], r < A && (this.indexes[i] = A + n.length);
    return this.markDirty(), this;
  }
  insertBefore(t, e) {
    let A, r = this.index(t), n = r === 0 && "prepend", i = this.normalize(e, this.proxyOf.nodes[r], n).reverse();
    r = this.index(t);
    for (let o of i) this.proxyOf.nodes.splice(r, 0, o);
    for (let o in this.indexes) A = this.indexes[o], r <= A && (this.indexes[o] = A + i.length);
    return this.markDirty(), this;
  }
  normalize(t, e) {
    if (typeof t == "string") t = wy(dy(t).nodes);
    else if (t === void 0) t = [];
    else if (Array.isArray(t)) {
      t = t.slice(0);
      for (let A of t) A.parent && A.parent.removeChild(A, "ignore");
    } else if (t.type === "root" && this.type !== "document") {
      t = t.nodes.slice(0);
      for (let A of t) A.parent && A.parent.removeChild(A, "ignore");
    } else if (t.type) t = [t];
    else if (t.prop) {
      if (t.value === void 0) throw new Error("Value field is missed in node creation");
      typeof t.value != "string" && (t.value = String(t.value)), t = [new fy(t)];
    } else if (t.selector) t = [new pp(t)];
    else if (t.name) t = [new gp(t)];
    else {
      if (!t.text) throw new Error("Unknown node type in node creation");
      t = [new my(t)];
    }
    return t.map((A) => (A[gy] || yy.rebuild(A), (A = A.proxyOf).parent && A.parent.removeChild(A), A[py] && By(A), A.raws.before === void 0 && e && e.raws.before !== void 0 && (A.raws.before = e.raws.before.replace(/\S/g, "")), A.parent = this.proxyOf, A));
  }
  prepend(...t) {
    t = t.reverse();
    for (let e of t) {
      let A = this.normalize(e, this.first, "prepend").reverse();
      for (let r of A) this.proxyOf.nodes.unshift(r);
      for (let r in this.indexes) this.indexes[r] = this.indexes[r] + A.length;
    }
    return this.markDirty(), this;
  }
  push(t) {
    return t.parent = this, this.proxyOf.nodes.push(t), this;
  }
  removeAll() {
    for (let t of this.proxyOf.nodes) t.parent = void 0;
    return this.proxyOf.nodes = [], this.markDirty(), this;
  }
  removeChild(t) {
    let e;
    t = this.index(t), this.proxyOf.nodes[t].parent = void 0, this.proxyOf.nodes.splice(t, 1);
    for (let A in this.indexes) e = this.indexes[A], e >= t && (this.indexes[A] = e - 1);
    return this.markDirty(), this;
  }
  replaceValues(t, e, A) {
    return A || (A = e, e = {}), this.walkDecls((r) => {
      e.props && !e.props.includes(r.prop) || e.fast && !r.value.includes(e.fast) || (r.value = r.value.replace(t, A));
    }), this.markDirty(), this;
  }
  some(t) {
    return this.nodes.some(t);
  }
  walk(t) {
    return this.each((e, A) => {
      let r;
      try {
        r = t(e, A);
      } catch (n) {
        throw e.addToError(n);
      }
      return r !== !1 && e.walk && (r = e.walk(t)), r;
    });
  }
  walkAtRules(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "atrule" && t.test(A.name)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "atrule" && A.name === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "atrule") return e(A, r);
    }));
  }
  walkComments(t) {
    return this.walk((e, A) => {
      if (e.type === "comment") return t(e, A);
    });
  }
  walkDecls(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "decl" && t.test(A.prop)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "decl" && A.prop === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "decl") return e(A, r);
    }));
  }
  walkRules(t, e) {
    return e ? t instanceof RegExp ? this.walk((A, r) => {
      if (A.type === "rule" && t.test(A.selector)) return e(A, r);
    }) : this.walk((A, r) => {
      if (A.type === "rule" && A.selector === t) return e(A, r);
    }) : (e = t, this.walk((A, r) => {
      if (A.type === "rule") return e(A, r);
    }));
  }
  get first() {
    if (this.proxyOf.nodes) return this.proxyOf.nodes[0];
  }
  get last() {
    if (this.proxyOf.nodes) return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];
  }
};
$A.registerParse = (s) => {
  dy = s;
}, $A.registerRule = (s) => {
  pp = s;
}, $A.registerAtRule = (s) => {
  gp = s;
}, $A.registerRoot = (s) => {
  uy = s;
};
var ur = $A;
$A.default = $A, $A.rebuild = (s) => {
  s.type === "atrule" ? Object.setPrototypeOf(s, gp.prototype) : s.type === "rule" ? Object.setPrototypeOf(s, pp.prototype) : s.type === "decl" ? Object.setPrototypeOf(s, fy.prototype) : s.type === "comment" ? Object.setPrototypeOf(s, my.prototype) : s.type === "root" && Object.setPrototypeOf(s, uy.prototype), s[gy] = !0, s.nodes && s.nodes.forEach((t) => {
    $A.rebuild(t);
  });
};
let Cy, by, wU = ur, Fi = class extends wU {
  constructor(s) {
    super({ type: "document", ...s }), this.nodes || (this.nodes = []);
  }
  toResult(s = {}) {
    return new Cy(new by(), this, s).stringify();
  }
};
Fi.registerLazyResult = (s) => {
  Cy = s;
}, Fi.registerProcessor = (s) => {
  by = s;
};
var fp = Fi;
Fi.default = Fi;
let If = {};
var vy = function(s) {
  If[s] || (If[s] = !0, typeof console < "u" && console.warn && console.warn(s));
};
let Pd = class {
  constructor(s, t = {}) {
    if (this.type = "warning", this.text = s, t.node && t.node.source) {
      let e = t.node.rangeBy(t);
      this.line = e.start.line, this.column = e.start.column, this.endLine = e.end.line, this.endColumn = e.end.column;
    }
    for (let e in t) this[e] = t[e];
  }
  toString() {
    return this.node ? this.node.error(this.text, { index: this.index, plugin: this.plugin, word: this.word }).message : this.plugin ? this.plugin + ": " + this.text : this.text;
  }
};
var ky = Pd;
Pd.default = Pd;
let BU = ky, Kd = class {
  constructor(s, t, e) {
    this.processor = s, this.messages = [], this.root = t, this.opts = e, this.css = void 0, this.map = void 0;
  }
  toString() {
    return this.css;
  }
  warn(s, t = {}) {
    t.plugin || this.lastPlugin && this.lastPlugin.postcssPlugin && (t.plugin = this.lastPlugin.postcssPlugin);
    let e = new BU(s, t);
    return this.messages.push(e), e;
  }
  warnings() {
    return this.messages.filter((s) => s.type === "warning");
  }
  get content() {
    return this.css;
  }
};
var mp = Kd;
Kd.default = Kd;
const oh = 39, Tf = 34, Lo = 92, _f = 47, Mo = 10, Bn = 32, Do = 12, Ro = 9, Ho = 13, yU = 91, CU = 93, bU = 40, vU = 41, kU = 123, xU = 125, SU = 59, EU = 42, FU = 58, QU = 64, Po = /[\t\n\f\r "#'()/;[\\\]{}]/g, Ko = /[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g, UU = /.[\r\n"'(/\\]/, Of = /[\da-f]/i;
let xy = ur, va = class extends xy {
  constructor(s) {
    super(s), this.type = "atrule";
  }
  append(...s) {
    return this.proxyOf.nodes || (this.nodes = []), super.append(...s);
  }
  prepend(...s) {
    return this.proxyOf.nodes || (this.nodes = []), super.prepend(...s);
  }
};
var wp = va;
va.default = va, xy.registerAtRule(va);
let Sy, Ey, Fy = ur, zr = class extends Fy {
  constructor(s) {
    super(s), this.type = "root", this.nodes || (this.nodes = []);
  }
  normalize(s, t, e) {
    let A = super.normalize(s);
    if (t) {
      if (e === "prepend") this.nodes.length > 1 ? t.raws.before = this.nodes[1].raws.before : delete t.raws.before;
      else if (this.first !== t) for (let r of A) r.raws.before = t.raws.before;
    }
    return A;
  }
  removeChild(s, t) {
    let e = this.index(s);
    return !t && e === 0 && this.nodes.length > 1 && (this.nodes[1].raws.before = this.nodes[e].raws.before), super.removeChild(s);
  }
  toResult(s = {}) {
    return new Sy(new Ey(), this, s).stringify();
  }
};
zr.registerLazyResult = (s) => {
  Sy = s;
}, zr.registerProcessor = (s) => {
  Ey = s;
};
var Hi = zr;
zr.default = zr, Fy.registerRoot(zr);
let Qi = { comma: (s) => Qi.split(s, [","], !0), space: (s) => Qi.split(s, [" ", `
`, "	"]), split(s, t, e) {
  let A = [], r = "", n = !1, i = 0, o = !1, a = "", c = !1;
  for (let l of s) c ? c = !1 : l === "\\" ? c = !0 : o ? l === a && (o = !1) : l === '"' || l === "'" ? (o = !0, a = l) : l === "(" ? i += 1 : l === ")" ? i > 0 && (i -= 1) : i === 0 && t.includes(l) && (n = !0), n ? (r !== "" && A.push(r.trim()), r = "", n = !1) : r += l;
  return (e || r !== "") && A.push(r.trim()), A;
} };
var Qy = Qi;
Qi.default = Qi;
let Uy = ur, IU = Qy, ka = class extends Uy {
  constructor(s) {
    super(s), this.type = "rule", this.nodes || (this.nodes = []);
  }
  get selectors() {
    return IU.comma(this.selector);
  }
  set selectors(s) {
    let t = this.selector ? this.selector.match(/,\s*/) : null, e = t ? t[0] : "," + this.raw("between", "beforeOpen");
    this.selector = s.join(e);
  }
};
var Bp = ka;
ka.default = ka, Uy.registerRule(ka);
let TU = nl, _U = function(s, t = {}) {
  let e, A, r, n, i, o, a, c, l, h, d = s.css.valueOf(), u = t.ignoreErrors, p = d.length, g = 0, m = [], f = [];
  function w(B) {
    throw s.error("Unclosed " + B, g);
  }
  return { back: function(B) {
    f.push(B);
  }, endOfFile: function() {
    return f.length === 0 && g >= p;
  }, nextToken: function(B) {
    if (f.length) return f.pop();
    if (g >= p) return;
    let C = !!B && B.ignoreUnclosed;
    switch (e = d.charCodeAt(g), e) {
      case Mo:
      case Bn:
      case Ro:
      case Ho:
      case Do:
        A = g;
        do
          A += 1, e = d.charCodeAt(A);
        while (e === Bn || e === Mo || e === Ro || e === Ho || e === Do);
        h = ["space", d.slice(g, A)], g = A - 1;
        break;
      case yU:
      case CU:
      case kU:
      case xU:
      case FU:
      case SU:
      case vU: {
        let v = String.fromCharCode(e);
        h = [v, v, g];
        break;
      }
      case bU:
        if (c = m.length ? m.pop()[1] : "", l = d.charCodeAt(g + 1), c === "url" && l !== oh && l !== Tf && l !== Bn && l !== Mo && l !== Ro && l !== Do && l !== Ho) {
          A = g;
          do {
            if (o = !1, A = d.indexOf(")", A + 1), A === -1) {
              if (u || C) {
                A = g;
                break;
              }
              w("bracket");
            }
            for (a = A; d.charCodeAt(a - 1) === Lo; ) a -= 1, o = !o;
          } while (o);
          h = ["brackets", d.slice(g, A + 1), g, A], g = A;
        } else A = d.indexOf(")", g + 1), n = d.slice(g, A + 1), A === -1 || UU.test(n) ? h = ["(", "(", g] : (h = ["brackets", n, g, A], g = A);
        break;
      case oh:
      case Tf:
        r = e === oh ? "'" : '"', A = g;
        do {
          if (o = !1, A = d.indexOf(r, A + 1), A === -1) {
            if (u || C) {
              A = g + 1;
              break;
            }
            w("string");
          }
          for (a = A; d.charCodeAt(a - 1) === Lo; ) a -= 1, o = !o;
        } while (o);
        h = ["string", d.slice(g, A + 1), g, A], g = A;
        break;
      case QU:
        Po.lastIndex = g + 1, Po.test(d), A = Po.lastIndex === 0 ? d.length - 1 : Po.lastIndex - 2, h = ["at-word", d.slice(g, A + 1), g, A], g = A;
        break;
      case Lo:
        for (A = g, i = !0; d.charCodeAt(A + 1) === Lo; ) A += 1, i = !i;
        if (e = d.charCodeAt(A + 1), i && e !== _f && e !== Bn && e !== Mo && e !== Ro && e !== Ho && e !== Do && (A += 1, Of.test(d.charAt(A)))) {
          for (; Of.test(d.charAt(A + 1)); ) A += 1;
          d.charCodeAt(A + 1) === Bn && (A += 1);
        }
        h = ["word", d.slice(g, A + 1), g, A], g = A;
        break;
      default:
        e === _f && d.charCodeAt(g + 1) === EU ? (A = d.indexOf("*/", g + 2) + 1, A === 0 && (u || C ? A = d.length : w("comment")), h = ["comment", d.slice(g, A + 1), g, A], g = A) : (Ko.lastIndex = g + 1, Ko.test(d), A = Ko.lastIndex === 0 ? d.length - 1 : Ko.lastIndex - 2, h = ["word", d.slice(g, A + 1), g, A], m.push(h), g = A);
    }
    return g++, h;
  }, position: function() {
    return g;
  } };
}, OU = ol, LU = wp, MU = Hi, Lf = Bp;
const Mf = { empty: !0, space: !0 };
var DU = class {
  constructor(s) {
    this.input = s, this.root = new MU(), this.current = this.root, this.spaces = "", this.semicolon = !1, this.createTokenizer(), this.root.source = { input: s, start: { column: 1, line: 1, offset: 0 } };
  }
  atrule(s) {
    let t, e, A, r = new LU();
    r.name = s[1].slice(1), r.name === "" && this.unnamedAtrule(r, s), this.init(r, s[2]);
    let n = !1, i = !1, o = [], a = [];
    for (; !this.tokenizer.endOfFile(); ) {
      if (t = (s = this.tokenizer.nextToken())[0], t === "(" || t === "[" ? a.push(t === "(" ? ")" : "]") : t === "{" && a.length > 0 ? a.push("}") : t === a[a.length - 1] && a.pop(), a.length === 0) {
        if (t === ";") {
          r.source.end = this.getPosition(s[2]), r.source.end.offset++, this.semicolon = !0;
          break;
        }
        if (t === "{") {
          i = !0;
          break;
        }
        if (t === "}") {
          if (o.length > 0) {
            for (A = o.length - 1, e = o[A]; e && e[0] === "space"; ) e = o[--A];
            e && (r.source.end = this.getPosition(e[3] || e[2]), r.source.end.offset++);
          }
          this.end(s);
          break;
        }
        o.push(s);
      } else o.push(s);
      if (this.tokenizer.endOfFile()) {
        n = !0;
        break;
      }
    }
    r.raws.between = this.spacesAndCommentsFromEnd(o), o.length ? (r.raws.afterName = this.spacesAndCommentsFromStart(o), this.raw(r, "params", o), n && (s = o[o.length - 1], r.source.end = this.getPosition(s[3] || s[2]), r.source.end.offset++, this.spaces = r.raws.between, r.raws.between = "")) : (r.raws.afterName = "", r.params = ""), i && (r.nodes = [], this.current = r);
  }
  checkMissedSemicolon(s) {
    let t = this.colon(s);
    if (t === !1) return;
    let e, A = 0;
    for (let r = t - 1; r >= 0 && (e = s[r], e[0] === "space" || (A += 1, A !== 2)); r--) ;
    throw this.input.error("Missed semicolon", e[0] === "word" ? e[3] + 1 : e[2]);
  }
  colon(s) {
    let t, e, A, r = 0;
    for (let [n, i] of s.entries()) {
      if (t = i, e = t[0], e === "(" && (r += 1), e === ")" && (r -= 1), r === 0 && e === ":") {
        if (A) {
          if (A[0] === "word" && A[1] === "progid") continue;
          return n;
        }
        this.doubleColon(t);
      }
      A = t;
    }
    return !1;
  }
  comment(s) {
    let t = new OU();
    this.init(t, s[2]), t.source.end = this.getPosition(s[3] || s[2]), t.source.end.offset++;
    let e = s[1].slice(2, -2);
    if (/^\s*$/.test(e)) t.text = "", t.raws.left = e, t.raws.right = "";
    else {
      let A = e.match(/^(\s*)([^]*\S)(\s*)$/);
      t.text = A[2], t.raws.left = A[1], t.raws.right = A[3];
    }
  }
  createTokenizer() {
    this.tokenizer = _U(this.input);
  }
  decl(s, t) {
    let e = new TU();
    this.init(e, s[0][2]);
    let A, r = s[s.length - 1];
    for (r[0] === ";" && (this.semicolon = !0, s.pop()), e.source.end = this.getPosition(r[3] || r[2] || function(o) {
      for (let a = o.length - 1; a >= 0; a--) {
        let c = o[a], l = c[3] || c[2];
        if (l) return l;
      }
    }(s)), e.source.end.offset++; s[0][0] !== "word"; ) s.length === 1 && this.unknownWord(s), e.raws.before += s.shift()[1];
    for (e.source.start = this.getPosition(s[0][2]), e.prop = ""; s.length; ) {
      let o = s[0][0];
      if (o === ":" || o === "space" || o === "comment") break;
      e.prop += s.shift()[1];
    }
    for (e.raws.between = ""; s.length; ) {
      if (A = s.shift(), A[0] === ":") {
        e.raws.between += A[1];
        break;
      }
      A[0] === "word" && /\w/.test(A[1]) && this.unknownWord([A]), e.raws.between += A[1];
    }
    e.prop[0] !== "_" && e.prop[0] !== "*" || (e.raws.before += e.prop[0], e.prop = e.prop.slice(1));
    let n, i = [];
    for (; s.length && (n = s[0][0], n === "space" || n === "comment"); ) i.push(s.shift());
    this.precheckMissedSemicolon(s);
    for (let o = s.length - 1; o >= 0; o--) {
      if (A = s[o], A[1].toLowerCase() === "!important") {
        e.important = !0;
        let a = this.stringFrom(s, o);
        a = this.spacesFromEnd(s) + a, a !== " !important" && (e.raws.important = a);
        break;
      }
      if (A[1].toLowerCase() === "important") {
        let a = s.slice(0), c = "";
        for (let l = o; l > 0; l--) {
          let h = a[l][0];
          if (c.trim().indexOf("!") === 0 && h !== "space") break;
          c = a.pop()[1] + c;
        }
        c.trim().indexOf("!") === 0 && (e.important = !0, e.raws.important = c, s = a);
      }
      if (A[0] !== "space" && A[0] !== "comment") break;
    }
    s.some((o) => o[0] !== "space" && o[0] !== "comment") && (e.raws.between += i.map((o) => o[1]).join(""), i = []), this.raw(e, "value", i.concat(s), t), e.value.includes(":") && !t && this.checkMissedSemicolon(s);
  }
  doubleColon(s) {
    throw this.input.error("Double colon", { offset: s[2] }, { offset: s[2] + s[1].length });
  }
  emptyRule(s) {
    let t = new Lf();
    this.init(t, s[2]), t.selector = "", t.raws.between = "", this.current = t;
  }
  end(s) {
    this.current.nodes && this.current.nodes.length && (this.current.raws.semicolon = this.semicolon), this.semicolon = !1, this.current.raws.after = (this.current.raws.after || "") + this.spaces, this.spaces = "", this.current.parent ? (this.current.source.end = this.getPosition(s[2]), this.current.source.end.offset++, this.current = this.current.parent) : this.unexpectedClose(s);
  }
  endFile() {
    this.current.parent && this.unclosedBlock(), this.current.nodes && this.current.nodes.length && (this.current.raws.semicolon = this.semicolon), this.current.raws.after = (this.current.raws.after || "") + this.spaces, this.root.source.end = this.getPosition(this.tokenizer.position());
  }
  freeSemicolon(s) {
    if (this.spaces += s[1], this.current.nodes) {
      let t = this.current.nodes[this.current.nodes.length - 1];
      t && t.type === "rule" && !t.raws.ownSemicolon && (t.raws.ownSemicolon = this.spaces, this.spaces = "");
    }
  }
  getPosition(s) {
    let t = this.input.fromOffset(s);
    return { column: t.col, line: t.line, offset: s };
  }
  init(s, t) {
    this.current.push(s), s.source = { input: this.input, start: this.getPosition(t) }, s.raws.before = this.spaces, this.spaces = "", s.type !== "comment" && (this.semicolon = !1);
  }
  other(s) {
    let t = !1, e = null, A = !1, r = null, n = [], i = s[1].startsWith("--"), o = [], a = s;
    for (; a; ) {
      if (e = a[0], o.push(a), e === "(" || e === "[") r || (r = a), n.push(e === "(" ? ")" : "]");
      else if (i && A && e === "{") r || (r = a), n.push("}");
      else if (n.length === 0) {
        if (e === ";") {
          if (A) return void this.decl(o, i);
          break;
        }
        if (e === "{") return void this.rule(o);
        if (e === "}") {
          this.tokenizer.back(o.pop()), t = !0;
          break;
        }
        e === ":" && (A = !0);
      } else e === n[n.length - 1] && (n.pop(), n.length === 0 && (r = null));
      a = this.tokenizer.nextToken();
    }
    if (this.tokenizer.endOfFile() && (t = !0), n.length > 0 && this.unclosedBracket(r), t && A) {
      if (!i) for (; o.length && (a = o[o.length - 1][0], a === "space" || a === "comment"); ) this.tokenizer.back(o.pop());
      this.decl(o, i);
    } else this.unknownWord(o);
  }
  parse() {
    let s;
    for (; !this.tokenizer.endOfFile(); ) switch (s = this.tokenizer.nextToken(), s[0]) {
      case "space":
        this.spaces += s[1];
        break;
      case ";":
        this.freeSemicolon(s);
        break;
      case "}":
        this.end(s);
        break;
      case "comment":
        this.comment(s);
        break;
      case "at-word":
        this.atrule(s);
        break;
      case "{":
        this.emptyRule(s);
        break;
      default:
        this.other(s);
    }
    this.endFile();
  }
  precheckMissedSemicolon() {
  }
  raw(s, t, e, A) {
    let r, n, i, o, a = e.length, c = "", l = !0;
    for (let h = 0; h < a; h += 1) r = e[h], n = r[0], n !== "space" || h !== a - 1 || A ? n === "comment" ? (o = e[h - 1] ? e[h - 1][0] : "empty", i = e[h + 1] ? e[h + 1][0] : "empty", Mf[o] || Mf[i] || c.slice(-1) === "," ? l = !1 : c += r[1]) : c += r[1] : l = !1;
    if (!l) {
      let h = e.reduce((d, u) => d + u[1], "");
      s.raws[t] = { raw: h, value: c };
    }
    s[t] = c;
  }
  rule(s) {
    s.pop();
    let t = new Lf();
    this.init(t, s[0][2]), t.raws.between = this.spacesAndCommentsFromEnd(s), this.raw(t, "selector", s), this.current = t;
  }
  spacesAndCommentsFromEnd(s) {
    let t, e = "";
    for (; s.length && (t = s[s.length - 1][0], t === "space" || t === "comment"); ) e = s.pop()[1] + e;
    return e;
  }
  spacesAndCommentsFromStart(s) {
    let t, e = "";
    for (; s.length && (t = s[0][0], t === "space" || t === "comment"); ) e += s.shift()[1];
    return e;
  }
  spacesFromEnd(s) {
    let t, e = "";
    for (; s.length && (t = s[s.length - 1][0], t === "space"); ) e = s.pop()[1] + e;
    return e;
  }
  stringFrom(s, t) {
    let e = "";
    for (let A = t; A < s.length; A++) e += s[A][1];
    return s.splice(t, s.length - t), e;
  }
  unclosedBlock() {
    let s = this.current.source.start;
    throw this.input.error("Unclosed block", s.line, s.column);
  }
  unclosedBracket(s) {
    throw this.input.error("Unclosed bracket", { offset: s[2] }, { offset: s[2] + 1 });
  }
  unexpectedClose(s) {
    throw this.input.error("Unexpected }", { offset: s[2] }, { offset: s[2] + 1 });
  }
  unknownWord(s) {
    throw this.input.error("Unknown word", { offset: s[0][2] }, { offset: s[0][2] + s[0][1].length });
  }
  unnamedAtrule(s, t) {
    throw this.input.error("At-rule without name", { offset: t[2] }, { offset: t[2] + t[1].length });
  }
};
let RU = ur, HU = DU, PU = il;
function xa(s, t) {
  let e = new PU(s, t), A = new HU(e);
  try {
    A.parse();
  } catch (r) {
    throw process.env.NODE_ENV !== "production" && r.name === "CssSyntaxError" && t && t.from && (/\.scss$/i.test(t.from) ? r.message += `
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser` : /\.sass/i.test(t.from) ? r.message += `
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser` : /\.less$/i.test(t.from) && (r.message += `
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)), r;
  }
  return A.root;
}
var yp = xa;
xa.default = xa, RU.registerParse(xa);
let { isClean: SA, my: KU } = Ei, NU = hy, jU = sl, VU = ur, GU = fp, WU = vy, Df = mp, YU = yp, JU = Hi;
const XU = { atrule: "AtRule", comment: "Comment", decl: "Declaration", document: "Document", root: "Root", rule: "Rule" }, zU = { AtRule: !0, AtRuleExit: !0, Comment: !0, CommentExit: !0, Declaration: !0, DeclarationExit: !0, Document: !0, DocumentExit: !0, Once: !0, OnceExit: !0, postcssPlugin: !0, prepare: !0, Root: !0, RootExit: !0, Rule: !0, RuleExit: !0 }, ZU = { Once: !0, postcssPlugin: !0, prepare: !0 };
function yn(s) {
  return typeof s == "object" && typeof s.then == "function";
}
function Iy(s) {
  let t = !1, e = XU[s.type];
  return s.type === "decl" ? t = s.prop.toLowerCase() : s.type === "atrule" && (t = s.name.toLowerCase()), t && s.append ? [e, e + "-" + t, 0, e + "Exit", e + "Exit-" + t] : t ? [e, e + "-" + t, e + "Exit", e + "Exit-" + t] : s.append ? [e, 0, e + "Exit"] : [e, e + "Exit"];
}
function Rf(s) {
  let t;
  return t = s.type === "document" ? ["Document", 0, "DocumentExit"] : s.type === "root" ? ["Root", 0, "RootExit"] : Iy(s), { eventIndex: 0, events: t, iterator: 0, node: s, visitorIndex: 0, visitors: [] };
}
function Nd(s) {
  return s[SA] = !1, s.nodes && s.nodes.forEach((t) => Nd(t)), s;
}
let jd = {}, Kr = class Ty {
  constructor(t, e, A) {
    let r;
    if (this.stringified = !1, this.processed = !1, typeof e != "object" || e === null || e.type !== "root" && e.type !== "document") if (e instanceof Ty || e instanceof Df) r = Nd(e.root), e.map && (A.map === void 0 && (A.map = {}), A.map.inline || (A.map.inline = !1), A.map.prev = e.map);
    else {
      let n = YU;
      A.syntax && (n = A.syntax.parse), A.parser && (n = A.parser), n.parse && (n = n.parse);
      try {
        r = n(e, A);
      } catch (i) {
        this.processed = !0, this.error = i;
      }
      r && !r[KU] && VU.rebuild(r);
    }
    else r = Nd(e);
    this.result = new Df(t, r, A), this.helpers = { ...jd, postcss: jd, result: this.result }, this.plugins = this.processor.plugins.map((n) => typeof n == "object" && n.prepare ? { ...n, ...n.prepare(this.result) } : n);
  }
  async() {
    return this.error ? Promise.reject(this.error) : this.processed ? Promise.resolve(this.result) : (this.processing || (this.processing = this.runAsync()), this.processing);
  }
  catch(t) {
    return this.async().catch(t);
  }
  finally(t) {
    return this.async().then(t, t);
  }
  getAsyncError() {
    throw new Error("Use process(css).then(cb) to work with async plugins");
  }
  handleError(t, e) {
    let A = this.result.lastPlugin;
    try {
      if (e && e.addToError(t), this.error = t, t.name !== "CssSyntaxError" || t.plugin) {
        if (A.postcssVersion && process.env.NODE_ENV !== "production") {
          let r = A.postcssPlugin, n = A.postcssVersion, i = this.result.processor.version, o = n.split("."), a = i.split(".");
          (o[0] !== a[0] || parseInt(o[1]) > parseInt(a[1])) && console.error("Unknown error from PostCSS plugin. Your current PostCSS version is " + i + ", but " + r + " uses " + n + ". Perhaps this is the source of the error below.");
        }
      } else t.plugin = A.postcssPlugin, t.setMessage();
    } catch (r) {
      console && console.error && console.error(r);
    }
    return t;
  }
  prepareVisitors() {
    this.listeners = {};
    let t = (e, A, r) => {
      this.listeners[A] || (this.listeners[A] = []), this.listeners[A].push([e, r]);
    };
    for (let e of this.plugins) if (typeof e == "object") for (let A in e) {
      if (!zU[A] && /^[A-Z]/.test(A)) throw new Error(`Unknown event ${A} in ${e.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);
      if (!ZU[A]) if (typeof e[A] == "object") for (let r in e[A]) t(e, r === "*" ? A : A + "-" + r.toLowerCase(), e[A][r]);
      else typeof e[A] == "function" && t(e, A, e[A]);
    }
    this.hasListener = Object.keys(this.listeners).length > 0;
  }
  async runAsync() {
    this.plugin = 0;
    for (let t = 0; t < this.plugins.length; t++) {
      let e = this.plugins[t], A = this.runOnRoot(e);
      if (yn(A)) try {
        await A;
      } catch (r) {
        throw this.handleError(r);
      }
    }
    if (this.prepareVisitors(), this.hasListener) {
      let t = this.result.root;
      for (; !t[SA]; ) {
        t[SA] = !0;
        let e = [Rf(t)];
        for (; e.length > 0; ) {
          let A = this.visitTick(e);
          if (yn(A)) try {
            await A;
          } catch (r) {
            let n = e[e.length - 1].node;
            throw this.handleError(r, n);
          }
        }
      }
      if (this.listeners.OnceExit) for (let [e, A] of this.listeners.OnceExit) {
        this.result.lastPlugin = e;
        try {
          if (t.type === "document") {
            let r = t.nodes.map((n) => A(n, this.helpers));
            await Promise.all(r);
          } else await A(t, this.helpers);
        } catch (r) {
          throw this.handleError(r);
        }
      }
    }
    return this.processed = !0, this.stringify();
  }
  runOnRoot(t) {
    this.result.lastPlugin = t;
    try {
      if (typeof t == "object" && t.Once) {
        if (this.result.root.type === "document") {
          let e = this.result.root.nodes.map((A) => t.Once(A, this.helpers));
          return yn(e[0]) ? Promise.all(e) : e;
        }
        return t.Once(this.result.root, this.helpers);
      }
      if (typeof t == "function") return t(this.result.root, this.result);
    } catch (e) {
      throw this.handleError(e);
    }
  }
  stringify() {
    if (this.error) throw this.error;
    if (this.stringified) return this.result;
    this.stringified = !0, this.sync();
    let t = this.result.opts, e = jU;
    t.syntax && (e = t.syntax.stringify), t.stringifier && (e = t.stringifier), e.stringify && (e = e.stringify);
    let A = new NU(e, this.result.root, this.result.opts).generate();
    return this.result.css = A[0], this.result.map = A[1], this.result;
  }
  sync() {
    if (this.error) throw this.error;
    if (this.processed) return this.result;
    if (this.processed = !0, this.processing) throw this.getAsyncError();
    for (let t of this.plugins)
      if (yn(this.runOnRoot(t))) throw this.getAsyncError();
    if (this.prepareVisitors(), this.hasListener) {
      let t = this.result.root;
      for (; !t[SA]; ) t[SA] = !0, this.walkSync(t);
      if (this.listeners.OnceExit) if (t.type === "document") for (let e of t.nodes) this.visitSync(this.listeners.OnceExit, e);
      else this.visitSync(this.listeners.OnceExit, t);
    }
    return this.result;
  }
  then(t, e) {
    return process.env.NODE_ENV !== "production" && ("from" in this.opts || WU("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")), this.async().then(t, e);
  }
  toString() {
    return this.css;
  }
  visitSync(t, e) {
    for (let [A, r] of t) {
      let n;
      this.result.lastPlugin = A;
      try {
        n = r(e, this.helpers);
      } catch (i) {
        throw this.handleError(i, e.proxyOf);
      }
      if (e.type !== "root" && e.type !== "document" && !e.parent) return !0;
      if (yn(n)) throw this.getAsyncError();
    }
  }
  visitTick(t) {
    let e = t[t.length - 1], { node: A, visitors: r } = e;
    if (A.type !== "root" && A.type !== "document" && !A.parent) return void t.pop();
    if (r.length > 0 && e.visitorIndex < r.length) {
      let [i, o] = r[e.visitorIndex];
      e.visitorIndex += 1, e.visitorIndex === r.length && (e.visitors = [], e.visitorIndex = 0), this.result.lastPlugin = i;
      try {
        return o(A.toProxy(), this.helpers);
      } catch (a) {
        throw this.handleError(a, A);
      }
    }
    if (e.iterator !== 0) {
      let i, o = e.iterator;
      for (; i = A.nodes[A.indexes[o]]; ) if (A.indexes[o] += 1, !i[SA]) return i[SA] = !0, void t.push(Rf(i));
      e.iterator = 0, delete A.indexes[o];
    }
    let n = e.events;
    for (; e.eventIndex < n.length; ) {
      let i = n[e.eventIndex];
      if (e.eventIndex += 1, i === 0) return void (A.nodes && A.nodes.length && (A[SA] = !0, e.iterator = A.getIterator()));
      if (this.listeners[i]) return void (e.visitors = this.listeners[i]);
    }
    t.pop();
  }
  walkSync(t) {
    t[SA] = !0;
    let e = Iy(t);
    for (let A of e) if (A === 0) t.nodes && t.each((r) => {
      r[SA] || this.walkSync(r);
    });
    else {
      let r = this.listeners[A];
      if (r && this.visitSync(r, t.toProxy())) return;
    }
  }
  warnings() {
    return this.sync().warnings();
  }
  get content() {
    return this.stringify().content;
  }
  get css() {
    return this.stringify().css;
  }
  get map() {
    return this.stringify().map;
  }
  get messages() {
    return this.sync().messages;
  }
  get opts() {
    return this.result.opts;
  }
  get processor() {
    return this.result.processor;
  }
  get root() {
    return this.sync().root;
  }
  get [Symbol.toStringTag]() {
    return "LazyResult";
  }
};
Kr.registerPostcss = (s) => {
  jd = s;
};
var _y = Kr;
Kr.default = Kr, JU.registerLazyResult(Kr), GU.registerLazyResult(Kr);
let qU = hy, $U = sl, t3 = vy, e3 = yp;
const A3 = mp;
let Vd = class {
  constructor(s, t, e) {
    let A;
    t = t.toString(), this.stringified = !1, this._processor = s, this._css = t, this._opts = e, this._map = void 0;
    let r = $U;
    this.result = new A3(this._processor, A, this._opts), this.result.css = t;
    let n = this;
    Object.defineProperty(this.result, "root", { get: () => n.root });
    let i = new qU(r, A, this._opts, t);
    if (i.isMap()) {
      let [o, a] = i.generate();
      o && (this.result.css = o), a && (this.result.map = a);
    } else i.clearAnnotation(), this.result.css = i.css;
  }
  async() {
    return this.error ? Promise.reject(this.error) : Promise.resolve(this.result);
  }
  catch(s) {
    return this.async().catch(s);
  }
  finally(s) {
    return this.async().then(s, s);
  }
  sync() {
    if (this.error) throw this.error;
    return this.result;
  }
  then(s, t) {
    return process.env.NODE_ENV !== "production" && ("from" in this._opts || t3("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")), this.async().then(s, t);
  }
  toString() {
    return this._css;
  }
  warnings() {
    return [];
  }
  get content() {
    return this.result.css;
  }
  get css() {
    return this.result.css;
  }
  get map() {
    return this.result.map;
  }
  get messages() {
    return [];
  }
  get opts() {
    return this.result.opts;
  }
  get processor() {
    return this.result.processor;
  }
  get root() {
    if (this._root) return this._root;
    let s, t = e3;
    try {
      s = t(this._css, this._opts);
    } catch (e) {
      this.error = e;
    }
    if (this.error) throw this.error;
    return this._root = s, s;
  }
  get [Symbol.toStringTag]() {
    return "NoWorkResult";
  }
};
var s3 = Vd;
Vd.default = Vd;
let r3 = s3, n3 = _y, i3 = fp, o3 = Hi, Yn = class {
  constructor(s = []) {
    this.version = "8.4.38", this.plugins = this.normalize(s);
  }
  normalize(s) {
    let t = [];
    for (let e of s) if (e.postcss === !0 ? e = e() : e.postcss && (e = e.postcss), typeof e == "object" && Array.isArray(e.plugins)) t = t.concat(e.plugins);
    else if (typeof e == "object" && e.postcssPlugin) t.push(e);
    else if (typeof e == "function") t.push(e);
    else {
      if (typeof e != "object" || !e.parse && !e.stringify) throw new Error(e + " is not a PostCSS plugin");
      if (process.env.NODE_ENV !== "production") throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");
    }
    return t;
  }
  process(s, t = {}) {
    return this.plugins.length || t.parser || t.stringifier || t.syntax ? new n3(this, s, t) : new r3(this, s, t);
  }
  use(s) {
    return this.plugins = this.plugins.concat(this.normalize([s])), this;
  }
};
var a3 = Yn;
Yn.default = Yn, o3.registerProcessor(Yn), i3.registerProcessor(Yn);
let c3 = nl, l3 = iy, h3 = ol, d3 = wp, u3 = il, p3 = Hi, g3 = Bp;
function Ui(s, t) {
  if (Array.isArray(s)) return s.map((r) => Ui(r));
  let { inputs: e, ...A } = s;
  if (e) {
    t = [];
    for (let r of e) {
      let n = { ...r, __proto__: u3.prototype };
      n.map && (n.map = { ...n.map, __proto__: l3.prototype }), t.push(n);
    }
  }
  if (A.nodes && (A.nodes = s.nodes.map((r) => Ui(r, t))), A.source) {
    let { inputId: r, ...n } = A.source;
    A.source = n, r != null && (A.source.input = t[r]);
  }
  if (A.type === "root") return new p3(A);
  if (A.type === "decl") return new c3(A);
  if (A.type === "rule") return new g3(A);
  if (A.type === "comment") return new h3(A);
  if (A.type === "atrule") return new d3(A);
  throw new Error("Unknown node type: " + s.type);
}
var f3 = Ui;
Ui.default = Ui;
let m3 = up, Hf = nl, w3 = _y, B3 = ur, Gd = a3, y3 = sl, C3 = f3, Pf = fp, b3 = ky, Kf = ol, Nf = wp, v3 = mp, k3 = il, x3 = yp, S3 = Qy, jf = Bp, Vf = Hi, E3 = rl;
function Ut(...s) {
  return s.length === 1 && Array.isArray(s[0]) && (s = s[0]), new Gd(s);
}
Ut.plugin = function(s, t) {
  let e, A = !1;
  function r(...n) {
    console && console.warn && !A && (A = !0, console.warn(s + `: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`), process.env.LANG && process.env.LANG.startsWith("cn") && console.warn(s + `: ้้ข postcss.plugin ่ขซๅผ็จ. ่ฟ็งปๆๅ:
https://www.w3ctech.com/topic/2226`));
    let i = t(...n);
    return i.postcssPlugin = s, i.postcssVersion = new Gd().version, i;
  }
  return Object.defineProperty(r, "postcss", { get: () => (e || (e = r()), e) }), r.process = function(n, i, o) {
    return Ut([r(o)]).process(n, i);
  }, r;
}, Ut.stringify = y3, Ut.parse = x3, Ut.fromJSON = C3, Ut.list = S3, Ut.comment = (s) => new Kf(s), Ut.atRule = (s) => new Nf(s), Ut.decl = (s) => new Hf(s), Ut.rule = (s) => new jf(s), Ut.root = (s) => new Vf(s), Ut.document = (s) => new Pf(s), Ut.CssSyntaxError = m3, Ut.Declaration = Hf, Ut.Container = B3, Ut.Processor = Gd, Ut.Document = Pf, Ut.Comment = Kf, Ut.Warning = b3, Ut.AtRule = Nf, Ut.Result = v3, Ut.Input = k3, Ut.Rule = jf, Ut.Root = Vf, Ut.Node = E3, w3.registerPostcss(Ut);
var F3 = Ut;
Ut.default = Ut;
const Nt = XQ(F3);
Nt.stringify, Nt.fromJSON, Nt.plugin, Nt.parse, Nt.list, Nt.document, Nt.comment, Nt.atRule, Nt.rule, Nt.decl, Nt.root, Nt.CssSyntaxError, Nt.Declaration, Nt.Container, Nt.Processor, Nt.Document, Nt.Comment, Nt.Warning, Nt.AtRule, Nt.Result, Nt.Input, Nt.Rule, Nt.Root, Nt.Node;
class Cp {
  constructor(...t) {
    Ze(this, "parentElement", null), Ze(this, "parentNode", null), Ze(this, "ownerDocument"), Ze(this, "firstChild", null), Ze(this, "lastChild", null), Ze(this, "previousSibling", null), Ze(this, "nextSibling", null), Ze(this, "ELEMENT_NODE", 1), Ze(this, "TEXT_NODE", 3), Ze(this, "nodeType"), Ze(this, "nodeName"), Ze(this, "RRNodeType");
  }
  get childNodes() {
    const t = [];
    let e = this.firstChild;
    for (; e; ) t.push(e), e = e.nextSibling;
    return t;
  }
  contains(t) {
    if (!(t instanceof Cp) || t.ownerDocument !== this.ownerDocument) return !1;
    if (t === this) return !0;
    for (; t.parentNode; ) {
      if (t.parentNode === this) return !0;
      t = t.parentNode;
    }
    return !1;
  }
  appendChild(t) {
    throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.");
  }
  insertBefore(t, e) {
    throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.");
  }
  removeChild(t) {
    throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.");
  }
  toString() {
    return "RRNode";
  }
}
const Gf = { Node: ["childNodes", "parentNode", "parentElement", "textContent"], ShadowRoot: ["host", "styleSheets"], Element: ["shadowRoot", "querySelector", "querySelectorAll"], MutationObserver: [] }, Wf = { Node: ["contains", "getRootNode"], ShadowRoot: ["getSelection"], Element: [], MutationObserver: ["constructor"] }, No = {};
function bp(s) {
  if (No[s]) return No[s];
  const t = globalThis[s], e = t.prototype, A = s in Gf ? Gf[s] : void 0, r = !!(A && A.every((o) => {
    var a, c;
    return !!((c = (a = Object.getOwnPropertyDescriptor(e, o)) == null ? void 0 : a.get) != null && c.toString().includes("[native code]"));
  })), n = s in Wf ? Wf[s] : void 0, i = !!(n && n.every((o) => {
    var a;
    return typeof e[o] == "function" && ((a = e[o]) == null ? void 0 : a.toString().includes("[native code]"));
  }));
  if (r && i) return No[s] = t.prototype, t.prototype;
  try {
    const o = document.createElement("iframe");
    document.body.appendChild(o);
    const a = o.contentWindow;
    if (!a) return t.prototype;
    const c = a[s].prototype;
    return document.body.removeChild(o), c ? No[s] = c : e;
  } catch {
    return e;
  }
}
const ah = {};
function us(s, t, e) {
  var A;
  const r = `${s}.${String(e)}`;
  if (ah[r]) return ah[r].call(t);
  const n = bp(s), i = (A = Object.getOwnPropertyDescriptor(n, e)) == null ? void 0 : A.get;
  return i ? (ah[r] = i, i.call(t)) : t[e];
}
const ch = {};
function Yf(s, t, e) {
  const A = `${s}.${String(e)}`;
  if (ch[A]) return ch[A].bind(t);
  const r = bp(s)[e];
  return typeof r != "function" ? t[e] : (ch[A] = r, r.bind(t));
}
function Oy() {
  return bp("MutationObserver").constructor;
}
const mt = { childNodes: function(s) {
  return us("Node", s, "childNodes");
}, parentNode: function(s) {
  return us("Node", s, "parentNode");
}, parentElement: function(s) {
  return us("Node", s, "parentElement");
}, textContent: function(s) {
  return us("Node", s, "textContent");
}, contains: function(s, t) {
  return Yf("Node", s, "contains")(t);
}, getRootNode: function(s) {
  return Yf("Node", s, "getRootNode")();
}, host: function(s) {
  return s && "host" in s ? us("ShadowRoot", s, "host") : null;
}, styleSheets: function(s) {
  return s.styleSheets;
}, shadowRoot: function(s) {
  return s && "shadowRoot" in s ? us("Element", s, "shadowRoot") : null;
}, querySelector: function(s, t) {
  return us("Element", s, "querySelector")(t);
}, querySelectorAll: function(s, t) {
  return us("Element", s, "querySelectorAll")(t);
}, mutationObserver: Oy };
function be(s, t, e = document) {
  const A = { capture: !0, passive: !0 };
  return e.addEventListener(s, t, A), () => e.removeEventListener(s, t, A);
}
const Ur = `Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;
let Jf = { map: {}, getId: () => (console.error(Ur), -1), getNode: () => (console.error(Ur), null), removeNodeFromMap() {
  console.error(Ur);
}, has: () => (console.error(Ur), !1), reset() {
  console.error(Ur);
} };
function Jn(s, t, e = {}) {
  let A = null, r = 0;
  return function(...n) {
    const i = Date.now();
    r || e.leading !== !1 || (r = i);
    const o = t - (i - r), a = this;
    o <= 0 || o > t ? (A && (clearTimeout(A), A = null), r = i, s.apply(a, n)) : A || e.trailing === !1 || (A = setTimeout(() => {
      r = e.leading === !1 ? 0 : Date.now(), A = null, s.apply(a, n);
    }, o));
  };
}
function al(s, t, e, A, r = window) {
  const n = r.Object.getOwnPropertyDescriptor(s, t);
  return r.Object.defineProperty(s, t, A ? e : { set(i) {
    setTimeout(() => {
      e.set.call(this, i);
    }, 0), n && n.set && n.set.call(this, i);
  } }), () => al(s, t, n || {}, !0);
}
function An(s, t, e) {
  try {
    if (!(t in s)) return () => {
    };
    const A = s[t], r = e(A);
    return typeof r == "function" && (r.prototype = r.prototype || {}, Object.defineProperties(r, { __rrweb_original__: { enumerable: !1, value: A } })), s[t] = r, () => {
      s[t] = A;
    };
  } catch {
    return () => {
    };
  }
}
typeof window < "u" && window.Proxy && window.Reflect && (Jf = new Proxy(Jf, { get: (s, t, e) => (t === "map" && console.error(Ur), Reflect.get(s, t, e)) }));
let Cc = Date.now;
function Ly(s) {
  var t, e, A, r;
  const n = s.document;
  return { left: n.scrollingElement ? n.scrollingElement.scrollLeft : s.pageXOffset !== void 0 ? s.pageXOffset : n.documentElement.scrollLeft || (n == null ? void 0 : n.body) && ((t = mt.parentElement(n.body)) == null ? void 0 : t.scrollLeft) || ((e = n == null ? void 0 : n.body) == null ? void 0 : e.scrollLeft) || 0, top: n.scrollingElement ? n.scrollingElement.scrollTop : s.pageYOffset !== void 0 ? s.pageYOffset : (n == null ? void 0 : n.documentElement.scrollTop) || (n == null ? void 0 : n.body) && ((A = mt.parentElement(n.body)) == null ? void 0 : A.scrollTop) || ((r = n == null ? void 0 : n.body) == null ? void 0 : r.scrollTop) || 0 };
}
function My() {
  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;
}
function Dy() {
  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;
}
function Ry(s) {
  return s ? s.nodeType === s.ELEMENT_NODE ? s : mt.parentElement(s) : null;
}
function Ee(s, t, e, A) {
  if (!s) return !1;
  const r = Ry(s);
  if (!r) return !1;
  try {
    if (typeof t == "string") {
      if (r.classList.contains(t) || A && r.closest("." + t) !== null) return !0;
    } else if (yc(r, t, A)) return !0;
  } catch {
  }
  return !!(e && (r.matches(e) || A && r.closest(e) !== null));
}
function lh(s, t, e) {
  return !(s.tagName !== "TITLE" || !e.headTitleMutations) || t.getId(s) === -2;
}
function Hy(s, t) {
  if (ci(s)) return !1;
  const e = t.getId(s);
  if (!t.has(e)) return !0;
  const A = mt.parentNode(s);
  return (!A || A.nodeType !== s.DOCUMENT_NODE) && (!A || Hy(A, t));
}
function Wd(s) {
  return !!s.changedTouches;
}
function Py(s, t) {
  return !!(s.nodeName === "IFRAME" && t.getMeta(s));
}
function Ky(s, t) {
  return !!(s.nodeName === "LINK" && s.nodeType === s.ELEMENT_NODE && s.getAttribute && s.getAttribute("rel") === "stylesheet" && t.getMeta(s));
}
function Yd(s) {
  return !!s && (s instanceof Cp && "shadowRoot" in s ? !!s.shadowRoot : !!mt.shadowRoot(s));
}
/[1-9][0-9]{12}/.test(Date.now().toString()) || (Cc = () => (/* @__PURE__ */ new Date()).getTime());
class Q3 {
  constructor() {
    V(this, "id", 1), V(this, "styleIDMap", /* @__PURE__ */ new WeakMap()), V(this, "idStyleMap", /* @__PURE__ */ new Map());
  }
  getId(t) {
    return this.styleIDMap.get(t) ?? -1;
  }
  has(t) {
    return this.styleIDMap.has(t);
  }
  add(t, e) {
    if (this.has(t)) return this.getId(t);
    let A;
    return A = e === void 0 ? this.id++ : e, this.styleIDMap.set(t, A), this.idStyleMap.set(A, t), A;
  }
  getStyle(t) {
    return this.idStyleMap.get(t) || null;
  }
  reset() {
    this.styleIDMap = /* @__PURE__ */ new WeakMap(), this.idStyleMap = /* @__PURE__ */ new Map(), this.id = 1;
  }
  generateId() {
    return this.id++;
  }
}
function Ny(s) {
  var t;
  let e = null;
  return "getRootNode" in s && ((t = mt.getRootNode(s)) == null ? void 0 : t.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && mt.host(mt.getRootNode(s)) && (e = mt.host(mt.getRootNode(s))), e;
}
function U3(s) {
  const t = s.ownerDocument;
  if (!t) return !1;
  const e = function(A) {
    let r, n = A;
    for (; r = Ny(n); ) n = r;
    return n;
  }(s);
  return mt.contains(t, e);
}
function jy(s) {
  const t = s.ownerDocument;
  return !!t && (mt.contains(t, s) || U3(s));
}
var vt = ((s) => (s[s.DomContentLoaded = 0] = "DomContentLoaded", s[s.Load = 1] = "Load", s[s.FullSnapshot = 2] = "FullSnapshot", s[s.IncrementalSnapshot = 3] = "IncrementalSnapshot", s[s.Meta = 4] = "Meta", s[s.Custom = 5] = "Custom", s[s.Plugin = 6] = "Plugin", s))(vt || {}), Bt = ((s) => (s[s.Mutation = 0] = "Mutation", s[s.MouseMove = 1] = "MouseMove", s[s.MouseInteraction = 2] = "MouseInteraction", s[s.Scroll = 3] = "Scroll", s[s.ViewportResize = 4] = "ViewportResize", s[s.Input = 5] = "Input", s[s.TouchMove = 6] = "TouchMove", s[s.MediaInteraction = 7] = "MediaInteraction", s[s.StyleSheetRule = 8] = "StyleSheetRule", s[s.CanvasMutation = 9] = "CanvasMutation", s[s.Font = 10] = "Font", s[s.Log = 11] = "Log", s[s.Drag = 12] = "Drag", s[s.StyleDeclaration = 13] = "StyleDeclaration", s[s.Selection = 14] = "Selection", s[s.AdoptedStyleSheet = 15] = "AdoptedStyleSheet", s[s.CustomElement = 16] = "CustomElement", s))(Bt || {}), Te = ((s) => (s[s.MouseUp = 0] = "MouseUp", s[s.MouseDown = 1] = "MouseDown", s[s.Click = 2] = "Click", s[s.ContextMenu = 3] = "ContextMenu", s[s.DblClick = 4] = "DblClick", s[s.Focus = 5] = "Focus", s[s.Blur = 6] = "Blur", s[s.TouchStart = 7] = "TouchStart", s[s.TouchMove_Departed = 8] = "TouchMove_Departed", s[s.TouchEnd = 9] = "TouchEnd", s[s.TouchCancel = 10] = "TouchCancel", s))(Te || {}), WA = ((s) => (s[s.Mouse = 0] = "Mouse", s[s.Pen = 1] = "Pen", s[s.Touch = 2] = "Touch", s))(WA || {}), Ir = ((s) => (s[s["2D"] = 0] = "2D", s[s.WebGL = 1] = "WebGL", s[s.WebGL2 = 2] = "WebGL2", s))(Ir || {}), Tr = ((s) => (s[s.Play = 0] = "Play", s[s.Pause = 1] = "Pause", s[s.Seeked = 2] = "Seeked", s[s.VolumeChange = 3] = "VolumeChange", s[s.RateChange = 4] = "RateChange", s))(Tr || {});
function Xf(s) {
  return "__ln" in s;
}
class I3 {
  constructor() {
    V(this, "length", 0), V(this, "head", null), V(this, "tail", null);
  }
  get(t) {
    if (t >= this.length) throw new Error("Position outside of list range");
    let e = this.head;
    for (let A = 0; A < t; A++) e = (e == null ? void 0 : e.next) || null;
    return e;
  }
  addNode(t) {
    const e = { value: t, previous: null, next: null };
    if (t.__ln = e, t.previousSibling && Xf(t.previousSibling)) {
      const A = t.previousSibling.__ln.next;
      e.next = A, e.previous = t.previousSibling.__ln, t.previousSibling.__ln.next = e, A && (A.previous = e);
    } else if (t.nextSibling && Xf(t.nextSibling) && t.nextSibling.__ln.previous) {
      const A = t.nextSibling.__ln.previous;
      e.previous = A, e.next = t.nextSibling.__ln, t.nextSibling.__ln.previous = e, A && (A.next = e);
    } else this.head && (this.head.previous = e), e.next = this.head, this.head = e;
    e.next === null && (this.tail = e), this.length++;
  }
  removeNode(t) {
    const e = t.__ln;
    this.head && (e.previous ? (e.previous.next = e.next, e.next ? e.next.previous = e.previous : this.tail = e.previous) : (this.head = e.next, this.head ? this.head.previous = null : this.tail = null), t.__ln && delete t.__ln, this.length--);
  }
}
const zf = (s, t) => `${s}@${t}`;
class T3 {
  constructor() {
    V(this, "frozen", !1), V(this, "locked", !1), V(this, "texts", []), V(this, "attributes", []), V(this, "attributeMap", /* @__PURE__ */ new WeakMap()), V(this, "removes", []), V(this, "mapRemoves", []), V(this, "movedMap", {}), V(this, "addedSet", /* @__PURE__ */ new Set()), V(this, "movedSet", /* @__PURE__ */ new Set()), V(this, "droppedSet", /* @__PURE__ */ new Set()), V(this, "mutationCb"), V(this, "blockClass"), V(this, "blockSelector"), V(this, "maskTextClass"), V(this, "maskTextSelector"), V(this, "inlineStylesheet"), V(this, "maskInputOptions"), V(this, "maskTextFn"), V(this, "maskInputFn"), V(this, "keepIframeSrcFn"), V(this, "recordCanvas"), V(this, "inlineImages"), V(this, "slimDOMOptions"), V(this, "dataURLOptions"), V(this, "doc"), V(this, "mirror"), V(this, "iframeManager"), V(this, "stylesheetManager"), V(this, "shadowDomManager"), V(this, "canvasManager"), V(this, "processedNodeManager"), V(this, "unattachedDoc"), V(this, "processMutations", (t) => {
      t.forEach(this.processMutation), this.emit();
    }), V(this, "emit", () => {
      if (this.frozen || this.locked) return;
      const t = [], e = /* @__PURE__ */ new Set(), A = new I3(), r = (a) => {
        let c = a, l = -2;
        for (; l === -2; ) c = c && c.nextSibling, l = c && this.mirror.getId(c);
        return l;
      }, n = (a) => {
        const c = mt.parentNode(a);
        if (!c || !jy(a) || c.tagName === "TEXTAREA") return;
        const l = ci(c) ? this.mirror.getId(Ny(a)) : this.mirror.getId(c), h = r(a);
        if (l === -1 || h === -1) return A.addNode(a);
        const d = Hr(a, { doc: this.doc, mirror: this.mirror, blockClass: this.blockClass, blockSelector: this.blockSelector, maskTextClass: this.maskTextClass, maskTextSelector: this.maskTextSelector, skipChild: !0, newlyAddedElement: !0, inlineStylesheet: this.inlineStylesheet, maskInputOptions: this.maskInputOptions, maskTextFn: this.maskTextFn, maskInputFn: this.maskInputFn, slimDOMOptions: this.slimDOMOptions, dataURLOptions: this.dataURLOptions, recordCanvas: this.recordCanvas, inlineImages: this.inlineImages, onSerialize: (u) => {
          Py(u, this.mirror) && this.iframeManager.addIframe(u), Ky(u, this.mirror) && this.stylesheetManager.trackLinkElement(u), Yd(a) && this.shadowDomManager.addShadowRoot(mt.shadowRoot(a), this.doc);
        }, onIframeLoad: (u, p) => {
          this.iframeManager.attachIframe(u, p), this.shadowDomManager.observeAttachShadow(u);
        }, onStylesheetLoad: (u, p) => {
          this.stylesheetManager.attachLinkElement(u, p);
        } });
        d && (t.push({ parentId: l, nextId: h, node: d }), e.add(d.id));
      };
      for (; this.mapRemoves.length; ) this.mirror.removeNodeFromMap(this.mapRemoves.shift());
      for (const a of this.movedSet) Zf(this.removes, a, this.mirror) && !this.movedSet.has(mt.parentNode(a)) || n(a);
      for (const a of this.addedSet) qf(this.droppedSet, a) || Zf(this.removes, a, this.mirror) ? qf(this.movedSet, a) ? n(a) : this.droppedSet.add(a) : n(a);
      let i = null;
      for (; A.length; ) {
        let a = null;
        if (i) {
          const c = this.mirror.getId(mt.parentNode(i.value)), l = r(i.value);
          c !== -1 && l !== -1 && (a = i);
        }
        if (!a) {
          let c = A.tail;
          for (; c; ) {
            const l = c;
            if (c = c.previous, l) {
              const h = this.mirror.getId(mt.parentNode(l.value));
              if (r(l.value) === -1) continue;
              if (h !== -1) {
                a = l;
                break;
              }
              {
                const d = l.value, u = mt.parentNode(d);
                if (u && u.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                  const p = mt.host(u);
                  if (this.mirror.getId(p) !== -1) {
                    a = l;
                    break;
                  }
                }
              }
            }
          }
        }
        if (!a) {
          for (; A.head; ) A.removeNode(A.head.value);
          break;
        }
        i = a.previous, A.removeNode(a.value), n(a.value);
      }
      const o = { texts: this.texts.map((a) => {
        const c = a.node, l = mt.parentNode(c);
        return l && l.tagName === "TEXTAREA" && this.genTextAreaValueMutation(l), { id: this.mirror.getId(c), value: a.value };
      }).filter((a) => !e.has(a.id)).filter((a) => this.mirror.has(a.id)), attributes: this.attributes.map((a) => {
        const { attributes: c } = a;
        if (typeof c.style == "string") {
          const l = JSON.stringify(a.styleDiff), h = JSON.stringify(a._unchangedStyles);
          l.length < c.style.length && (l + h).split("var(").length === c.style.split("var(").length && (c.style = a.styleDiff);
        }
        return { id: this.mirror.getId(a.node), attributes: c };
      }).filter((a) => !e.has(a.id)).filter((a) => this.mirror.has(a.id)), removes: this.removes, adds: t };
      (o.texts.length || o.attributes.length || o.removes.length || o.adds.length) && (this.texts = [], this.attributes = [], this.attributeMap = /* @__PURE__ */ new WeakMap(), this.removes = [], this.addedSet = /* @__PURE__ */ new Set(), this.movedSet = /* @__PURE__ */ new Set(), this.droppedSet = /* @__PURE__ */ new Set(), this.movedMap = {}, this.mutationCb(o));
    }), V(this, "genTextAreaValueMutation", (t) => {
      let e = this.attributeMap.get(t);
      e || (e = { node: t, attributes: {}, styleDiff: {}, _unchangedStyles: {} }, this.attributes.push(e), this.attributeMap.set(t, e)), e.attributes.value = Array.from(mt.childNodes(t), (A) => mt.textContent(A) || "").join("");
    }), V(this, "processMutation", (t) => {
      if (!lh(t.target, this.mirror, this.slimDOMOptions)) switch (t.type) {
        case "characterData": {
          const e = mt.textContent(t.target);
          Ee(t.target, this.blockClass, this.blockSelector, !1) || e === t.oldValue || this.texts.push({ value: EB(t.target, this.maskTextClass, this.maskTextSelector, !0) && e ? this.maskTextFn ? this.maskTextFn(e, Ry(t.target)) : e.replace(/[\S]/g, "*") : e, node: t.target });
          break;
        }
        case "attributes": {
          const e = t.target;
          let A = t.attributeName, r = t.target.getAttribute(A);
          if (A === "value") {
            const i = sp(e);
            r = Ap({ element: e, maskInputOptions: this.maskInputOptions, tagName: e.tagName, type: i, value: r, maskInputFn: this.maskInputFn });
          }
          if (Ee(t.target, this.blockClass, this.blockSelector, !1) || r === t.oldValue) return;
          let n = this.attributeMap.get(t.target);
          if (e.tagName === "IFRAME" && A === "src" && !this.keepIframeSrcFn(r)) {
            if (e.contentDocument) return;
            A = "rr_src";
          }
          if (n || (n = { node: t.target, attributes: {}, styleDiff: {}, _unchangedStyles: {} }, this.attributes.push(n), this.attributeMap.set(t.target, n)), A === "type" && e.tagName === "INPUT" && (t.oldValue || "").toLowerCase() === "password" && e.setAttribute("data-rr-is-password", "true"), !SB(e.tagName, A)) if (n.attributes[A] = xB(this.doc, or(e.tagName), or(A), r), A === "style") {
            if (!this.unattachedDoc) try {
              this.unattachedDoc = document.implementation.createHTMLDocument();
            } catch {
              this.unattachedDoc = this.doc;
            }
            const i = this.unattachedDoc.createElement("span");
            t.oldValue && i.setAttribute("style", t.oldValue);
            for (const o of Array.from(e.style)) {
              const a = e.style.getPropertyValue(o), c = e.style.getPropertyPriority(o);
              a !== i.style.getPropertyValue(o) || c !== i.style.getPropertyPriority(o) ? n.styleDiff[o] = c === "" ? a : [a, c] : n._unchangedStyles[o] = [a, c];
            }
            for (const o of Array.from(i.style)) e.style.getPropertyValue(o) === "" && (n.styleDiff[o] = !1);
          } else A === "open" && e.tagName === "DIALOG" && (e.matches("dialog:modal") ? n.attributes.rr_open_mode = "modal" : n.attributes.rr_open_mode = "non-modal");
          break;
        }
        case "childList":
          if (Ee(t.target, this.blockClass, this.blockSelector, !0)) return;
          if (t.target.tagName === "TEXTAREA") return void this.genTextAreaValueMutation(t.target);
          t.addedNodes.forEach((e) => this.genAdds(e, t.target)), t.removedNodes.forEach((e) => {
            const A = this.mirror.getId(e), r = ci(t.target) ? this.mirror.getId(mt.host(t.target)) : this.mirror.getId(t.target);
            Ee(t.target, this.blockClass, this.blockSelector, !1) || lh(e, this.mirror, this.slimDOMOptions) || !function(n, i) {
              return i.getId(n) !== -1;
            }(e, this.mirror) || (this.addedSet.has(e) ? (Jd(this.addedSet, e), this.droppedSet.add(e)) : this.addedSet.has(t.target) && A === -1 || Hy(t.target, this.mirror) || (this.movedSet.has(e) && this.movedMap[zf(A, r)] ? Jd(this.movedSet, e) : this.removes.push({ parentId: r, id: A, isShadow: !(!ci(t.target) || !li(t.target)) || void 0 })), this.mapRemoves.push(e));
          });
      }
    }), V(this, "genAdds", (t, e) => {
      if (!this.processedNodeManager.inOtherBuffer(t, this) && !this.addedSet.has(t) && !this.movedSet.has(t)) {
        if (this.mirror.hasNode(t)) {
          if (lh(t, this.mirror, this.slimDOMOptions)) return;
          this.movedSet.add(t);
          let A = null;
          e && this.mirror.hasNode(e) && (A = this.mirror.getId(e)), A && A !== -1 && (this.movedMap[zf(this.mirror.getId(t), A)] = !0);
        } else this.addedSet.add(t), this.droppedSet.delete(t);
        Ee(t, this.blockClass, this.blockSelector, !1) || (mt.childNodes(t).forEach((A) => this.genAdds(A)), Yd(t) && mt.childNodes(mt.shadowRoot(t)).forEach((A) => {
          this.processedNodeManager.add(A, this), this.genAdds(A, t);
        }));
      }
    });
  }
  init(t) {
    ["mutationCb", "blockClass", "blockSelector", "maskTextClass", "maskTextSelector", "inlineStylesheet", "maskInputOptions", "maskTextFn", "maskInputFn", "keepIframeSrcFn", "recordCanvas", "inlineImages", "slimDOMOptions", "dataURLOptions", "doc", "mirror", "iframeManager", "stylesheetManager", "shadowDomManager", "canvasManager", "processedNodeManager"].forEach((e) => {
      this[e] = t[e];
    });
  }
  freeze() {
    this.frozen = !0, this.canvasManager.freeze();
  }
  unfreeze() {
    this.frozen = !1, this.canvasManager.unfreeze(), this.emit();
  }
  isFrozen() {
    return this.frozen;
  }
  lock() {
    this.locked = !0, this.canvasManager.lock();
  }
  unlock() {
    this.locked = !1, this.canvasManager.unlock(), this.emit();
  }
  reset() {
    this.shadowDomManager.reset(), this.canvasManager.reset();
  }
}
function Jd(s, t) {
  s.delete(t), mt.childNodes(t).forEach((e) => Jd(s, e));
}
function Zf(s, t, e) {
  return s.length !== 0 && function(A, r, n) {
    let i = mt.parentNode(r);
    for (; i; ) {
      const o = n.getId(i);
      if (A.some((a) => a.id === o)) return !0;
      i = mt.parentNode(i);
    }
    return !1;
  }(s, t, e);
}
function qf(s, t) {
  return s.size !== 0 && Vy(s, t);
}
function Vy(s, t) {
  const e = mt.parentNode(t);
  return !!e && (!!s.has(e) || Vy(s, e));
}
let hi;
const Ct = (s) => hi ? (...t) => {
  try {
    return s(...t);
  } catch (e) {
    if (hi && hi(e) === !0) return;
    throw e;
  }
} : s, $s = [];
function di(s) {
  try {
    if ("composedPath" in s) {
      const t = s.composedPath();
      if (t.length) return t[0];
    } else if ("path" in s && s.path.length) return s.path[0];
  } catch {
  }
  return s && s.target;
}
function Gy(s, t) {
  const e = new T3();
  $s.push(e), e.init(s);
  const A = new (Oy())(Ct(e.processMutations.bind(e)));
  return A.observe(t, { attributes: !0, attributeOldValue: !0, characterData: !0, characterDataOldValue: !0, childList: !0, subtree: !0 }), A;
}
function _3({ mouseInteractionCb: s, doc: t, mirror: e, blockClass: A, blockSelector: r, sampling: n }) {
  if (n.mouseInteraction === !1) return () => {
  };
  const i = n.mouseInteraction === !0 || n.mouseInteraction === void 0 ? {} : n.mouseInteraction, o = [];
  let a = null;
  return Object.keys(Te).filter((c) => Number.isNaN(Number(c)) && !c.endsWith("_Departed") && i[c] !== !1).forEach((c) => {
    let l = or(c);
    const h = /* @__PURE__ */ ((d) => (u) => {
      const p = di(u);
      if (Ee(p, A, r, !0)) return;
      let g = null, m = d;
      if ("pointerType" in u) {
        switch (u.pointerType) {
          case "mouse":
            g = WA.Mouse;
            break;
          case "touch":
            g = WA.Touch;
            break;
          case "pen":
            g = WA.Pen;
        }
        g === WA.Touch ? Te[d] === Te.MouseDown ? m = "TouchStart" : Te[d] === Te.MouseUp && (m = "TouchEnd") : WA.Pen;
      } else Wd(u) && (g = WA.Touch);
      g !== null ? (a = g, (m.startsWith("Touch") && g === WA.Touch || m.startsWith("Mouse") && g === WA.Mouse) && (g = null)) : Te[d] === Te.Click && (g = a, a = null);
      const f = Wd(u) ? u.changedTouches[0] : u;
      if (!f) return;
      const w = e.getId(p), { clientX: B, clientY: C } = f;
      Ct(s)({ type: Te[m], id: w, x: B, y: C, ...g !== null && { pointerType: g } });
    })(c);
    if (window.PointerEvent) switch (Te[c]) {
      case Te.MouseDown:
      case Te.MouseUp:
        l = l.replace("mouse", "pointer");
        break;
      case Te.TouchStart:
      case Te.TouchEnd:
        return;
    }
    o.push(be(l, h, t));
  }), Ct(() => {
    o.forEach((c) => c());
  });
}
function Wy({ scrollCb: s, doc: t, mirror: e, blockClass: A, blockSelector: r, sampling: n }) {
  return be("scroll", Ct(Jn(Ct((i) => {
    const o = di(i);
    if (!o || Ee(o, A, r, !0)) return;
    const a = e.getId(o);
    if (o === t && t.defaultView) {
      const c = Ly(t.defaultView);
      s({ id: a, x: c.left, y: c.top });
    } else s({ id: a, x: o.scrollLeft, y: o.scrollTop });
  }), n.scroll || 100)), t);
}
const O3 = ["INPUT", "TEXTAREA", "SELECT"], $f = /* @__PURE__ */ new WeakMap();
function jo(s) {
  return function(t, e) {
    if (Vo("CSSGroupingRule") && t.parentRule instanceof CSSGroupingRule || Vo("CSSMediaRule") && t.parentRule instanceof CSSMediaRule || Vo("CSSSupportsRule") && t.parentRule instanceof CSSSupportsRule || Vo("CSSConditionRule") && t.parentRule instanceof CSSConditionRule) {
      const A = Array.from(t.parentRule.cssRules).indexOf(t);
      e.unshift(A);
    } else if (t.parentStyleSheet) {
      const A = Array.from(t.parentStyleSheet.cssRules).indexOf(t);
      e.unshift(A);
    }
    return e;
  }(s, []);
}
function ps(s, t, e) {
  let A, r;
  return s ? (s.ownerNode ? A = t.getId(s.ownerNode) : r = e.getId(s), { styleId: r, id: A }) : {};
}
function Yy({ mirror: s, stylesheetManager: t }, e) {
  var A, r, n;
  let i = null;
  i = e.nodeName === "#document" ? s.getId(e) : s.getId(mt.host(e));
  const o = e.nodeName === "#document" ? (A = e.defaultView) == null ? void 0 : A.Document : (n = (r = e.ownerDocument) == null ? void 0 : r.defaultView) == null ? void 0 : n.ShadowRoot, a = o != null && o.prototype ? Object.getOwnPropertyDescriptor(o == null ? void 0 : o.prototype, "adoptedStyleSheets") : void 0;
  return i !== null && i !== -1 && o && a ? (Object.defineProperty(e, "adoptedStyleSheets", { configurable: a.configurable, enumerable: a.enumerable, get() {
    var c;
    return (c = a.get) == null ? void 0 : c.call(this);
  }, set(c) {
    var l;
    const h = (l = a.set) == null ? void 0 : l.call(this, c);
    if (i !== null && i !== -1) try {
      t.adoptStyleSheets(c, i);
    } catch {
    }
    return h;
  } }), Ct(() => {
    Object.defineProperty(e, "adoptedStyleSheets", { configurable: a.configurable, enumerable: a.enumerable, get: a.get, set: a.set });
  })) : () => {
  };
}
function L3(s, t = {}) {
  const e = s.doc.defaultView;
  if (!e) return () => {
  };
  let A;
  (function(f, w) {
    const { mutationCb: B, mousemoveCb: C, mouseInteractionCb: v, scrollCb: F, viewportResizeCb: Q, inputCb: E, mediaInteractionCb: _, styleSheetRuleCb: P, styleDeclarationCb: K, canvasMutationCb: T, fontCb: D, selectionCb: I, customElementCb: y } = f;
    f.mutationCb = (...S) => {
      w.mutation && w.mutation(...S), B(...S);
    }, f.mousemoveCb = (...S) => {
      w.mousemove && w.mousemove(...S), C(...S);
    }, f.mouseInteractionCb = (...S) => {
      w.mouseInteraction && w.mouseInteraction(...S), v(...S);
    }, f.scrollCb = (...S) => {
      w.scroll && w.scroll(...S), F(...S);
    }, f.viewportResizeCb = (...S) => {
      w.viewportResize && w.viewportResize(...S), Q(...S);
    }, f.inputCb = (...S) => {
      w.input && w.input(...S), E(...S);
    }, f.mediaInteractionCb = (...S) => {
      w.mediaInteaction && w.mediaInteaction(...S), _(...S);
    }, f.styleSheetRuleCb = (...S) => {
      w.styleSheetRule && w.styleSheetRule(...S), P(...S);
    }, f.styleDeclarationCb = (...S) => {
      w.styleDeclaration && w.styleDeclaration(...S), K(...S);
    }, f.canvasMutationCb = (...S) => {
      w.canvasMutation && w.canvasMutation(...S), T(...S);
    }, f.fontCb = (...S) => {
      w.font && w.font(...S), D(...S);
    }, f.selectionCb = (...S) => {
      w.selection && w.selection(...S), I(...S);
    }, f.customElementCb = (...S) => {
      w.customElement && w.customElement(...S), y(...S);
    };
  })(s, t), s.recordDOM && (A = Gy(s, s.doc));
  const r = function({ mousemoveCb: f, sampling: w, doc: B, mirror: C }) {
    if (w.mousemove === !1) return () => {
    };
    const v = typeof w.mousemove == "number" ? w.mousemove : 50, F = typeof w.mousemoveCallback == "number" ? w.mousemoveCallback : 500;
    let Q, E = [];
    const _ = Jn(Ct((T) => {
      const D = Date.now() - Q;
      f(E.map((I) => (I.timeOffset -= D, I)), T), E = [], Q = null;
    }), F), P = Ct(Jn(Ct((T) => {
      const D = di(T), { clientX: I, clientY: y } = Wd(T) ? T.changedTouches[0] : T;
      Q || (Q = Cc()), E.push({ x: I, y, id: C.getId(D), timeOffset: Cc() - Q }), _(typeof DragEvent < "u" && T instanceof DragEvent ? Bt.Drag : T instanceof MouseEvent ? Bt.MouseMove : Bt.TouchMove);
    }), v, { trailing: !1 })), K = [be("mousemove", P, B), be("touchmove", P, B), be("drag", P, B)];
    return Ct(() => {
      K.forEach((T) => T());
    });
  }(s), n = _3(s), i = Wy(s), o = function({ viewportResizeCb: f }, { win: w }) {
    let B = -1, C = -1;
    return be("resize", Ct(Jn(Ct(() => {
      const v = My(), F = Dy();
      B === v && C === F || (f({ width: Number(F), height: Number(v) }), B = v, C = F);
    }), 200)), w);
  }(s, { win: e }), a = function({ inputCb: f, doc: w, mirror: B, blockClass: C, blockSelector: v, ignoreClass: F, ignoreSelector: Q, maskInputOptions: E, maskInputFn: _, sampling: P, userTriggeredOnInput: K }) {
    function T(R) {
      let H = di(R);
      const L = R.isTrusted, j = H && H.tagName;
      if (H && j === "OPTION" && (H = mt.parentElement(H)), !H || !j || O3.indexOf(j) < 0 || Ee(H, C, v, !0) || H.classList.contains(F) || Q && H.matches(Q)) return;
      let Z = H.value, $ = !1;
      const nt = sp(H) || "";
      nt === "radio" || nt === "checkbox" ? $ = H.checked : (E[j.toLowerCase()] || E[nt]) && (Z = Ap({ element: H, maskInputOptions: E, tagName: j, type: nt, value: Z, maskInputFn: _ })), D(H, K ? { text: Z, isChecked: $, userTriggered: L } : { text: Z, isChecked: $ });
      const wt = H.name;
      nt === "radio" && wt && $ && w.querySelectorAll(`input[type="radio"][name="${wt}"]`).forEach((At) => {
        if (At !== H) {
          const tt = At.value;
          D(At, K ? { text: tt, isChecked: !$, userTriggered: !1 } : { text: tt, isChecked: !$ });
        }
      });
    }
    function D(R, H) {
      const L = $f.get(R);
      if (!L || L.text !== H.text || L.isChecked !== H.isChecked) {
        $f.set(R, H);
        const j = B.getId(R);
        Ct(f)({ ...H, id: j });
      }
    }
    const I = (P.input === "last" ? ["change"] : ["input", "change"]).map((R) => be(R, Ct(T), w)), y = w.defaultView;
    if (!y) return () => {
      I.forEach((R) => R());
    };
    const S = y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype, "value"), M = [[y.HTMLInputElement.prototype, "value"], [y.HTMLInputElement.prototype, "checked"], [y.HTMLSelectElement.prototype, "value"], [y.HTMLTextAreaElement.prototype, "value"], [y.HTMLSelectElement.prototype, "selectedIndex"], [y.HTMLOptionElement.prototype, "selected"]];
    return S && S.set && I.push(...M.map((R) => al(R[0], R[1], { set() {
      Ct(T)({ target: this, isTrusted: !1 });
    } }, !1, y))), Ct(() => {
      I.forEach((R) => R());
    });
  }(s), c = function({ mediaInteractionCb: f, blockClass: w, blockSelector: B, mirror: C, sampling: v, doc: F }) {
    const Q = Ct((_) => Jn(Ct((P) => {
      const K = di(P);
      if (!K || Ee(K, w, B, !0)) return;
      const { currentTime: T, volume: D, muted: I, playbackRate: y, loop: S } = K;
      f({ type: _, id: C.getId(K), currentTime: T, volume: D, muted: I, playbackRate: y, loop: S });
    }), v.media || 500)), E = [be("play", Q(Tr.Play), F), be("pause", Q(Tr.Pause), F), be("seeked", Q(Tr.Seeked), F), be("volumechange", Q(Tr.VolumeChange), F), be("ratechange", Q(Tr.RateChange), F)];
    return Ct(() => {
      E.forEach((_) => _());
    });
  }(s);
  let l = () => {
  }, h = () => {
  }, d = () => {
  }, u = () => {
  };
  s.recordDOM && (l = function({ styleSheetRuleCb: f, mirror: w, stylesheetManager: B }, { win: C }) {
    if (!C.CSSStyleSheet || !C.CSSStyleSheet.prototype) return () => {
    };
    const v = C.CSSStyleSheet.prototype.insertRule;
    C.CSSStyleSheet.prototype.insertRule = new Proxy(v, { apply: Ct((K, T, D) => {
      const [I, y] = D, { id: S, styleId: M } = ps(T, w, B.styleMirror);
      return (S && S !== -1 || M && M !== -1) && f({ id: S, styleId: M, adds: [{ rule: I, index: y }] }), K.apply(T, D);
    }) }), C.CSSStyleSheet.prototype.addRule = function(K, T, D = this.cssRules.length) {
      const I = `${K} { ${T} }`;
      return C.CSSStyleSheet.prototype.insertRule.apply(this, [I, D]);
    };
    const F = C.CSSStyleSheet.prototype.deleteRule;
    let Q, E;
    C.CSSStyleSheet.prototype.deleteRule = new Proxy(F, { apply: Ct((K, T, D) => {
      const [I] = D, { id: y, styleId: S } = ps(T, w, B.styleMirror);
      return (y && y !== -1 || S && S !== -1) && f({ id: y, styleId: S, removes: [{ index: I }] }), K.apply(T, D);
    }) }), C.CSSStyleSheet.prototype.removeRule = function(K) {
      return C.CSSStyleSheet.prototype.deleteRule.apply(this, [K]);
    }, C.CSSStyleSheet.prototype.replace && (Q = C.CSSStyleSheet.prototype.replace, C.CSSStyleSheet.prototype.replace = new Proxy(Q, { apply: Ct((K, T, D) => {
      const [I] = D, { id: y, styleId: S } = ps(T, w, B.styleMirror);
      return (y && y !== -1 || S && S !== -1) && f({ id: y, styleId: S, replace: I }), K.apply(T, D);
    }) })), C.CSSStyleSheet.prototype.replaceSync && (E = C.CSSStyleSheet.prototype.replaceSync, C.CSSStyleSheet.prototype.replaceSync = new Proxy(E, { apply: Ct((K, T, D) => {
      const [I] = D, { id: y, styleId: S } = ps(T, w, B.styleMirror);
      return (y && y !== -1 || S && S !== -1) && f({ id: y, styleId: S, replaceSync: I }), K.apply(T, D);
    }) }));
    const _ = {};
    Go("CSSGroupingRule") ? _.CSSGroupingRule = C.CSSGroupingRule : (Go("CSSMediaRule") && (_.CSSMediaRule = C.CSSMediaRule), Go("CSSConditionRule") && (_.CSSConditionRule = C.CSSConditionRule), Go("CSSSupportsRule") && (_.CSSSupportsRule = C.CSSSupportsRule));
    const P = {};
    return Object.entries(_).forEach(([K, T]) => {
      P[K] = { insertRule: T.prototype.insertRule, deleteRule: T.prototype.deleteRule }, T.prototype.insertRule = new Proxy(P[K].insertRule, { apply: Ct((D, I, y) => {
        const [S, M] = y, { id: R, styleId: H } = ps(I.parentStyleSheet, w, B.styleMirror);
        return (R && R !== -1 || H && H !== -1) && f({ id: R, styleId: H, adds: [{ rule: S, index: [...jo(I), M || 0] }] }), D.apply(I, y);
      }) }), T.prototype.deleteRule = new Proxy(P[K].deleteRule, { apply: Ct((D, I, y) => {
        const [S] = y, { id: M, styleId: R } = ps(I.parentStyleSheet, w, B.styleMirror);
        return (M && M !== -1 || R && R !== -1) && f({ id: M, styleId: R, removes: [{ index: [...jo(I), S] }] }), D.apply(I, y);
      }) });
    }), Ct(() => {
      C.CSSStyleSheet.prototype.insertRule = v, C.CSSStyleSheet.prototype.deleteRule = F, Q && (C.CSSStyleSheet.prototype.replace = Q), E && (C.CSSStyleSheet.prototype.replaceSync = E), Object.entries(_).forEach(([K, T]) => {
        T.prototype.insertRule = P[K].insertRule, T.prototype.deleteRule = P[K].deleteRule;
      });
    });
  }(s, { win: e }), h = Yy(s, s.doc), d = function({ styleDeclarationCb: f, mirror: w, ignoreCSSAttributes: B, stylesheetManager: C }, { win: v }) {
    const F = v.CSSStyleDeclaration.prototype.setProperty;
    v.CSSStyleDeclaration.prototype.setProperty = new Proxy(F, { apply: Ct((E, _, P) => {
      var K;
      const [T, D, I] = P;
      if (B.has(T)) return F.apply(_, [T, D, I]);
      const { id: y, styleId: S } = ps((K = _.parentRule) == null ? void 0 : K.parentStyleSheet, w, C.styleMirror);
      return (y && y !== -1 || S && S !== -1) && f({ id: y, styleId: S, set: { property: T, value: D, priority: I }, index: jo(_.parentRule) }), E.apply(_, P);
    }) });
    const Q = v.CSSStyleDeclaration.prototype.removeProperty;
    return v.CSSStyleDeclaration.prototype.removeProperty = new Proxy(Q, { apply: Ct((E, _, P) => {
      var K;
      const [T] = P;
      if (B.has(T)) return Q.apply(_, [T]);
      const { id: D, styleId: I } = ps((K = _.parentRule) == null ? void 0 : K.parentStyleSheet, w, C.styleMirror);
      return (D && D !== -1 || I && I !== -1) && f({ id: D, styleId: I, remove: { property: T }, index: jo(_.parentRule) }), E.apply(_, P);
    }) }), Ct(() => {
      v.CSSStyleDeclaration.prototype.setProperty = F, v.CSSStyleDeclaration.prototype.removeProperty = Q;
    });
  }(s, { win: e }), s.collectFonts && (u = function({ fontCb: f, doc: w }) {
    const B = w.defaultView;
    if (!B) return () => {
    };
    const C = [], v = /* @__PURE__ */ new WeakMap(), F = B.FontFace;
    B.FontFace = function(E, _, P) {
      const K = new F(E, _, P);
      return v.set(K, { family: E, buffer: typeof _ != "string", descriptors: P, fontSource: typeof _ == "string" ? _ : JSON.stringify(Array.from(new Uint8Array(_))) }), K;
    };
    const Q = An(w.fonts, "add", function(E) {
      return function(_) {
        return setTimeout(Ct(() => {
          const P = v.get(_);
          P && (f(P), v.delete(_));
        }), 0), E.apply(this, [_]);
      };
    });
    return C.push(() => {
      B.FontFace = F;
    }), C.push(Q), Ct(() => {
      C.forEach((E) => E());
    });
  }(s)));
  const p = function(f) {
    const { doc: w, mirror: B, blockClass: C, blockSelector: v, selectionCb: F } = f;
    let Q = !0;
    const E = Ct(() => {
      const _ = w.getSelection();
      if (!_ || Q && (_ != null && _.isCollapsed)) return;
      Q = _.isCollapsed || !1;
      const P = [], K = _.rangeCount || 0;
      for (let T = 0; T < K; T++) {
        const D = _.getRangeAt(T), { startContainer: I, startOffset: y, endContainer: S, endOffset: M } = D;
        Ee(I, C, v, !0) || Ee(S, C, v, !0) || P.push({ start: B.getId(I), startOffset: y, end: B.getId(S), endOffset: M });
      }
      F({ ranges: P });
    });
    return E(), be("selectionchange", E);
  }(s), g = function({ doc: f, customElementCb: w }) {
    const B = f.defaultView;
    return B && B.customElements ? An(B.customElements, "define", function(C) {
      return function(v, F, Q) {
        try {
          w({ define: { name: v } });
        } catch {
          console.warn(`Custom element callback failed for ${v}`);
        }
        return C.apply(this, [v, F, Q]);
      };
    }) : () => {
    };
  }(s), m = [];
  for (const f of s.plugins) m.push(f.observer(f.callback, e, f.options));
  return Ct(() => {
    $s.forEach((f) => f.reset()), A == null || A.disconnect(), r(), n(), i(), o(), a(), c(), l(), h(), d(), u(), p(), g(), m.forEach((f) => f());
  });
}
function Vo(s) {
  return window[s] !== void 0;
}
function Go(s) {
  return !!(window[s] !== void 0 && window[s].prototype && "insertRule" in window[s].prototype && "deleteRule" in window[s].prototype);
}
class tm {
  constructor(t) {
    V(this, "iframeIdToRemoteIdMap", /* @__PURE__ */ new WeakMap()), V(this, "iframeRemoteIdToIdMap", /* @__PURE__ */ new WeakMap()), this.generateIdFn = t;
  }
  getId(t, e, A, r) {
    const n = A || this.getIdToRemoteIdMap(t), i = r || this.getRemoteIdToIdMap(t);
    let o = n.get(e);
    return o || (o = this.generateIdFn(), n.set(e, o), i.set(o, e)), o;
  }
  getIds(t, e) {
    const A = this.getIdToRemoteIdMap(t), r = this.getRemoteIdToIdMap(t);
    return e.map((n) => this.getId(t, n, A, r));
  }
  getRemoteId(t, e, A) {
    const r = A || this.getRemoteIdToIdMap(t);
    return typeof e != "number" ? e : r.get(e) || -1;
  }
  getRemoteIds(t, e) {
    const A = this.getRemoteIdToIdMap(t);
    return e.map((r) => this.getRemoteId(t, r, A));
  }
  reset(t) {
    if (!t) return this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap(), void (this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap());
    this.iframeIdToRemoteIdMap.delete(t), this.iframeRemoteIdToIdMap.delete(t);
  }
  getIdToRemoteIdMap(t) {
    let e = this.iframeIdToRemoteIdMap.get(t);
    return e || (e = /* @__PURE__ */ new Map(), this.iframeIdToRemoteIdMap.set(t, e)), e;
  }
  getRemoteIdToIdMap(t) {
    let e = this.iframeRemoteIdToIdMap.get(t);
    return e || (e = /* @__PURE__ */ new Map(), this.iframeRemoteIdToIdMap.set(t, e)), e;
  }
}
class M3 {
  constructor(t) {
    V(this, "iframes", /* @__PURE__ */ new WeakMap()), V(this, "crossOriginIframeMap", /* @__PURE__ */ new WeakMap()), V(this, "crossOriginIframeMirror", new tm(kB)), V(this, "crossOriginIframeStyleMirror"), V(this, "crossOriginIframeRootIdMap", /* @__PURE__ */ new WeakMap()), V(this, "mirror"), V(this, "mutationCb"), V(this, "wrappedEmit"), V(this, "loadListener"), V(this, "stylesheetManager"), V(this, "recordCrossOriginIframes"), this.mutationCb = t.mutationCb, this.wrappedEmit = t.wrappedEmit, this.stylesheetManager = t.stylesheetManager, this.recordCrossOriginIframes = t.recordCrossOriginIframes, this.crossOriginIframeStyleMirror = new tm(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)), this.mirror = t.mirror, this.recordCrossOriginIframes && window.addEventListener("message", this.handleMessage.bind(this));
  }
  addIframe(t) {
    this.iframes.set(t, !0), t.contentWindow && this.crossOriginIframeMap.set(t.contentWindow, t);
  }
  addLoadListener(t) {
    this.loadListener = t;
  }
  attachIframe(t, e) {
    var A, r;
    this.mutationCb({ adds: [{ parentId: this.mirror.getId(t), nextId: null, node: e }], removes: [], texts: [], attributes: [], isAttachIframe: !0 }), this.recordCrossOriginIframes && ((A = t.contentWindow) == null || A.addEventListener("message", this.handleMessage.bind(this))), (r = this.loadListener) == null || r.call(this, t), t.contentDocument && t.contentDocument.adoptedStyleSheets && t.contentDocument.adoptedStyleSheets.length > 0 && this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets, this.mirror.getId(t.contentDocument));
  }
  handleMessage(t) {
    const e = t;
    if (e.data.type !== "rrweb" || e.origin !== e.data.origin || !t.source) return;
    const A = this.crossOriginIframeMap.get(t.source);
    if (!A) return;
    const r = this.transformCrossOriginEvent(A, e.data.event);
    r && this.wrappedEmit(r, e.data.isCheckout);
  }
  transformCrossOriginEvent(t, e) {
    var A;
    switch (e.type) {
      case vt.FullSnapshot: {
        this.crossOriginIframeMirror.reset(t), this.crossOriginIframeStyleMirror.reset(t), this.replaceIdOnNode(e.data.node, t);
        const r = e.data.node.id;
        return this.crossOriginIframeRootIdMap.set(t, r), this.patchRootIdOnNode(e.data.node, r), { timestamp: e.timestamp, type: vt.IncrementalSnapshot, data: { source: Bt.Mutation, adds: [{ parentId: this.mirror.getId(t), nextId: null, node: e.data.node }], removes: [], texts: [], attributes: [], isAttachIframe: !0 } };
      }
      case vt.Meta:
      case vt.Load:
      case vt.DomContentLoaded:
        return !1;
      case vt.Plugin:
        return e;
      case vt.Custom:
        return this.replaceIds(e.data.payload, t, ["id", "parentId", "previousId", "nextId"]), e;
      case vt.IncrementalSnapshot:
        switch (e.data.source) {
          case Bt.Mutation:
            return e.data.adds.forEach((r) => {
              this.replaceIds(r, t, ["parentId", "nextId", "previousId"]), this.replaceIdOnNode(r.node, t);
              const n = this.crossOriginIframeRootIdMap.get(t);
              n && this.patchRootIdOnNode(r.node, n);
            }), e.data.removes.forEach((r) => {
              this.replaceIds(r, t, ["parentId", "id"]);
            }), e.data.attributes.forEach((r) => {
              this.replaceIds(r, t, ["id"]);
            }), e.data.texts.forEach((r) => {
              this.replaceIds(r, t, ["id"]);
            }), e;
          case Bt.Drag:
          case Bt.TouchMove:
          case Bt.MouseMove:
            return e.data.positions.forEach((r) => {
              this.replaceIds(r, t, ["id"]);
            }), e;
          case Bt.ViewportResize:
            return !1;
          case Bt.MediaInteraction:
          case Bt.MouseInteraction:
          case Bt.Scroll:
          case Bt.CanvasMutation:
          case Bt.Input:
            return this.replaceIds(e.data, t, ["id"]), e;
          case Bt.StyleSheetRule:
          case Bt.StyleDeclaration:
            return this.replaceIds(e.data, t, ["id"]), this.replaceStyleIds(e.data, t, ["styleId"]), e;
          case Bt.Font:
            return e;
          case Bt.Selection:
            return e.data.ranges.forEach((r) => {
              this.replaceIds(r, t, ["start", "end"]);
            }), e;
          case Bt.AdoptedStyleSheet:
            return this.replaceIds(e.data, t, ["id"]), this.replaceStyleIds(e.data, t, ["styleIds"]), (A = e.data.styles) == null || A.forEach((r) => {
              this.replaceStyleIds(r, t, ["styleId"]);
            }), e;
        }
    }
    return !1;
  }
  replace(t, e, A, r) {
    for (const n of r) (Array.isArray(e[n]) || typeof e[n] == "number") && (Array.isArray(e[n]) ? e[n] = t.getIds(A, e[n]) : e[n] = t.getId(A, e[n]));
    return e;
  }
  replaceIds(t, e, A) {
    return this.replace(this.crossOriginIframeMirror, t, e, A);
  }
  replaceStyleIds(t, e, A) {
    return this.replace(this.crossOriginIframeStyleMirror, t, e, A);
  }
  replaceIdOnNode(t, e) {
    this.replaceIds(t, e, ["id", "rootId"]), "childNodes" in t && t.childNodes.forEach((A) => {
      this.replaceIdOnNode(A, e);
    });
  }
  patchRootIdOnNode(t, e) {
    t.type === ie.Document || t.rootId || (t.rootId = e), "childNodes" in t && t.childNodes.forEach((A) => {
      this.patchRootIdOnNode(A, e);
    });
  }
}
class D3 {
  constructor(t) {
    V(this, "shadowDoms", /* @__PURE__ */ new WeakSet()), V(this, "mutationCb"), V(this, "scrollCb"), V(this, "bypassOptions"), V(this, "mirror"), V(this, "restoreHandlers", []), this.mutationCb = t.mutationCb, this.scrollCb = t.scrollCb, this.bypassOptions = t.bypassOptions, this.mirror = t.mirror, this.init();
  }
  init() {
    this.reset(), this.patchAttachShadow(Element, document);
  }
  addShadowRoot(t, e) {
    if (!li(t) || this.shadowDoms.has(t)) return;
    this.shadowDoms.add(t);
    const A = Gy({ ...this.bypassOptions, doc: e, mutationCb: this.mutationCb, mirror: this.mirror, shadowDomManager: this }, t);
    this.restoreHandlers.push(() => A.disconnect()), this.restoreHandlers.push(Wy({ ...this.bypassOptions, scrollCb: this.scrollCb, doc: t, mirror: this.mirror })), setTimeout(() => {
      t.adoptedStyleSheets && t.adoptedStyleSheets.length > 0 && this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets, this.mirror.getId(mt.host(t))), this.restoreHandlers.push(Yy({ mirror: this.mirror, stylesheetManager: this.bypassOptions.stylesheetManager }, t));
    }, 0);
  }
  observeAttachShadow(t) {
    t.contentWindow && t.contentDocument && this.patchAttachShadow(t.contentWindow.Element, t.contentDocument);
  }
  patchAttachShadow(t, e) {
    const A = this;
    this.restoreHandlers.push(An(t.prototype, "attachShadow", function(r) {
      return function(n) {
        const i = r.call(this, n), o = mt.shadowRoot(this);
        return o && jy(this) && A.addShadowRoot(o, e), i;
      };
    }));
  }
  reset() {
    this.restoreHandlers.forEach((t) => {
      try {
        t();
      } catch {
      }
    }), this.restoreHandlers = [], this.shadowDoms = /* @__PURE__ */ new WeakSet();
  }
}
for (var Xn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", R3 = typeof Uint8Array > "u" ? [] : new Uint8Array(256), Wo = 0; Wo < 64; Wo++) R3[Xn.charCodeAt(Wo)] = Wo;
const em = /* @__PURE__ */ new Map(), Jy = (s, t, e) => {
  if (!s || !zy(s, t) && typeof s != "object") return;
  const A = function(n, i) {
    let o = em.get(n);
    return o || (o = /* @__PURE__ */ new Map(), em.set(n, o)), o.has(i) || o.set(i, []), o.get(i);
  }(e, s.constructor.name);
  let r = A.indexOf(s);
  return r === -1 && (r = A.length, A.push(s)), r;
};
function Sa(s, t, e) {
  if (s instanceof Array) return s.map((A) => Sa(A, t, e));
  if (s === null) return s;
  if (s instanceof Float32Array || s instanceof Float64Array || s instanceof Int32Array || s instanceof Uint32Array || s instanceof Uint8Array || s instanceof Uint16Array || s instanceof Int16Array || s instanceof Int8Array || s instanceof Uint8ClampedArray)
    return { rr_type: s.constructor.name, args: [Object.values(s)] };
  if (s instanceof ArrayBuffer)
    return { rr_type: s.constructor.name, base64: function(A) {
      var r, n = new Uint8Array(A), i = n.length, o = "";
      for (r = 0; r < i; r += 3) o += Xn[n[r] >> 2], o += Xn[(3 & n[r]) << 4 | n[r + 1] >> 4], o += Xn[(15 & n[r + 1]) << 2 | n[r + 2] >> 6], o += Xn[63 & n[r + 2]];
      return i % 3 == 2 ? o = o.substring(0, o.length - 1) + "=" : i % 3 == 1 && (o = o.substring(0, o.length - 2) + "=="), o;
    }(s) };
  if (s instanceof DataView)
    return { rr_type: s.constructor.name, args: [Sa(s.buffer, t, e), s.byteOffset, s.byteLength] };
  if (s instanceof HTMLImageElement) {
    const A = s.constructor.name, { src: r } = s;
    return { rr_type: A, src: r };
  }
  return s instanceof HTMLCanvasElement ? { rr_type: "HTMLImageElement", src: s.toDataURL() } : s instanceof ImageData ? { rr_type: s.constructor.name, args: [Sa(s.data, t, e), s.width, s.height] } : zy(s, t) || typeof s == "object" ? { rr_type: s.constructor.name, index: Jy(s, t, e) } : s;
}
const Xy = (s, t, e) => s.map((A) => Sa(A, t, e)), zy = (s, t) => !!["WebGLActiveInfo", "WebGLBuffer", "WebGLFramebuffer", "WebGLProgram", "WebGLRenderbuffer", "WebGLShader", "WebGLShaderPrecisionFormat", "WebGLTexture", "WebGLUniformLocation", "WebGLVertexArrayObject", "WebGLVertexArrayObjectOES"].filter((A) => typeof t[A] == "function").find((A) => s instanceof t[A]);
function Am(s, t, e, A) {
  const r = [];
  try {
    const n = An(s.HTMLCanvasElement.prototype, "getContext", function(i) {
      return function(o, ...a) {
        if (!Ee(this, t, e, !0)) {
          const c = /* @__PURE__ */ function(l) {
            return l === "experimental-webgl" ? "webgl" : l;
          }(o);
          if ("__context" in this || (this.__context = c), A && ["webgl", "webgl2"].includes(c)) if (a[0] && typeof a[0] == "object") {
            const l = a[0];
            l.preserveDrawingBuffer || (l.preserveDrawingBuffer = !0);
          } else a.splice(0, 1, { preserveDrawingBuffer: !0 });
        }
        return i.apply(this, [o, ...a]);
      };
    });
    r.push(n);
  } catch {
    console.error("failed to patch HTMLCanvasElement.prototype.getContext");
  }
  return () => {
    r.forEach((n) => n());
  };
}
function sm(s, t, e, A, r, n) {
  const i = [], o = Object.getOwnPropertyNames(s);
  for (const a of o) if (!["isContextLost", "canvas", "drawingBufferWidth", "drawingBufferHeight"].includes(a)) try {
    if (typeof s[a] != "function") continue;
    const c = An(s, a, function(l) {
      return function(...h) {
        const d = l.apply(this, h);
        if (Jy(d, n, this), "tagName" in this.canvas && !Ee(this.canvas, A, r, !0)) {
          const u = Xy(h, n, this), p = { type: t, property: a, args: u };
          e(this.canvas, p);
        }
        return d;
      };
    });
    i.push(c);
  } catch {
    const c = al(s, a, { set(l) {
      e(this.canvas, { type: t, property: a, args: [l], setter: !0 });
    } });
    i.push(c);
  }
  return i;
}
const Zy = "KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=", rm = typeof window < "u" && window.Blob && new Blob([((s) => Uint8Array.from(atob(s), (t) => t.charCodeAt(0)))(Zy)], { type: "text/javascript;charset=utf-8" });
function H3(s) {
  let t;
  try {
    if (t = rm && (window.URL || window.webkitURL).createObjectURL(rm), !t) throw "";
    const e = new Worker(t, { name: s == null ? void 0 : s.name });
    return e.addEventListener("error", () => {
      (window.URL || window.webkitURL).revokeObjectURL(t);
    }), e;
  } catch {
    return new Worker("data:text/javascript;base64," + Zy, { name: s == null ? void 0 : s.name });
  } finally {
    t && (window.URL || window.webkitURL).revokeObjectURL(t);
  }
}
class P3 {
  constructor(t) {
    V(this, "pendingCanvasMutations", /* @__PURE__ */ new Map()), V(this, "rafStamps", { latestId: 0, invokeId: null }), V(this, "mirror"), V(this, "mutationCb"), V(this, "resetObservers"), V(this, "frozen", !1), V(this, "locked", !1), V(this, "processMutation", (a, c) => {
      !(this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId) && this.rafStamps.invokeId || (this.rafStamps.invokeId = this.rafStamps.latestId), this.pendingCanvasMutations.has(a) || this.pendingCanvasMutations.set(a, []), this.pendingCanvasMutations.get(a).push(c);
    });
    const { sampling: e = "all", win: A, blockClass: r, blockSelector: n, recordCanvas: i, dataURLOptions: o } = t;
    this.mutationCb = t.mutationCb, this.mirror = t.mirror, i && e === "all" && this.initCanvasMutationObserver(A, r, n), i && typeof e == "number" && this.initCanvasFPSObserver(e, A, r, n, { dataURLOptions: o });
  }
  reset() {
    this.pendingCanvasMutations.clear(), this.resetObservers && this.resetObservers();
  }
  freeze() {
    this.frozen = !0;
  }
  unfreeze() {
    this.frozen = !1;
  }
  lock() {
    this.locked = !0;
  }
  unlock() {
    this.locked = !1;
  }
  initCanvasFPSObserver(t, e, A, r, n) {
    const i = Am(e, A, r, !0), o = /* @__PURE__ */ new Map(), a = new H3();
    a.onmessage = (u) => {
      const { id: p } = u.data;
      if (o.set(p, !1), !("base64" in u.data)) return;
      const { base64: g, type: m, width: f, height: w } = u.data;
      this.mutationCb({ id: p, type: Ir["2D"], commands: [{ property: "clearRect", args: [0, 0, f, w] }, { property: "drawImage", args: [{ rr_type: "ImageBitmap", args: [{ rr_type: "Blob", data: [{ rr_type: "ArrayBuffer", base64: g }], type: m }] }, 0, 0] }] });
    };
    const c = 1e3 / t;
    let l, h = 0;
    const d = (u) => {
      h && u - h < c || (h = u, (() => {
        const p = [];
        return e.document.querySelectorAll("canvas").forEach((g) => {
          Ee(g, A, r, !0) || p.push(g);
        }), p;
      })().forEach(async (p) => {
        var g;
        const m = this.mirror.getId(p);
        if (o.get(m) || p.width === 0 || p.height === 0) return;
        if (o.set(m, !0), ["webgl", "webgl2"].includes(p.__context)) {
          const w = p.getContext(p.__context);
          ((g = w == null ? void 0 : w.getContextAttributes()) == null ? void 0 : g.preserveDrawingBuffer) === !1 && w.clear(w.COLOR_BUFFER_BIT);
        }
        const f = await createImageBitmap(p);
        a.postMessage({ id: m, bitmap: f, width: p.width, height: p.height, dataURLOptions: n.dataURLOptions }, [f]);
      })), l = requestAnimationFrame(d);
    };
    l = requestAnimationFrame(d), this.resetObservers = () => {
      i(), cancelAnimationFrame(l);
    };
  }
  initCanvasMutationObserver(t, e, A) {
    this.startRAFTimestamping(), this.startPendingCanvasMutationFlusher();
    const r = Am(t, e, A, !1), n = function(o, a, c, l) {
      const h = [], d = Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype);
      for (const u of d) try {
        if (typeof a.CanvasRenderingContext2D.prototype[u] != "function") continue;
        const p = An(a.CanvasRenderingContext2D.prototype, u, function(g) {
          return function(...m) {
            return Ee(this.canvas, c, l, !0) || setTimeout(() => {
              const f = Xy(m, a, this);
              o(this.canvas, { type: Ir["2D"], property: u, args: f });
            }, 0), g.apply(this, m);
          };
        });
        h.push(p);
      } catch {
        const p = al(a.CanvasRenderingContext2D.prototype, u, { set(g) {
          o(this.canvas, { type: Ir["2D"], property: u, args: [g], setter: !0 });
        } });
        h.push(p);
      }
      return () => {
        h.forEach((u) => u());
      };
    }(this.processMutation.bind(this), t, e, A), i = function(o, a, c, l) {
      const h = [];
      return h.push(...sm(a.WebGLRenderingContext.prototype, Ir.WebGL, o, c, l, a)), a.WebGL2RenderingContext !== void 0 && h.push(...sm(a.WebGL2RenderingContext.prototype, Ir.WebGL2, o, c, l, a)), () => {
        h.forEach((d) => d());
      };
    }(this.processMutation.bind(this), t, e, A);
    this.resetObservers = () => {
      r(), n(), i();
    };
  }
  startPendingCanvasMutationFlusher() {
    requestAnimationFrame(() => this.flushPendingCanvasMutations());
  }
  startRAFTimestamping() {
    const t = (e) => {
      this.rafStamps.latestId = e, requestAnimationFrame(t);
    };
    requestAnimationFrame(t);
  }
  flushPendingCanvasMutations() {
    this.pendingCanvasMutations.forEach((t, e) => {
      const A = this.mirror.getId(e);
      this.flushPendingCanvasMutationFor(e, A);
    }), requestAnimationFrame(() => this.flushPendingCanvasMutations());
  }
  flushPendingCanvasMutationFor(t, e) {
    if (this.frozen || this.locked) return;
    const A = this.pendingCanvasMutations.get(t);
    if (!A || e === -1) return;
    const r = A.map((i) => {
      const { type: o, ...a } = i;
      return a;
    }), { type: n } = A[0];
    this.mutationCb({ id: e, type: n, commands: r }), this.pendingCanvasMutations.delete(t);
  }
}
class K3 {
  constructor(t) {
    V(this, "trackedLinkElements", /* @__PURE__ */ new WeakSet()), V(this, "mutationCb"), V(this, "adoptedStyleSheetCb"), V(this, "styleMirror", new Q3()), this.mutationCb = t.mutationCb, this.adoptedStyleSheetCb = t.adoptedStyleSheetCb;
  }
  attachLinkElement(t, e) {
    "_cssText" in e.attributes && this.mutationCb({ adds: [], removes: [], texts: [], attributes: [{ id: e.id, attributes: e.attributes }] }), this.trackLinkElement(t);
  }
  trackLinkElement(t) {
    this.trackedLinkElements.has(t) || (this.trackedLinkElements.add(t), this.trackStylesheetInLinkElement(t));
  }
  adoptStyleSheets(t, e) {
    if (t.length === 0) return;
    const A = { id: e, styleIds: [] }, r = [];
    for (const n of t) {
      let i;
      this.styleMirror.has(n) ? i = this.styleMirror.getId(n) : (i = this.styleMirror.add(n), r.push({ styleId: i, rules: Array.from(n.rules || CSSRule, (o, a) => ({ rule: bB(o, n.href), index: a })) })), A.styleIds.push(i);
    }
    r.length > 0 && (A.styles = r), this.adoptedStyleSheetCb(A);
  }
  reset() {
    this.styleMirror.reset(), this.trackedLinkElements = /* @__PURE__ */ new WeakSet();
  }
  trackStylesheetInLinkElement(t) {
  }
}
class N3 {
  constructor() {
    V(this, "nodeMap", /* @__PURE__ */ new WeakMap()), V(this, "active", !1);
  }
  inOtherBuffer(t, e) {
    const A = this.nodeMap.get(t);
    return A && Array.from(A).some((r) => r !== e);
  }
  add(t, e) {
    this.active || (this.active = !0, requestAnimationFrame(() => {
      this.nodeMap = /* @__PURE__ */ new WeakMap(), this.active = !1;
    })), this.nodeMap.set(t, (this.nodeMap.get(t) || /* @__PURE__ */ new Set()).add(e));
  }
  destroy() {
  }
}
let Yt, Ea, hh, bc = !1;
try {
  if (Array.from([1], (s) => 2 * s)[0] !== 2) {
    const s = document.createElement("iframe");
    document.body.appendChild(s), Array.from = ((K0 = s.contentWindow) == null ? void 0 : K0.Array.from) || Array.from, document.body.removeChild(s);
  }
} catch (s) {
  console.debug("Unable to override Array.from", s);
}
const aA = new vB();
function zn(s = {}) {
  const { emit: t, checkoutEveryNms: e, checkoutEveryNth: A, blockClass: r = "rr-block", blockSelector: n = null, ignoreClass: i = "rr-ignore", ignoreSelector: o = null, maskTextClass: a = "rr-mask", maskTextSelector: c = null, inlineStylesheet: l = !0, maskAllInputs: h, maskInputOptions: d, slimDOMOptions: u, maskInputFn: p, maskTextFn: g, hooks: m, packFn: f, sampling: w = {}, dataURLOptions: B = {}, mousemoveWait: C, recordDOM: v = !0, recordCanvas: F = !1, recordCrossOriginIframes: Q = !1, recordAfter: E = s.recordAfter === "DOMContentLoaded" ? s.recordAfter : "load", userTriggeredOnInput: _ = !1, collectFonts: P = !1, inlineImages: K = !1, plugins: T, keepIframeSrcFn: D = () => !1, ignoreCSSAttributes: I = /* @__PURE__ */ new Set([]), errorHandler: y } = s;
  hi = y;
  const S = !Q || window.parent === window;
  let M = !1;
  if (!S) try {
    window.parent.document && (M = !1);
  } catch {
    M = !0;
  }
  if (S && !t) throw new Error("emit function is required");
  if (!S && !M) return () => {
  };
  C !== void 0 && w.mousemove === void 0 && (w.mousemove = C), aA.reset();
  const R = h === !0 ? { color: !0, date: !0, "datetime-local": !0, email: !0, month: !0, number: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0, textarea: !0, select: !0, password: !0 } : d !== void 0 ? d : { password: !0 }, H = u === !0 || u === "all" ? { script: !0, comment: !0, headFavicon: !0, headWhitespace: !0, headMetaSocial: !0, headMetaRobots: !0, headMetaHttpEquiv: !0, headMetaVerification: !0, headMetaAuthorship: u === "all", headMetaDescKeywords: u === "all", headTitleMutations: u === "all" } : u || {};
  let L;
  (function(X = window) {
    "NodeList" in X && !X.NodeList.prototype.forEach && (X.NodeList.prototype.forEach = Array.prototype.forEach), "DOMTokenList" in X && !X.DOMTokenList.prototype.forEach && (X.DOMTokenList.prototype.forEach = Array.prototype.forEach);
  })();
  let j = 0;
  const Z = (X) => {
    for (const It of T || []) It.eventProcessor && (X = It.eventProcessor(X));
    return f && !M && (X = f(X)), X;
  };
  Yt = (X, It) => {
    var ht;
    const st = X;
    if (st.timestamp = Cc(), !((ht = $s[0]) != null && ht.isFrozen()) || st.type === vt.FullSnapshot || st.type === vt.IncrementalSnapshot && st.data.source === Bt.Mutation || $s.forEach((Dt) => Dt.unfreeze()), S) t == null || t(Z(st), It);
    else if (M) {
      const Dt = { type: "rrweb", event: Z(st), origin: window.location.origin, isCheckout: It };
      window.parent.postMessage(Dt, "*");
    }
    if (st.type === vt.FullSnapshot) L = st, j = 0;
    else if (st.type === vt.IncrementalSnapshot) {
      if (st.data.source === Bt.Mutation && st.data.isAttachIframe) return;
      j++;
      const Dt = A && j >= A, pt = e && st.timestamp - L.timestamp > e;
      (Dt || pt) && Ea(!0);
    }
  };
  const $ = (X) => {
    Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.Mutation, ...X } });
  }, nt = (X) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.Scroll, ...X } }), wt = (X) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.CanvasMutation, ...X } }), At = new K3({ mutationCb: $, adoptedStyleSheetCb: (X) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.AdoptedStyleSheet, ...X } }) }), tt = new M3({ mirror: aA, mutationCb: $, stylesheetManager: At, recordCrossOriginIframes: Q, wrappedEmit: Yt });
  for (const X of T || []) X.getMirror && X.getMirror({ nodeMirror: aA, crossOriginIframeMirror: tt.crossOriginIframeMirror, crossOriginIframeStyleMirror: tt.crossOriginIframeStyleMirror });
  const gt = new N3();
  hh = new P3({ recordCanvas: F, mutationCb: wt, win: window, blockClass: r, blockSelector: n, mirror: aA, sampling: w.canvas, dataURLOptions: B });
  const ct = new D3({ mutationCb: $, scrollCb: nt, bypassOptions: { blockClass: r, blockSelector: n, maskTextClass: a, maskTextSelector: c, inlineStylesheet: l, maskInputOptions: R, dataURLOptions: B, maskTextFn: g, maskInputFn: p, recordCanvas: F, inlineImages: K, sampling: w, slimDOMOptions: H, iframeManager: tt, stylesheetManager: At, canvasManager: hh, keepIframeSrcFn: D, processedNodeManager: gt }, mirror: aA });
  Ea = (X = !1) => {
    if (!v) return;
    Yt({ type: vt.Meta, data: { href: window.location.href, width: Dy(), height: My() } }, X), At.reset(), ct.init(), $s.forEach((ht) => ht.lock());
    const It = function(ht, st) {
      const { mirror: Dt = new vB(), blockClass: pt = "rr-block", blockSelector: ut = null, maskTextClass: bt = "rr-mask", maskTextSelector: ot = null, inlineStylesheet: ce = !0, inlineImages: Ne = !1, recordCanvas: xt = !1, maskAllInputs: je = !1, maskTextFn: q, maskInputFn: Ve, slimDOM: Ge = !1, dataURLOptions: Xe, preserveWhiteSpace: kC, onSerialize: xC, onIframeLoad: SC, iframeLoadTimeout: EC, onStylesheetLoad: FC, stylesheetLoadTimeout: QC, keepIframeSrcFn: UC = () => !1 } = st || {};
      return Hr(ht, { doc: ht, mirror: Dt, blockClass: pt, blockSelector: ut, maskTextClass: bt, maskTextSelector: ot, skipChild: !1, inlineStylesheet: ce, maskInputOptions: je === !0 ? { color: !0, date: !0, "datetime-local": !0, email: !0, month: !0, number: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0, textarea: !0, select: !0, password: !0 } : je === !1 ? { password: !0 } : je, maskTextFn: q, maskInputFn: Ve, slimDOMOptions: Ge === !0 || Ge === "all" ? { script: !0, comment: !0, headFavicon: !0, headWhitespace: !0, headMetaDescKeywords: Ge === "all", headMetaSocial: !0, headMetaRobots: !0, headMetaHttpEquiv: !0, headMetaAuthorship: !0, headMetaVerification: !0 } : Ge === !1 ? {} : Ge, dataURLOptions: Xe, inlineImages: Ne, recordCanvas: xt, preserveWhiteSpace: kC, onSerialize: xC, onIframeLoad: SC, iframeLoadTimeout: EC, onStylesheetLoad: FC, stylesheetLoadTimeout: QC, keepIframeSrcFn: UC, newlyAddedElement: !1 });
    }(document, { mirror: aA, blockClass: r, blockSelector: n, maskTextClass: a, maskTextSelector: c, inlineStylesheet: l, maskAllInputs: R, maskTextFn: g, maskInputFn: p, slimDOM: H, dataURLOptions: B, recordCanvas: F, inlineImages: K, onSerialize: (ht) => {
      Py(ht, aA) && tt.addIframe(ht), Ky(ht, aA) && At.trackLinkElement(ht), Yd(ht) && ct.addShadowRoot(mt.shadowRoot(ht), document);
    }, onIframeLoad: (ht, st) => {
      tt.attachIframe(ht, st), ct.observeAttachShadow(ht);
    }, onStylesheetLoad: (ht, st) => {
      At.attachLinkElement(ht, st);
    }, keepIframeSrcFn: D });
    if (!It) return console.warn("Failed to snapshot the document");
    Yt({ type: vt.FullSnapshot, data: { node: It, initialOffset: Ly(window) } }, X), $s.forEach((ht) => ht.unlock()), document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0 && At.adoptStyleSheets(document.adoptedStyleSheets, aA.getId(document));
  };
  try {
    const X = [], It = (st) => {
      var Dt;
      return Ct(L3)({ mutationCb: $, mousemoveCb: (pt, ut) => Yt({ type: vt.IncrementalSnapshot, data: { source: ut, positions: pt } }), mouseInteractionCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.MouseInteraction, ...pt } }), scrollCb: nt, viewportResizeCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.ViewportResize, ...pt } }), inputCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.Input, ...pt } }), mediaInteractionCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.MediaInteraction, ...pt } }), styleSheetRuleCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.StyleSheetRule, ...pt } }), styleDeclarationCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.StyleDeclaration, ...pt } }), canvasMutationCb: wt, fontCb: (pt) => Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.Font, ...pt } }), selectionCb: (pt) => {
        Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.Selection, ...pt } });
      }, customElementCb: (pt) => {
        Yt({ type: vt.IncrementalSnapshot, data: { source: Bt.CustomElement, ...pt } });
      }, blockClass: r, ignoreClass: i, ignoreSelector: o, maskTextClass: a, maskTextSelector: c, maskInputOptions: R, inlineStylesheet: l, sampling: w, recordDOM: v, recordCanvas: F, inlineImages: K, userTriggeredOnInput: _, collectFonts: P, doc: st, maskInputFn: p, maskTextFn: g, keepIframeSrcFn: D, blockSelector: n, slimDOMOptions: H, dataURLOptions: B, mirror: aA, iframeManager: tt, stylesheetManager: At, shadowDomManager: ct, processedNodeManager: gt, canvasManager: hh, ignoreCSSAttributes: I, plugins: ((Dt = T == null ? void 0 : T.filter((pt) => pt.observer)) == null ? void 0 : Dt.map((pt) => ({ observer: pt.observer, options: pt.options, callback: (ut) => Yt({ type: vt.Plugin, data: { plugin: pt.name, payload: ut } }) }))) || [] }, m);
    };
    tt.addLoadListener((st) => {
      try {
        X.push(It(st.contentDocument));
      } catch (Dt) {
        console.warn(Dt);
      }
    });
    const ht = () => {
      Ea(), X.push(It(document)), bc = !0;
    };
    return document.readyState === "interactive" || document.readyState === "complete" ? ht() : (X.push(be("DOMContentLoaded", () => {
      Yt({ type: vt.DomContentLoaded, data: {} }), E === "DOMContentLoaded" && ht();
    })), X.push(be("load", () => {
      Yt({ type: vt.Load, data: {} }), E === "load" && ht();
    }, window))), () => {
      X.forEach((st) => st()), gt.destroy(), bc = !1, hi = void 0;
    };
  } catch (X) {
    console.warn(X);
  }
}
var nm, xr;
zn.addCustomEvent = (s, t) => {
  if (!bc) throw new Error("please add custom event after start recording");
  Yt({ type: vt.Custom, data: { tag: s, payload: t } });
}, zn.freezePage = () => {
  $s.forEach((s) => s.freeze());
}, zn.takeFullSnapshot = (s) => {
  if (!bc) throw new Error("please take full snapshot after start recording");
  Ea(s);
}, zn.mirror = aA, (xr = nm || (nm = {}))[xr.NotStarted = 0] = "NotStarted", xr[xr.Running = 1] = "Running", xr[xr.Stopped = 2] = "Stopped";
var Fa = ((s) => (s[s.DomContentLoaded = 0] = "DomContentLoaded", s[s.Load = 1] = "Load", s[s.FullSnapshot = 2] = "FullSnapshot", s[s.IncrementalSnapshot = 3] = "IncrementalSnapshot", s[s.Meta = 4] = "Meta", s[s.Custom = 5] = "Custom", s[s.Plugin = 6] = "Plugin", s))(Fa || {});
class Yo {
  constructor(t) {
    b(this, "buffer");
    b(this, "head", 0);
    b(this, "tail", 0);
    b(this, "size", 0);
    b(this, "capacity");
    if (t <= 0) throw new Error("Capacity must be greater than zero");
    this.capacity = t, this.buffer = new Array(t);
  }
  get length() {
    return this.size;
  }
  shove(t) {
    let e;
    return this.size === this.capacity && (e = this.buffer[this.head], this.head = (this.head + 1) % this.capacity), this.buffer[this.tail] = t, this.tail = (this.tail + 1) % this.capacity, this.size < this.capacity && this.size++, e;
  }
  pop() {
    if (this.size === 0) throw new Error("Buffer is empty");
    const t = this.buffer[this.head];
    return this.buffer[this.head] = void 0, this.head = (this.head + 1) % this.capacity, this.size--, t;
  }
  toArray() {
    const t = [];
    for (let e = 0; e < this.size; e++) {
      const A = (this.head + e) % this.capacity, r = this.buffer[A];
      r !== void 0 && t.push(r);
    }
    return t;
  }
}
class j3 {
  constructor(t, e) {
    b(this, "buffer");
    b(this, "head", 0);
    b(this, "tail", 0);
    b(this, "size", 0);
    b(this, "maxIncrementalSnapshots");
    b(this, "maxSizeBytes");
    b(this, "totalIncrementalSnapshots", 0);
    b(this, "totalSizeBytes", 0);
    b(this, "currentChunk");
    if (t <= 0 || e <= 0) throw new Error("Both maxIncrementalSnapshots and maxSizeBytes must be greater than zero");
    this.maxIncrementalSnapshots = t, this.maxSizeBytes = e, this.buffer = new Array(t), this.currentChunk = { fullSnapshot: void 0, meta: void 0, events: new Yo(t) };
  }
  shove(t) {
    if (!this.currentChunk) throw new Error("Current chunk is not initialized");
    const e = t.type, A = this.currentChunk.meta && this.currentChunk.fullSnapshot, r = this.currentChunk.events.length === 0;
    if (e !== Fa.IncrementalSnapshot) {
      if (!A && !r) throw this.clear(), new Error("Invalid chunk state: FullSnapshot or Meta missing");
      A && !r && (this.addChunk(this.currentChunk), this.currentChunk = { fullSnapshot: void 0, meta: void 0, events: new Yo(this.maxIncrementalSnapshots) }), e === Fa.FullSnapshot ? this.currentChunk.fullSnapshot = t : e === Fa.Meta && (this.currentChunk.meta = t);
    } else {
      if (!A) throw this.clear(), new Error("Cannot add IncrementalSnapshot without Meta and FullSnapshot");
      this.currentChunk.events.shove(t), this.totalIncrementalSnapshots++;
    }
  }
  toArray() {
    if (!this.currentChunk) throw new Error("Current chunk is not initialized");
    const t = this.currentChunk.meta && this.currentChunk.fullSnapshot, e = this.currentChunk.events.length === 0;
    t && !e && this.addChunk(this.currentChunk);
    const A = [];
    for (let r = 0; r < this.size; r++) {
      const n = (this.head + r) % this.totalIncrementalSnapshots, i = this.buffer[n];
      if (i) {
        const o = i.meta && i.fullSnapshot, a = i.events.length === 0;
        if (!o || a) continue;
        A.push(i.meta), A.push(i.fullSnapshot), A.push(...i.events.toArray());
      }
    }
    return A;
  }
  clear() {
    this.buffer = new Array(this.maxIncrementalSnapshots), this.head = 0, this.tail = 0, this.size = 0, this.totalIncrementalSnapshots = 0, this.totalSizeBytes = 0, this.currentChunk = { fullSnapshot: void 0, meta: void 0, events: new Yo(this.maxIncrementalSnapshots) };
  }
  addChunk(t) {
    const e = this.calculateSerializedSize(t);
    this.buffer[this.tail] = t, this.tail = (this.tail + 1) % this.maxIncrementalSnapshots, this.size++, this.totalSizeBytes += e, this.trimBuffer(), this.currentChunk = { fullSnapshot: void 0, meta: void 0, events: new Yo(this.maxIncrementalSnapshots) };
  }
  trimBuffer() {
    for (; this.totalIncrementalSnapshots > this.maxIncrementalSnapshots || this.totalSizeBytes > this.maxSizeBytes; ) {
      const t = this.buffer[this.head];
      if (!t) break;
      if (t.events.length > 0) {
        const e = t.events.pop();
        if (e) {
          const A = this.calculateSerializedSize(e);
          this.totalSizeBytes = Math.max(0, this.totalSizeBytes - A), this.totalIncrementalSnapshots--;
        }
      }
      if (t.events.length === 0) {
        const e = this.calculateSerializedSize(t);
        this.totalSizeBytes = Math.max(0, this.totalSizeBytes - e), this.buffer[this.head] = void 0, this.head = (this.head + 1) % this.maxIncrementalSnapshots, this.size--;
      }
      if (this.totalIncrementalSnapshots <= this.maxIncrementalSnapshots && this.totalSizeBytes <= this.maxSizeBytes) break;
    }
  }
  calculateSerializedSize(t) {
    const e = JSON.stringify(t);
    return new TextEncoder().encode(e).length;
  }
}
class V3 {
  constructor() {
    b(this, "events", new j3(1e3, 8388608));
    b(this, "stopFn");
  }
  start() {
    this.stop(), this.stopFn = zn({ emit: (t) => {
      try {
        this.events.shove(t);
      } catch (e) {
        Rc("SessionReplayTracker: record. " + (e == null ? void 0 : e.message)), this.stopFn && (this.stopFn(), this.events.clear(), this.start());
      }
    } });
  }
  stop() {
    try {
      this.stopFn && this.stopFn();
    } catch (t) {
      qt("Failed to stop session replay." + (t == null ? void 0 : t.message));
    }
  }
  getEvents() {
    return this.events.toArray();
  }
  reset() {
    this.events.clear();
  }
}
var Xd = ((s) => (s.TAB_VISIBLE = "onResume", s.TAB_HIDDEN = "onPause", s.APP_START = "onCreate", s))(Xd || {});
class G3 {
  constructor() {
    b(this, "listener", () => {
      document.visibilityState === "hidden" && this.captureEvent(Xd.TAB_HIDDEN), document.visibilityState === "visible" && this.captureEvent(Xd.TAB_VISIBLE);
    });
    b(this, "start", () => {
      document.addEventListener("visibilitychange", this.listener);
    });
    b(this, "stop", () => {
      document.removeEventListener("visibilitychange", this.listener);
    });
    b(this, "captureEvent", (t) => {
      if (!it.report.isSystemEventsEnabled || jt.isShakeOpened) return;
      const e = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), state: t, event_type: Se.SYSTEM_EVENT };
      Es(e);
    });
  }
}
var Qa = ((s) => (s.TAP = "Tap", s))(Qa || {});
class W3 {
  constructor() {
    b(this, "listener", (t) => {
      const e = Y3(t);
      e && this.captureEvent(e.tag, e.property, e.propertyType);
    });
    b(this, "start", () => {
      document.addEventListener("click", this.listener);
    });
    b(this, "stop", () => {
      document.removeEventListener("click", this.listener);
    });
    b(this, "captureEvent", (t, e, A) => {
      if (!it.report.isUserActionsEnabled || jt.isShakeOpened) return;
      const r = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), class_name: t ?? "", property: e ?? "", property_type: A ?? "", touch_type: Qa.TAP, event_type: Se.USER_ACTION };
      it.config.sensitiveDataRedaction && ((n) => {
        EA.forEach((i) => {
          n.property = n.property.replace(i, GA);
        });
      })(r), Es(r);
    });
    b(this, "addFeedbackSubmittedEvent", () => {
      const t = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), class_name: "#SHAKE_INVOKED", property: "SUBMITTED", property_type: "", touch_type: Qa.TAP, event_type: Se.USER_ACTION };
      return Es(t), t;
    });
    b(this, "addFeedbackDismissedEvent", () => {
      const t = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), class_name: "#SHAKE_INVOKED", property: "DISMISSED", property_type: "", touch_type: Qa.TAP, event_type: Se.USER_ACTION };
      return Es(t), t;
    });
  }
}
const Y3 = (s) => {
  const t = { tag: "", property: "", propertyType: "" };
  if (s.target instanceof Element) {
    t.tag = s.target.tagName.toLowerCase();
    let e = "";
    ["p", "pre", "q", "h1", "h2", "button", "a", "span", "li"].includes(t.tag) && (e = s.target.textContent ?? "");
    const A = s.target.ariaLabel ?? s.target.getAttribute("alt") ?? "", r = s.target.id ?? "", n = s.target.className ?? "";
    e && Jo(e) ? (t.property = e, t.propertyType = "Text") : A && Jo(A) ? (t.property = A, t.propertyType = "ContentDescription") : r && Jo(r) ? (t.property = r, t.propertyType = "Id") : n && Jo(n) && (t.property = n, t.propertyType = "Id");
  }
  return t;
}, Jo = (s) => !(s instanceof SVGAnimatedString), FA = /* @__PURE__ */ Object.create(null);
FA.open = "0", FA.close = "1", FA.ping = "2", FA.pong = "3", FA.message = "4", FA.upgrade = "5", FA.noop = "6";
const Ua = /* @__PURE__ */ Object.create(null);
Object.keys(FA).forEach((s) => {
  Ua[FA[s]] = s;
});
const zd = { type: "error", data: "parser error" }, qy = typeof Blob == "function" || typeof Blob < "u" && Object.prototype.toString.call(Blob) === "[object BlobConstructor]", $y = typeof ArrayBuffer == "function", tC = (s) => typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(s) : s && s.buffer instanceof ArrayBuffer, vp = ({ type: s, data: t }, e, A) => qy && t instanceof Blob ? e ? A(t) : im(t, A) : $y && (t instanceof ArrayBuffer || tC(t)) ? e ? A(t) : im(new Blob([t]), A) : A(FA[s] + (t || "")), im = (s, t) => {
  const e = new FileReader();
  return e.onload = function() {
    const A = e.result.split(",")[1];
    t("b" + (A || ""));
  }, e.readAsDataURL(s);
};
function om(s) {
  return s instanceof Uint8Array ? s : s instanceof ArrayBuffer ? new Uint8Array(s) : new Uint8Array(s.buffer, s.byteOffset, s.byteLength);
}
let dh;
const J3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Zn = typeof Uint8Array > "u" ? [] : new Uint8Array(256);
for (let s = 0; s < 64; s++) Zn[J3.charCodeAt(s)] = s;
const X3 = typeof ArrayBuffer == "function", kp = (s, t) => {
  if (typeof s != "string") return { type: "message", data: eC(s, t) };
  const e = s.charAt(0);
  return e === "b" ? { type: "message", data: z3(s.substring(1), t) } : Ua[e] ? s.length > 1 ? { type: Ua[e], data: s.substring(1) } : { type: Ua[e] } : zd;
}, z3 = (s, t) => {
  if (X3) {
    const e = ((A) => {
      let r, n, i, o, a, c = 0.75 * A.length, l = A.length, h = 0;
      A[A.length - 1] === "=" && (c--, A[A.length - 2] === "=" && c--);
      const d = new ArrayBuffer(c), u = new Uint8Array(d);
      for (r = 0; r < l; r += 4) n = Zn[A.charCodeAt(r)], i = Zn[A.charCodeAt(r + 1)], o = Zn[A.charCodeAt(r + 2)], a = Zn[A.charCodeAt(r + 3)], u[h++] = n << 2 | i >> 4, u[h++] = (15 & i) << 4 | o >> 2, u[h++] = (3 & o) << 6 | 63 & a;
      return d;
    })(s);
    return eC(e, t);
  }
  return { base64: !0, data: s };
}, eC = (s, t) => t === "blob" ? s instanceof Blob ? s : new Blob([s]) : s instanceof ArrayBuffer ? s : s.buffer, am = "";
function Z3() {
  return new TransformStream({ transform(s, t) {
    (function(e, A) {
      qy && e.data instanceof Blob ? e.data.arrayBuffer().then(om).then(A) : $y && (e.data instanceof ArrayBuffer || tC(e.data)) ? A(om(e.data)) : vp(e, !1, (r) => {
        dh || (dh = new TextEncoder()), A(dh.encode(r));
      });
    })(s, (e) => {
      const A = e.length;
      let r;
      if (A < 126) r = new Uint8Array(1), new DataView(r.buffer).setUint8(0, A);
      else if (A < 65536) {
        r = new Uint8Array(3);
        const n = new DataView(r.buffer);
        n.setUint8(0, 126), n.setUint16(1, A);
      } else {
        r = new Uint8Array(9);
        const n = new DataView(r.buffer);
        n.setUint8(0, 127), n.setBigUint64(1, BigInt(A));
      }
      s.data && typeof s.data != "string" && (r[0] |= 128), t.enqueue(r), t.enqueue(e);
    });
  } });
}
let uh;
function Xo(s) {
  return s.reduce((t, e) => t + e.length, 0);
}
function zo(s, t) {
  if (s[0].length === t) return s.shift();
  const e = new Uint8Array(t);
  let A = 0;
  for (let r = 0; r < t; r++) e[r] = s[0][A++], A === s[0].length && (s.shift(), A = 0);
  return s.length && A < s[0].length && (s[0] = s[0].slice(A)), e;
}
function te(s) {
  if (s) return function(t) {
    for (var e in te.prototype) t[e] = te.prototype[e];
    return t;
  }(s);
}
te.prototype.on = te.prototype.addEventListener = function(s, t) {
  return this._callbacks = this._callbacks || {}, (this._callbacks["$" + s] = this._callbacks["$" + s] || []).push(t), this;
}, te.prototype.once = function(s, t) {
  function e() {
    this.off(s, e), t.apply(this, arguments);
  }
  return e.fn = t, this.on(s, e), this;
}, te.prototype.off = te.prototype.removeListener = te.prototype.removeAllListeners = te.prototype.removeEventListener = function(s, t) {
  if (this._callbacks = this._callbacks || {}, arguments.length == 0) return this._callbacks = {}, this;
  var e, A = this._callbacks["$" + s];
  if (!A) return this;
  if (arguments.length == 1) return delete this._callbacks["$" + s], this;
  for (var r = 0; r < A.length; r++) if ((e = A[r]) === t || e.fn === t) {
    A.splice(r, 1);
    break;
  }
  return A.length === 0 && delete this._callbacks["$" + s], this;
}, te.prototype.emit = function(s) {
  this._callbacks = this._callbacks || {};
  for (var t = new Array(arguments.length - 1), e = this._callbacks["$" + s], A = 1; A < arguments.length; A++) t[A - 1] = arguments[A];
  if (e) {
    A = 0;
    for (var r = (e = e.slice(0)).length; A < r; ++A) e[A].apply(this, t);
  }
  return this;
}, te.prototype.emitReserved = te.prototype.emit, te.prototype.listeners = function(s) {
  return this._callbacks = this._callbacks || {}, this._callbacks["$" + s] || [];
}, te.prototype.hasListeners = function(s) {
  return !!this.listeners(s).length;
};
const cl = typeof Promise == "function" && typeof Promise.resolve == "function" ? (s) => Promise.resolve().then(s) : (s, t) => t(s, 0), AA = typeof self < "u" ? self : typeof window < "u" ? window : Function("return this")();
function AC(s, ...t) {
  return t.reduce((e, A) => (s.hasOwnProperty(A) && (e[A] = s[A]), e), {});
}
const q3 = AA.setTimeout, $3 = AA.clearTimeout;
function ll(s, t) {
  t.useNativeTimers ? (s.setTimeoutFn = q3.bind(AA), s.clearTimeoutFn = $3.bind(AA)) : (s.setTimeoutFn = AA.setTimeout.bind(AA), s.clearTimeoutFn = AA.clearTimeout.bind(AA));
}
function sC() {
  return Date.now().toString(36).substring(3) + Math.random().toString(36).substring(2, 5);
}
class t4 extends Error {
  constructor(t, e, A) {
    super(t), this.description = e, this.context = A, this.type = "TransportError";
  }
}
class xp extends te {
  constructor(t) {
    super(), this.writable = !1, ll(this, t), this.opts = t, this.query = t.query, this.socket = t.socket, this.supportsBinary = !t.forceBase64;
  }
  onError(t, e, A) {
    return super.emitReserved("error", new t4(t, e, A)), this;
  }
  open() {
    return this.readyState = "opening", this.doOpen(), this;
  }
  close() {
    return this.readyState !== "opening" && this.readyState !== "open" || (this.doClose(), this.onClose()), this;
  }
  send(t) {
    this.readyState === "open" && this.write(t);
  }
  onOpen() {
    this.readyState = "open", this.writable = !0, super.emitReserved("open");
  }
  onData(t) {
    const e = kp(t, this.socket.binaryType);
    this.onPacket(e);
  }
  onPacket(t) {
    super.emitReserved("packet", t);
  }
  onClose(t) {
    this.readyState = "closed", super.emitReserved("close", t);
  }
  pause(t) {
  }
  createUri(t, e = {}) {
    return t + "://" + this._hostname() + this._port() + this.opts.path + this._query(e);
  }
  _hostname() {
    const t = this.opts.hostname;
    return t.indexOf(":") === -1 ? t : "[" + t + "]";
  }
  _port() {
    return this.opts.port && (this.opts.secure && +(this.opts.port !== 443) || !this.opts.secure && Number(this.opts.port) !== 80) ? ":" + this.opts.port : "";
  }
  _query(t) {
    const e = function(A) {
      let r = "";
      for (let n in A) A.hasOwnProperty(n) && (r.length && (r += "&"), r += encodeURIComponent(n) + "=" + encodeURIComponent(A[n]));
      return r;
    }(t);
    return e.length ? "?" + e : "";
  }
}
class e4 extends xp {
  constructor() {
    super(...arguments), this._polling = !1;
  }
  get name() {
    return "polling";
  }
  doOpen() {
    this._poll();
  }
  pause(t) {
    this.readyState = "pausing";
    const e = () => {
      this.readyState = "paused", t();
    };
    if (this._polling || !this.writable) {
      let A = 0;
      this._polling && (A++, this.once("pollComplete", function() {
        --A || e();
      })), this.writable || (A++, this.once("drain", function() {
        --A || e();
      }));
    } else e();
  }
  _poll() {
    this._polling = !0, this.doPoll(), this.emitReserved("poll");
  }
  onData(t) {
    ((e, A) => {
      const r = e.split(am), n = [];
      for (let i = 0; i < r.length; i++) {
        const o = kp(r[i], A);
        if (n.push(o), o.type === "error") break;
      }
      return n;
    })(t, this.socket.binaryType).forEach((e) => {
      if (this.readyState === "opening" && e.type === "open" && this.onOpen(), e.type === "close") return this.onClose({ description: "transport closed by the server" }), !1;
      this.onPacket(e);
    }), this.readyState !== "closed" && (this._polling = !1, this.emitReserved("pollComplete"), this.readyState === "open" && this._poll());
  }
  doClose() {
    const t = () => {
      this.write([{ type: "close" }]);
    };
    this.readyState === "open" ? t() : this.once("open", t);
  }
  write(t) {
    this.writable = !1, ((e, A) => {
      const r = e.length, n = new Array(r);
      let i = 0;
      e.forEach((o, a) => {
        vp(o, !1, (c) => {
          n[a] = c, ++i === r && A(n.join(am));
        });
      });
    })(t, (e) => {
      this.doWrite(e, () => {
        this.writable = !0, this.emitReserved("drain");
      });
    });
  }
  uri() {
    const t = this.opts.secure ? "https" : "http", e = this.query || {};
    return this.opts.timestampRequests !== !1 && (e[this.opts.timestampParam] = sC()), this.supportsBinary || e.sid || (e.b64 = 1), this.createUri(t, e);
  }
}
let rC = !1;
try {
  rC = typeof XMLHttpRequest < "u" && "withCredentials" in new XMLHttpRequest();
} catch {
}
const A4 = rC;
function s4() {
}
class r4 extends e4 {
  constructor(t) {
    if (super(t), typeof location < "u") {
      const e = location.protocol === "https:";
      let A = location.port;
      A || (A = e ? "443" : "80"), this.xd = typeof location < "u" && t.hostname !== location.hostname || A !== t.port;
    }
  }
  doWrite(t, e) {
    const A = this.request({ method: "POST", data: t });
    A.on("success", e), A.on("error", (r, n) => {
      this.onError("xhr post error", r, n);
    });
  }
  doPoll() {
    const t = this.request();
    t.on("data", this.onData.bind(this)), t.on("error", (e, A) => {
      this.onError("xhr poll error", e, A);
    }), this.pollXhr = t;
  }
}
let Zr = class Ia extends te {
  constructor(t, e, A) {
    super(), this.createRequest = t, ll(this, A), this._opts = A, this._method = A.method || "GET", this._uri = e, this._data = A.data !== void 0 ? A.data : null, this._create();
  }
  _create() {
    var t;
    const e = AC(this._opts, "agent", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "autoUnref");
    e.xdomain = !!this._opts.xd;
    const A = this._xhr = this.createRequest(e);
    try {
      A.open(this._method, this._uri, !0);
      try {
        if (this._opts.extraHeaders) {
          A.setDisableHeaderCheck && A.setDisableHeaderCheck(!0);
          for (let r in this._opts.extraHeaders) this._opts.extraHeaders.hasOwnProperty(r) && A.setRequestHeader(r, this._opts.extraHeaders[r]);
        }
      } catch {
      }
      if (this._method === "POST") try {
        A.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
      } catch {
      }
      try {
        A.setRequestHeader("Accept", "*/*");
      } catch {
      }
      (t = this._opts.cookieJar) === null || t === void 0 || t.addCookies(A), "withCredentials" in A && (A.withCredentials = this._opts.withCredentials), this._opts.requestTimeout && (A.timeout = this._opts.requestTimeout), A.onreadystatechange = () => {
        var r;
        A.readyState === 3 && ((r = this._opts.cookieJar) === null || r === void 0 || r.parseCookies(A.getResponseHeader("set-cookie"))), A.readyState === 4 && (A.status === 200 || A.status === 1223 ? this._onLoad() : this.setTimeoutFn(() => {
          this._onError(typeof A.status == "number" ? A.status : 0);
        }, 0));
      }, A.send(this._data);
    } catch (r) {
      return void this.setTimeoutFn(() => {
        this._onError(r);
      }, 0);
    }
    typeof document < "u" && (this._index = Ia.requestsCount++, Ia.requests[this._index] = this);
  }
  _onError(t) {
    this.emitReserved("error", t, this._xhr), this._cleanup(!0);
  }
  _cleanup(t) {
    if (this._xhr !== void 0 && this._xhr !== null) {
      if (this._xhr.onreadystatechange = s4, t) try {
        this._xhr.abort();
      } catch {
      }
      typeof document < "u" && delete Ia.requests[this._index], this._xhr = null;
    }
  }
  _onLoad() {
    const t = this._xhr.responseText;
    t !== null && (this.emitReserved("data", t), this.emitReserved("success"), this._cleanup());
  }
  abort() {
    this._cleanup();
  }
};
Zr.requestsCount = 0, Zr.requests = {}, typeof document < "u" && (typeof attachEvent == "function" ? attachEvent("onunload", cm) : typeof addEventListener == "function" && addEventListener("onpagehide" in AA ? "pagehide" : "unload", cm, !1));
function cm() {
  for (let s in Zr.requests) Zr.requests.hasOwnProperty(s) && Zr.requests[s].abort();
}
const n4 = function() {
  const s = nC({ xdomain: !1 });
  return s && s.responseType !== null;
}();
function nC(s) {
  const t = s.xdomain;
  try {
    if (typeof XMLHttpRequest < "u" && (!t || A4)) return new XMLHttpRequest();
  } catch {
  }
  if (!t) try {
    return new AA[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP");
  } catch {
  }
}
const iC = typeof navigator < "u" && typeof navigator.product == "string" && navigator.product.toLowerCase() === "reactnative";
class i4 extends xp {
  get name() {
    return "websocket";
  }
  doOpen() {
    const t = this.uri(), e = this.opts.protocols, A = iC ? {} : AC(this.opts, "agent", "perMessageDeflate", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "localAddress", "protocolVersion", "origin", "maxPayload", "family", "checkServerIdentity");
    this.opts.extraHeaders && (A.headers = this.opts.extraHeaders);
    try {
      this.ws = this.createSocket(t, e, A);
    } catch (r) {
      return this.emitReserved("error", r);
    }
    this.ws.binaryType = this.socket.binaryType, this.addEventListeners();
  }
  addEventListeners() {
    this.ws.onopen = () => {
      this.opts.autoUnref && this.ws._socket.unref(), this.onOpen();
    }, this.ws.onclose = (t) => this.onClose({ description: "websocket connection closed", context: t }), this.ws.onmessage = (t) => this.onData(t.data), this.ws.onerror = (t) => this.onError("websocket error", t);
  }
  write(t) {
    this.writable = !1;
    for (let e = 0; e < t.length; e++) {
      const A = t[e], r = e === t.length - 1;
      vp(A, this.supportsBinary, (n) => {
        try {
          this.doWrite(A, n);
        } catch {
        }
        r && cl(() => {
          this.writable = !0, this.emitReserved("drain");
        }, this.setTimeoutFn);
      });
    }
  }
  doClose() {
    this.ws !== void 0 && (this.ws.onerror = () => {
    }, this.ws.close(), this.ws = null);
  }
  uri() {
    const t = this.opts.secure ? "wss" : "ws", e = this.query || {};
    return this.opts.timestampRequests && (e[this.opts.timestampParam] = sC()), this.supportsBinary || (e.b64 = 1), this.createUri(t, e);
  }
}
const ph = AA.WebSocket || AA.MozWebSocket, o4 = { websocket: class extends i4 {
  createSocket(s, t, e) {
    return iC ? new ph(s, t, e) : t ? new ph(s, t) : new ph(s);
  }
  doWrite(s, t) {
    this.ws.send(t);
  }
}, webtransport: class extends xp {
  get name() {
    return "webtransport";
  }
  doOpen() {
    try {
      this._transport = new WebTransport(this.createUri("https"), this.opts.transportOptions[this.name]);
    } catch (s) {
      return this.emitReserved("error", s);
    }
    this._transport.closed.then(() => {
      this.onClose();
    }).catch((s) => {
      this.onError("webtransport error", s);
    }), this._transport.ready.then(() => {
      this._transport.createBidirectionalStream().then((s) => {
        const t = function(i, o) {
          uh || (uh = new TextDecoder());
          const a = [];
          let c = 0, l = -1, h = !1;
          return new TransformStream({ transform(d, u) {
            for (a.push(d); ; ) {
              if (c === 0) {
                if (Xo(a) < 1) break;
                const p = zo(a, 1);
                h = !(128 & ~p[0]), l = 127 & p[0], c = l < 126 ? 3 : l === 126 ? 1 : 2;
              } else if (c === 1) {
                if (Xo(a) < 2) break;
                const p = zo(a, 2);
                l = new DataView(p.buffer, p.byteOffset, p.length).getUint16(0), c = 3;
              } else if (c === 2) {
                if (Xo(a) < 8) break;
                const p = zo(a, 8), g = new DataView(p.buffer, p.byteOffset, p.length), m = g.getUint32(0);
                if (m > Math.pow(2, 21) - 1) {
                  u.enqueue(zd);
                  break;
                }
                l = m * Math.pow(2, 32) + g.getUint32(4), c = 3;
              } else {
                if (Xo(a) < l) break;
                const p = zo(a, l);
                u.enqueue(kp(h ? p : uh.decode(p), o)), c = 0;
              }
              if (l === 0 || l > i) {
                u.enqueue(zd);
                break;
              }
            }
          } });
        }(Number.MAX_SAFE_INTEGER, this.socket.binaryType), e = s.readable.pipeThrough(t).getReader(), A = Z3();
        A.readable.pipeTo(s.writable), this._writer = A.writable.getWriter();
        const r = () => {
          e.read().then(({ done: i, value: o }) => {
            i || (this.onPacket(o), r());
          }).catch((i) => {
          });
        };
        r();
        const n = { type: "open" };
        this.query.sid && (n.data = `{"sid":"${this.query.sid}"}`), this._writer.write(n).then(() => this.onOpen());
      });
    });
  }
  write(s) {
    this.writable = !1;
    for (let t = 0; t < s.length; t++) {
      const e = s[t], A = t === s.length - 1;
      this._writer.write(e).then(() => {
        A && cl(() => {
          this.writable = !0, this.emitReserved("drain");
        }, this.setTimeoutFn);
      });
    }
  }
  doClose() {
    var s;
    (s = this._transport) === null || s === void 0 || s.close();
  }
}, polling: class extends r4 {
  constructor(s) {
    super(s);
    const t = s && s.forceBase64;
    this.supportsBinary = n4 && !t;
  }
  request(s = {}) {
    return Object.assign(s, { xd: this.xd }, this.opts), new Zr(nC, this.uri(), s);
  }
} }, a4 = /^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, c4 = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"];
function Zd(s) {
  if (s.length > 8e3) throw "URI too long";
  const t = s, e = s.indexOf("["), A = s.indexOf("]");
  e != -1 && A != -1 && (s = s.substring(0, e) + s.substring(e, A).replace(/:/g, ";") + s.substring(A, s.length));
  let r = a4.exec(s || ""), n = {}, i = 14;
  for (; i--; ) n[c4[i]] = r[i] || "";
  return e != -1 && A != -1 && (n.source = t, n.host = n.host.substring(1, n.host.length - 1).replace(/;/g, ":"), n.authority = n.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), n.ipv6uri = !0), n.pathNames = function(o, a) {
    const c = /\/{2,9}/g, l = a.replace(c, "/").split("/");
    return a.slice(0, 1) != "/" && a.length !== 0 || l.splice(0, 1), a.slice(-1) == "/" && l.splice(l.length - 1, 1), l;
  }(0, n.path), n.queryKey = function(o, a) {
    const c = {};
    return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function(l, h, d) {
      h && (c[h] = d);
    }), c;
  }(0, n.query), n;
}
const qd = typeof addEventListener == "function" && typeof removeEventListener == "function", Ta = [];
qd && addEventListener("offline", () => {
  Ta.forEach((s) => s());
}, !1);
class Fs extends te {
  constructor(t, e) {
    if (super(), this.binaryType = "arraybuffer", this.writeBuffer = [], this._prevBufferLen = 0, this._pingInterval = -1, this._pingTimeout = -1, this._maxPayload = -1, this._pingTimeoutTime = 1 / 0, t && typeof t == "object" && (e = t, t = null), t) {
      const A = Zd(t);
      e.hostname = A.host, e.secure = A.protocol === "https" || A.protocol === "wss", e.port = A.port, A.query && (e.query = A.query);
    } else e.host && (e.hostname = Zd(e.host).host);
    ll(this, e), this.secure = e.secure != null ? e.secure : typeof location < "u" && location.protocol === "https:", e.hostname && !e.port && (e.port = this.secure ? "443" : "80"), this.hostname = e.hostname || (typeof location < "u" ? location.hostname : "localhost"), this.port = e.port || (typeof location < "u" && location.port ? location.port : this.secure ? "443" : "80"), this.transports = [], this._transportsByName = {}, e.transports.forEach((A) => {
      const r = A.prototype.name;
      this.transports.push(r), this._transportsByName[r] = A;
    }), this.opts = Object.assign({ path: "/engine.io", agent: !1, withCredentials: !1, upgrade: !0, timestampParam: "t", rememberUpgrade: !1, addTrailingSlash: !0, rejectUnauthorized: !0, perMessageDeflate: { threshold: 1024 }, transportOptions: {}, closeOnBeforeunload: !1 }, e), this.opts.path = this.opts.path.replace(/\/$/, "") + (this.opts.addTrailingSlash ? "/" : ""), typeof this.opts.query == "string" && (this.opts.query = function(A) {
      let r = {}, n = A.split("&");
      for (let i = 0, o = n.length; i < o; i++) {
        let a = n[i].split("=");
        r[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);
      }
      return r;
    }(this.opts.query)), qd && (this.opts.closeOnBeforeunload && (this._beforeunloadEventListener = () => {
      this.transport && (this.transport.removeAllListeners(), this.transport.close());
    }, addEventListener("beforeunload", this._beforeunloadEventListener, !1)), this.hostname !== "localhost" && (this._offlineEventListener = () => {
      this._onClose("transport close", { description: "network connection lost" });
    }, Ta.push(this._offlineEventListener))), this.opts.withCredentials && (this._cookieJar = void 0), this._open();
  }
  createTransport(t) {
    const e = Object.assign({}, this.opts.query);
    e.EIO = 4, e.transport = t, this.id && (e.sid = this.id);
    const A = Object.assign({}, this.opts, { query: e, socket: this, hostname: this.hostname, secure: this.secure, port: this.port }, this.opts.transportOptions[t]);
    return new this._transportsByName[t](A);
  }
  _open() {
    if (this.transports.length === 0) return void this.setTimeoutFn(() => {
      this.emitReserved("error", "No transports available");
    }, 0);
    const t = this.opts.rememberUpgrade && Fs.priorWebsocketSuccess && this.transports.indexOf("websocket") !== -1 ? "websocket" : this.transports[0];
    this.readyState = "opening";
    const e = this.createTransport(t);
    e.open(), this.setTransport(e);
  }
  setTransport(t) {
    this.transport && this.transport.removeAllListeners(), this.transport = t, t.on("drain", this._onDrain.bind(this)).on("packet", this._onPacket.bind(this)).on("error", this._onError.bind(this)).on("close", (e) => this._onClose("transport close", e));
  }
  onOpen() {
    this.readyState = "open", Fs.priorWebsocketSuccess = this.transport.name === "websocket", this.emitReserved("open"), this.flush();
  }
  _onPacket(t) {
    if (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing") switch (this.emitReserved("packet", t), this.emitReserved("heartbeat"), t.type) {
      case "open":
        this.onHandshake(JSON.parse(t.data));
        break;
      case "ping":
        this._sendPacket("pong"), this.emitReserved("ping"), this.emitReserved("pong"), this._resetPingTimeout();
        break;
      case "error":
        const e = new Error("server error");
        e.code = t.data, this._onError(e);
        break;
      case "message":
        this.emitReserved("data", t.data), this.emitReserved("message", t.data);
    }
  }
  onHandshake(t) {
    this.emitReserved("handshake", t), this.id = t.sid, this.transport.query.sid = t.sid, this._pingInterval = t.pingInterval, this._pingTimeout = t.pingTimeout, this._maxPayload = t.maxPayload, this.onOpen(), this.readyState !== "closed" && this._resetPingTimeout();
  }
  _resetPingTimeout() {
    this.clearTimeoutFn(this._pingTimeoutTimer);
    const t = this._pingInterval + this._pingTimeout;
    this._pingTimeoutTime = Date.now() + t, this._pingTimeoutTimer = this.setTimeoutFn(() => {
      this._onClose("ping timeout");
    }, t), this.opts.autoUnref && this._pingTimeoutTimer.unref();
  }
  _onDrain() {
    this.writeBuffer.splice(0, this._prevBufferLen), this._prevBufferLen = 0, this.writeBuffer.length === 0 ? this.emitReserved("drain") : this.flush();
  }
  flush() {
    if (this.readyState !== "closed" && this.transport.writable && !this.upgrading && this.writeBuffer.length) {
      const t = this._getWritablePackets();
      this.transport.send(t), this._prevBufferLen = t.length, this.emitReserved("flush");
    }
  }
  _getWritablePackets() {
    if (!(this._maxPayload && this.transport.name === "polling" && this.writeBuffer.length > 1)) return this.writeBuffer;
    let t = 1;
    for (let A = 0; A < this.writeBuffer.length; A++) {
      const r = this.writeBuffer[A].data;
      if (r && (t += typeof (e = r) == "string" ? function(n) {
        let i = 0, o = 0;
        for (let a = 0, c = n.length; a < c; a++) i = n.charCodeAt(a), i < 128 ? o += 1 : i < 2048 ? o += 2 : i < 55296 || i >= 57344 ? o += 3 : (a++, o += 4);
        return o;
      }(e) : Math.ceil(1.33 * (e.byteLength || e.size))), A > 0 && t > this._maxPayload) return this.writeBuffer.slice(0, A);
      t += 2;
    }
    var e;
    return this.writeBuffer;
  }
  _hasPingExpired() {
    if (!this._pingTimeoutTime) return !0;
    const t = Date.now() > this._pingTimeoutTime;
    return t && (this._pingTimeoutTime = 0, cl(() => {
      this._onClose("ping timeout");
    }, this.setTimeoutFn)), t;
  }
  write(t, e, A) {
    return this._sendPacket("message", t, e, A), this;
  }
  send(t, e, A) {
    return this._sendPacket("message", t, e, A), this;
  }
  _sendPacket(t, e, A, r) {
    if (typeof e == "function" && (r = e, e = void 0), typeof A == "function" && (r = A, A = null), this.readyState === "closing" || this.readyState === "closed") return;
    (A = A || {}).compress = A.compress !== !1;
    const n = { type: t, data: e, options: A };
    this.emitReserved("packetCreate", n), this.writeBuffer.push(n), r && this.once("flush", r), this.flush();
  }
  close() {
    const t = () => {
      this._onClose("forced close"), this.transport.close();
    }, e = () => {
      this.off("upgrade", e), this.off("upgradeError", e), t();
    }, A = () => {
      this.once("upgrade", e), this.once("upgradeError", e);
    };
    return this.readyState !== "opening" && this.readyState !== "open" || (this.readyState = "closing", this.writeBuffer.length ? this.once("drain", () => {
      this.upgrading ? A() : t();
    }) : this.upgrading ? A() : t()), this;
  }
  _onError(t) {
    if (Fs.priorWebsocketSuccess = !1, this.opts.tryAllTransports && this.transports.length > 1 && this.readyState === "opening") return this.transports.shift(), this._open();
    this.emitReserved("error", t), this._onClose("transport error", t);
  }
  _onClose(t, e) {
    if (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing") {
      if (this.clearTimeoutFn(this._pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), qd && (this._beforeunloadEventListener && removeEventListener("beforeunload", this._beforeunloadEventListener, !1), this._offlineEventListener)) {
        const A = Ta.indexOf(this._offlineEventListener);
        A !== -1 && Ta.splice(A, 1);
      }
      this.readyState = "closed", this.id = null, this.emitReserved("close", t, e), this.writeBuffer = [], this._prevBufferLen = 0;
    }
  }
}
Fs.protocol = 4;
class l4 extends Fs {
  constructor() {
    super(...arguments), this._upgrades = [];
  }
  onOpen() {
    if (super.onOpen(), this.readyState === "open" && this.opts.upgrade) for (let t = 0; t < this._upgrades.length; t++) this._probe(this._upgrades[t]);
  }
  _probe(t) {
    let e = this.createTransport(t), A = !1;
    Fs.priorWebsocketSuccess = !1;
    const r = () => {
      A || (e.send([{ type: "ping", data: "probe" }]), e.once("packet", (h) => {
        if (!A) if (h.type === "pong" && h.data === "probe") {
          if (this.upgrading = !0, this.emitReserved("upgrading", e), !e) return;
          Fs.priorWebsocketSuccess = e.name === "websocket", this.transport.pause(() => {
            A || this.readyState !== "closed" && (l(), this.setTransport(e), e.send([{ type: "upgrade" }]), this.emitReserved("upgrade", e), e = null, this.upgrading = !1, this.flush());
          });
        } else {
          const d = new Error("probe error");
          d.transport = e.name, this.emitReserved("upgradeError", d);
        }
      }));
    };
    function n() {
      A || (A = !0, l(), e.close(), e = null);
    }
    const i = (h) => {
      const d = new Error("probe error: " + h);
      d.transport = e.name, n(), this.emitReserved("upgradeError", d);
    };
    function o() {
      i("transport closed");
    }
    function a() {
      i("socket closed");
    }
    function c(h) {
      e && h.name !== e.name && n();
    }
    const l = () => {
      e.removeListener("open", r), e.removeListener("error", i), e.removeListener("close", o), this.off("close", a), this.off("upgrading", c);
    };
    e.once("open", r), e.once("error", i), e.once("close", o), this.once("close", a), this.once("upgrading", c), this._upgrades.indexOf("webtransport") !== -1 && t !== "webtransport" ? this.setTimeoutFn(() => {
      A || e.open();
    }, 200) : e.open();
  }
  onHandshake(t) {
    this._upgrades = this._filterUpgrades(t.upgrades), super.onHandshake(t);
  }
  _filterUpgrades(t) {
    const e = [];
    for (let A = 0; A < t.length; A++) ~this.transports.indexOf(t[A]) && e.push(t[A]);
    return e;
  }
}
let h4 = class extends l4 {
  constructor(s, t = {}) {
    const e = typeof s == "object" ? s : t;
    (!e.transports || e.transports && typeof e.transports[0] == "string") && (e.transports = (e.transports || ["polling", "websocket", "webtransport"]).map((A) => o4[A]).filter((A) => !!A)), super(s, e);
  }
};
const d4 = typeof ArrayBuffer == "function", oC = Object.prototype.toString, u4 = typeof Blob == "function" || typeof Blob < "u" && oC.call(Blob) === "[object BlobConstructor]", p4 = typeof File == "function" || typeof File < "u" && oC.call(File) === "[object FileConstructor]";
function Sp(s) {
  return d4 && (s instanceof ArrayBuffer || ((t) => typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer)(s)) || u4 && s instanceof Blob || p4 && s instanceof File;
}
function _a(s, t) {
  if (!s || typeof s != "object") return !1;
  if (Array.isArray(s)) {
    for (let e = 0, A = s.length; e < A; e++) if (_a(s[e])) return !0;
    return !1;
  }
  if (Sp(s)) return !0;
  if (s.toJSON && typeof s.toJSON == "function" && arguments.length === 1) return _a(s.toJSON(), !0);
  for (const e in s) if (Object.prototype.hasOwnProperty.call(s, e) && _a(s[e])) return !0;
  return !1;
}
function g4(s) {
  const t = [], e = s.data, A = s;
  return A.data = $d(e, t), A.attachments = t.length, { packet: A, buffers: t };
}
function $d(s, t) {
  if (!s) return s;
  if (Sp(s)) {
    const e = { _placeholder: !0, num: t.length };
    return t.push(s), e;
  }
  if (Array.isArray(s)) {
    const e = new Array(s.length);
    for (let A = 0; A < s.length; A++) e[A] = $d(s[A], t);
    return e;
  }
  if (typeof s == "object" && !(s instanceof Date)) {
    const e = {};
    for (const A in s) Object.prototype.hasOwnProperty.call(s, A) && (e[A] = $d(s[A], t));
    return e;
  }
  return s;
}
function f4(s, t) {
  return s.data = tu(s.data, t), delete s.attachments, s;
}
function tu(s, t) {
  if (!s) return s;
  if (s && s._placeholder === !0) {
    if (typeof s.num == "number" && s.num >= 0 && s.num < t.length) return t[s.num];
    throw new Error("illegal attachments");
  }
  if (Array.isArray(s)) for (let e = 0; e < s.length; e++) s[e] = tu(s[e], t);
  else if (typeof s == "object") for (const e in s) Object.prototype.hasOwnProperty.call(s, e) && (s[e] = tu(s[e], t));
  return s;
}
const m4 = ["connect", "connect_error", "disconnect", "disconnecting", "newListener", "removeListener"];
var yt;
(function(s) {
  s[s.CONNECT = 0] = "CONNECT", s[s.DISCONNECT = 1] = "DISCONNECT", s[s.EVENT = 2] = "EVENT", s[s.ACK = 3] = "ACK", s[s.CONNECT_ERROR = 4] = "CONNECT_ERROR", s[s.BINARY_EVENT = 5] = "BINARY_EVENT", s[s.BINARY_ACK = 6] = "BINARY_ACK";
})(yt || (yt = {}));
function lm(s) {
  return Object.prototype.toString.call(s) === "[object Object]";
}
class Ep extends te {
  constructor(t) {
    super(), this.reviver = t;
  }
  add(t) {
    let e;
    if (typeof t == "string") {
      if (this.reconstructor) throw new Error("got plaintext data when reconstructing a packet");
      e = this.decodeString(t);
      const A = e.type === yt.BINARY_EVENT;
      A || e.type === yt.BINARY_ACK ? (e.type = A ? yt.EVENT : yt.ACK, this.reconstructor = new w4(e), e.attachments === 0 && super.emitReserved("decoded", e)) : super.emitReserved("decoded", e);
    } else {
      if (!Sp(t) && !t.base64) throw new Error("Unknown type: " + t);
      if (!this.reconstructor) throw new Error("got binary data when not reconstructing a packet");
      e = this.reconstructor.takeBinaryData(t), e && (this.reconstructor = null, super.emitReserved("decoded", e));
    }
  }
  decodeString(t) {
    let e = 0;
    const A = { type: Number(t.charAt(0)) };
    if (yt[A.type] === void 0) throw new Error("unknown packet type " + A.type);
    if (A.type === yt.BINARY_EVENT || A.type === yt.BINARY_ACK) {
      const n = e + 1;
      for (; t.charAt(++e) !== "-" && e != t.length; ) ;
      const i = t.substring(n, e);
      if (i != Number(i) || t.charAt(e) !== "-") throw new Error("Illegal attachments");
      A.attachments = Number(i);
    }
    if (t.charAt(e + 1) === "/") {
      const n = e + 1;
      for (; ++e && !(t.charAt(e) === "," || e === t.length); )
        ;
      A.nsp = t.substring(n, e);
    } else A.nsp = "/";
    const r = t.charAt(e + 1);
    if (r !== "" && Number(r) == r) {
      const n = e + 1;
      for (; ++e; ) {
        const i = t.charAt(e);
        if (i == null || Number(i) != i) {
          --e;
          break;
        }
        if (e === t.length) break;
      }
      A.id = Number(t.substring(n, e + 1));
    }
    if (t.charAt(++e)) {
      const n = this.tryParse(t.substr(e));
      if (!Ep.isPayloadValid(A.type, n)) throw new Error("invalid payload");
      A.data = n;
    }
    return A;
  }
  tryParse(t) {
    try {
      return JSON.parse(t, this.reviver);
    } catch {
      return !1;
    }
  }
  static isPayloadValid(t, e) {
    switch (t) {
      case yt.CONNECT:
        return lm(e);
      case yt.DISCONNECT:
        return e === void 0;
      case yt.CONNECT_ERROR:
        return typeof e == "string" || lm(e);
      case yt.EVENT:
      case yt.BINARY_EVENT:
        return Array.isArray(e) && (typeof e[0] == "number" || typeof e[0] == "string" && m4.indexOf(e[0]) === -1);
      case yt.ACK:
      case yt.BINARY_ACK:
        return Array.isArray(e);
    }
  }
  destroy() {
    this.reconstructor && (this.reconstructor.finishedReconstruction(), this.reconstructor = null);
  }
}
class w4 {
  constructor(t) {
    this.packet = t, this.buffers = [], this.reconPack = t;
  }
  takeBinaryData(t) {
    if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {
      const e = f4(this.reconPack, this.buffers);
      return this.finishedReconstruction(), e;
    }
    return null;
  }
  finishedReconstruction() {
    this.reconPack = null, this.buffers = [];
  }
}
const B4 = Object.freeze(Object.defineProperty({ __proto__: null, Decoder: Ep, Encoder: class {
  constructor(s) {
    this.replacer = s;
  }
  encode(s) {
    return s.type !== yt.EVENT && s.type !== yt.ACK || !_a(s) ? [this.encodeAsString(s)] : this.encodeAsBinary({ type: s.type === yt.EVENT ? yt.BINARY_EVENT : yt.BINARY_ACK, nsp: s.nsp, data: s.data, id: s.id });
  }
  encodeAsString(s) {
    let t = "" + s.type;
    return s.type !== yt.BINARY_EVENT && s.type !== yt.BINARY_ACK || (t += s.attachments + "-"), s.nsp && s.nsp !== "/" && (t += s.nsp + ","), s.id != null && (t += s.id), s.data != null && (t += JSON.stringify(s.data, this.replacer)), t;
  }
  encodeAsBinary(s) {
    const t = g4(s), e = this.encodeAsString(t.packet), A = t.buffers;
    return A.unshift(e), A;
  }
}, get PacketType() {
  return yt;
}, protocol: 5 }, Symbol.toStringTag, { value: "Module" }));
function hA(s, t, e) {
  return s.on(t, e), function() {
    s.off(t, e);
  };
}
const y4 = Object.freeze({ connect: 1, connect_error: 1, disconnect: 1, disconnecting: 1, newListener: 1, removeListener: 1 });
class aC extends te {
  constructor(t, e, A) {
    super(), this.connected = !1, this.recovered = !1, this.receiveBuffer = [], this.sendBuffer = [], this._queue = [], this._queueSeq = 0, this.ids = 0, this.acks = {}, this.flags = {}, this.io = t, this.nsp = e, A && A.auth && (this.auth = A.auth), this._opts = Object.assign({}, A), this.io._autoConnect && this.open();
  }
  get disconnected() {
    return !this.connected;
  }
  subEvents() {
    if (this.subs) return;
    const t = this.io;
    this.subs = [hA(t, "open", this.onopen.bind(this)), hA(t, "packet", this.onpacket.bind(this)), hA(t, "error", this.onerror.bind(this)), hA(t, "close", this.onclose.bind(this))];
  }
  get active() {
    return !!this.subs;
  }
  connect() {
    return this.connected || (this.subEvents(), this.io._reconnecting || this.io.open(), this.io._readyState === "open" && this.onopen()), this;
  }
  open() {
    return this.connect();
  }
  send(...t) {
    return t.unshift("message"), this.emit.apply(this, t), this;
  }
  emit(t, ...e) {
    var A, r, n;
    if (y4.hasOwnProperty(t)) throw new Error('"' + t.toString() + '" is a reserved event name');
    if (e.unshift(t), this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) return this._addToQueue(e), this;
    const i = { type: yt.EVENT, data: e, options: {} };
    if (i.options.compress = this.flags.compress !== !1, typeof e[e.length - 1] == "function") {
      const c = this.ids++, l = e.pop();
      this._registerAckCallback(c, l), i.id = c;
    }
    const o = (r = (A = this.io.engine) === null || A === void 0 ? void 0 : A.transport) === null || r === void 0 ? void 0 : r.writable, a = this.connected && !(!((n = this.io.engine) === null || n === void 0) && n._hasPingExpired());
    return this.flags.volatile && !o || (a ? (this.notifyOutgoingListeners(i), this.packet(i)) : this.sendBuffer.push(i)), this.flags = {}, this;
  }
  _registerAckCallback(t, e) {
    var A;
    const r = (A = this.flags.timeout) !== null && A !== void 0 ? A : this._opts.ackTimeout;
    if (r === void 0) return void (this.acks[t] = e);
    const n = this.io.setTimeoutFn(() => {
      delete this.acks[t];
      for (let o = 0; o < this.sendBuffer.length; o++) this.sendBuffer[o].id === t && this.sendBuffer.splice(o, 1);
      e.call(this, new Error("operation has timed out"));
    }, r), i = (...o) => {
      this.io.clearTimeoutFn(n), e.apply(this, o);
    };
    i.withError = !0, this.acks[t] = i;
  }
  emitWithAck(t, ...e) {
    return new Promise((A, r) => {
      const n = (i, o) => i ? r(i) : A(o);
      n.withError = !0, e.push(n), this.emit(t, ...e);
    });
  }
  _addToQueue(t) {
    let e;
    typeof t[t.length - 1] == "function" && (e = t.pop());
    const A = { id: this._queueSeq++, tryCount: 0, pending: !1, args: t, flags: Object.assign({ fromQueue: !0 }, this.flags) };
    t.push((r, ...n) => {
      if (A === this._queue[0])
        return r !== null ? A.tryCount > this._opts.retries && (this._queue.shift(), e && e(r)) : (this._queue.shift(), e && e(null, ...n)), A.pending = !1, this._drainQueue();
    }), this._queue.push(A), this._drainQueue();
  }
  _drainQueue(t = !1) {
    if (!this.connected || this._queue.length === 0) return;
    const e = this._queue[0];
    e.pending && !t || (e.pending = !0, e.tryCount++, this.flags = e.flags, this.emit.apply(this, e.args));
  }
  packet(t) {
    t.nsp = this.nsp, this.io._packet(t);
  }
  onopen() {
    typeof this.auth == "function" ? this.auth((t) => {
      this._sendConnectPacket(t);
    }) : this._sendConnectPacket(this.auth);
  }
  _sendConnectPacket(t) {
    this.packet({ type: yt.CONNECT, data: this._pid ? Object.assign({ pid: this._pid, offset: this._lastOffset }, t) : t });
  }
  onerror(t) {
    this.connected || this.emitReserved("connect_error", t);
  }
  onclose(t, e) {
    this.connected = !1, delete this.id, this.emitReserved("disconnect", t, e), this._clearAcks();
  }
  _clearAcks() {
    Object.keys(this.acks).forEach((t) => {
      if (!this.sendBuffer.some((e) => String(e.id) === t)) {
        const e = this.acks[t];
        delete this.acks[t], e.withError && e.call(this, new Error("socket has been disconnected"));
      }
    });
  }
  onpacket(t) {
    if (t.nsp === this.nsp) switch (t.type) {
      case yt.CONNECT:
        t.data && t.data.sid ? this.onconnect(t.data.sid, t.data.pid) : this.emitReserved("connect_error", new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));
        break;
      case yt.EVENT:
      case yt.BINARY_EVENT:
        this.onevent(t);
        break;
      case yt.ACK:
      case yt.BINARY_ACK:
        this.onack(t);
        break;
      case yt.DISCONNECT:
        this.ondisconnect();
        break;
      case yt.CONNECT_ERROR:
        this.destroy();
        const e = new Error(t.data.message);
        e.data = t.data.data, this.emitReserved("connect_error", e);
    }
  }
  onevent(t) {
    const e = t.data || [];
    t.id != null && e.push(this.ack(t.id)), this.connected ? this.emitEvent(e) : this.receiveBuffer.push(Object.freeze(e));
  }
  emitEvent(t) {
    if (this._anyListeners && this._anyListeners.length) {
      const e = this._anyListeners.slice();
      for (const A of e) A.apply(this, t);
    }
    super.emit.apply(this, t), this._pid && t.length && typeof t[t.length - 1] == "string" && (this._lastOffset = t[t.length - 1]);
  }
  ack(t) {
    const e = this;
    let A = !1;
    return function(...r) {
      A || (A = !0, e.packet({ type: yt.ACK, id: t, data: r }));
    };
  }
  onack(t) {
    const e = this.acks[t.id];
    typeof e == "function" && (delete this.acks[t.id], e.withError && t.data.unshift(null), e.apply(this, t.data));
  }
  onconnect(t, e) {
    this.id = t, this.recovered = e && this._pid === e, this._pid = e, this.connected = !0, this.emitBuffered(), this.emitReserved("connect"), this._drainQueue(!0);
  }
  emitBuffered() {
    this.receiveBuffer.forEach((t) => this.emitEvent(t)), this.receiveBuffer = [], this.sendBuffer.forEach((t) => {
      this.notifyOutgoingListeners(t), this.packet(t);
    }), this.sendBuffer = [];
  }
  ondisconnect() {
    this.destroy(), this.onclose("io server disconnect");
  }
  destroy() {
    this.subs && (this.subs.forEach((t) => t()), this.subs = void 0), this.io._destroy(this);
  }
  disconnect() {
    return this.connected && this.packet({ type: yt.DISCONNECT }), this.destroy(), this.connected && this.onclose("io client disconnect"), this;
  }
  close() {
    return this.disconnect();
  }
  compress(t) {
    return this.flags.compress = t, this;
  }
  get volatile() {
    return this.flags.volatile = !0, this;
  }
  timeout(t) {
    return this.flags.timeout = t, this;
  }
  onAny(t) {
    return this._anyListeners = this._anyListeners || [], this._anyListeners.push(t), this;
  }
  prependAny(t) {
    return this._anyListeners = this._anyListeners || [], this._anyListeners.unshift(t), this;
  }
  offAny(t) {
    if (!this._anyListeners) return this;
    if (t) {
      const e = this._anyListeners;
      for (let A = 0; A < e.length; A++) if (t === e[A]) return e.splice(A, 1), this;
    } else this._anyListeners = [];
    return this;
  }
  listenersAny() {
    return this._anyListeners || [];
  }
  onAnyOutgoing(t) {
    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.push(t), this;
  }
  prependAnyOutgoing(t) {
    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.unshift(t), this;
  }
  offAnyOutgoing(t) {
    if (!this._anyOutgoingListeners) return this;
    if (t) {
      const e = this._anyOutgoingListeners;
      for (let A = 0; A < e.length; A++) if (t === e[A]) return e.splice(A, 1), this;
    } else this._anyOutgoingListeners = [];
    return this;
  }
  listenersAnyOutgoing() {
    return this._anyOutgoingListeners || [];
  }
  notifyOutgoingListeners(t) {
    if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {
      const e = this._anyOutgoingListeners.slice();
      for (const A of e) A.apply(this, t.data);
    }
  }
}
function _r(s) {
  s = s || {}, this.ms = s.min || 100, this.max = s.max || 1e4, this.factor = s.factor || 2, this.jitter = s.jitter > 0 && s.jitter <= 1 ? s.jitter : 0, this.attempts = 0;
}
_r.prototype.duration = function() {
  var s = this.ms * Math.pow(this.factor, this.attempts++);
  if (this.jitter) {
    var t = Math.random(), e = Math.floor(t * this.jitter * s);
    s = 1 & Math.floor(10 * t) ? s + e : s - e;
  }
  return 0 | Math.min(s, this.max);
}, _r.prototype.reset = function() {
  this.attempts = 0;
}, _r.prototype.setMin = function(s) {
  this.ms = s;
}, _r.prototype.setMax = function(s) {
  this.max = s;
}, _r.prototype.setJitter = function(s) {
  this.jitter = s;
};
class eu extends te {
  constructor(t, e) {
    var A;
    super(), this.nsps = {}, this.subs = [], t && typeof t == "object" && (e = t, t = void 0), (e = e || {}).path = e.path || "/socket.io", this.opts = e, ll(this, e), this.reconnection(e.reconnection !== !1), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor((A = e.randomizationFactor) !== null && A !== void 0 ? A : 0.5), this.backoff = new _r({ min: this.reconnectionDelay(), max: this.reconnectionDelayMax(), jitter: this.randomizationFactor() }), this.timeout(e.timeout == null ? 2e4 : e.timeout), this._readyState = "closed", this.uri = t;
    const r = e.parser || B4;
    this.encoder = new r.Encoder(), this.decoder = new r.Decoder(), this._autoConnect = e.autoConnect !== !1, this._autoConnect && this.open();
  }
  reconnection(t) {
    return arguments.length ? (this._reconnection = !!t, t || (this.skipReconnect = !0), this) : this._reconnection;
  }
  reconnectionAttempts(t) {
    return t === void 0 ? this._reconnectionAttempts : (this._reconnectionAttempts = t, this);
  }
  reconnectionDelay(t) {
    var e;
    return t === void 0 ? this._reconnectionDelay : (this._reconnectionDelay = t, (e = this.backoff) === null || e === void 0 || e.setMin(t), this);
  }
  randomizationFactor(t) {
    var e;
    return t === void 0 ? this._randomizationFactor : (this._randomizationFactor = t, (e = this.backoff) === null || e === void 0 || e.setJitter(t), this);
  }
  reconnectionDelayMax(t) {
    var e;
    return t === void 0 ? this._reconnectionDelayMax : (this._reconnectionDelayMax = t, (e = this.backoff) === null || e === void 0 || e.setMax(t), this);
  }
  timeout(t) {
    return arguments.length ? (this._timeout = t, this) : this._timeout;
  }
  maybeReconnectOnOpen() {
    !this._reconnecting && this._reconnection && this.backoff.attempts === 0 && this.reconnect();
  }
  open(t) {
    if (~this._readyState.indexOf("open")) return this;
    this.engine = new h4(this.uri, this.opts);
    const e = this.engine, A = this;
    this._readyState = "opening", this.skipReconnect = !1;
    const r = hA(e, "open", function() {
      A.onopen(), t && t();
    }), n = (o) => {
      this.cleanup(), this._readyState = "closed", this.emitReserved("error", o), t ? t(o) : this.maybeReconnectOnOpen();
    }, i = hA(e, "error", n);
    if (this._timeout !== !1) {
      const o = this._timeout, a = this.setTimeoutFn(() => {
        r(), n(new Error("timeout")), e.close();
      }, o);
      this.opts.autoUnref && a.unref(), this.subs.push(() => {
        this.clearTimeoutFn(a);
      });
    }
    return this.subs.push(r), this.subs.push(i), this;
  }
  connect(t) {
    return this.open(t);
  }
  onopen() {
    this.cleanup(), this._readyState = "open", this.emitReserved("open");
    const t = this.engine;
    this.subs.push(hA(t, "ping", this.onping.bind(this)), hA(t, "data", this.ondata.bind(this)), hA(t, "error", this.onerror.bind(this)), hA(t, "close", this.onclose.bind(this)), hA(this.decoder, "decoded", this.ondecoded.bind(this)));
  }
  onping() {
    this.emitReserved("ping");
  }
  ondata(t) {
    try {
      this.decoder.add(t);
    } catch (e) {
      this.onclose("parse error", e);
    }
  }
  ondecoded(t) {
    cl(() => {
      this.emitReserved("packet", t);
    }, this.setTimeoutFn);
  }
  onerror(t) {
    this.emitReserved("error", t);
  }
  socket(t, e) {
    let A = this.nsps[t];
    return A ? this._autoConnect && !A.active && A.connect() : (A = new aC(this, t, e), this.nsps[t] = A), A;
  }
  _destroy(t) {
    const e = Object.keys(this.nsps);
    for (const A of e)
      if (this.nsps[A].active) return;
    this._close();
  }
  _packet(t) {
    const e = this.encoder.encode(t);
    for (let A = 0; A < e.length; A++) this.engine.write(e[A], t.options);
  }
  cleanup() {
    this.subs.forEach((t) => t()), this.subs.length = 0, this.decoder.destroy();
  }
  _close() {
    this.skipReconnect = !0, this._reconnecting = !1, this.onclose("forced close");
  }
  disconnect() {
    return this._close();
  }
  onclose(t, e) {
    var A;
    this.cleanup(), (A = this.engine) === null || A === void 0 || A.close(), this.backoff.reset(), this._readyState = "closed", this.emitReserved("close", t, e), this._reconnection && !this.skipReconnect && this.reconnect();
  }
  reconnect() {
    if (this._reconnecting || this.skipReconnect) return this;
    const t = this;
    if (this.backoff.attempts >= this._reconnectionAttempts) this.backoff.reset(), this.emitReserved("reconnect_failed"), this._reconnecting = !1;
    else {
      const e = this.backoff.duration();
      this._reconnecting = !0;
      const A = this.setTimeoutFn(() => {
        t.skipReconnect || (this.emitReserved("reconnect_attempt", t.backoff.attempts), t.skipReconnect || t.open((r) => {
          r ? (t._reconnecting = !1, t.reconnect(), this.emitReserved("reconnect_error", r)) : t.onreconnect();
        }));
      }, e);
      this.opts.autoUnref && A.unref(), this.subs.push(() => {
        this.clearTimeoutFn(A);
      });
    }
  }
  onreconnect() {
    const t = this.backoff.attempts;
    this._reconnecting = !1, this.backoff.reset(), this.emitReserved("reconnect", t);
  }
}
const Cn = {};
function Oa(s, t) {
  typeof s == "object" && (t = s, s = void 0);
  const e = function(a, c = "", l) {
    let h = a;
    l = l || typeof location < "u" && location, a == null && (a = l.protocol + "//" + l.host), typeof a == "string" && (a.charAt(0) === "/" && (a = a.charAt(1) === "/" ? l.protocol + a : l.host + a), /^(https?|wss?):\/\//.test(a) || (a = l !== void 0 ? l.protocol + "//" + a : "https://" + a), h = Zd(a)), h.port || (/^(http|ws)$/.test(h.protocol) ? h.port = "80" : /^(http|ws)s$/.test(h.protocol) && (h.port = "443")), h.path = h.path || "/";
    const d = h.host.indexOf(":") !== -1 ? "[" + h.host + "]" : h.host;
    return h.id = h.protocol + "://" + d + ":" + h.port + c, h.href = h.protocol + "://" + d + (l && l.port === h.port ? "" : ":" + h.port), h;
  }(s, (t = t || {}).path || "/socket.io"), A = e.source, r = e.id, n = e.path, i = Cn[r] && n in Cn[r].nsps;
  let o;
  return t.forceNew || t["force new connection"] || t.multiplex === !1 || i ? o = new eu(A, t) : (Cn[r] || (Cn[r] = new eu(A, t)), o = Cn[r]), e.query && !t.query && (t.query = e.queryKey), o.socket(e.path, t);
}
Object.assign(Oa, { Manager: eu, Socket: aC, io: Oa, connect: Oa });
class C4 {
  constructor(t) {
    b(this, "socket", null);
    b(this, "serverUrl");
    b(this, "reconnectListener", b4());
    b(this, "connect", (t) => {
      var e;
      try {
        if ((e = this.socket) != null && e.connected) return;
        const A = { query: { app_user_id: t }, extraHeaders: { "X-API-KEY": ee.apiKey }, transports: ["websocket"] };
        this.socket = Oa(`${this.serverUrl}mobile`, A), this.socket.on("ticket_chat_added", () => {
          hr();
        }), this.reconnectListener.reset(), this.socket.on("connect", this.reconnectListener.call), this.socket.connect();
      } catch {
      }
    });
    b(this, "disconnect", () => {
      try {
        if (!this.socket) return null;
        this.socket.close(), this.socket = null;
      } catch {
      }
    });
    this.serverUrl = t;
  }
}
const b4 = () => {
  let s = 0;
  return { call: () => {
    s++, s > 1 && hr();
  }, reset: () => {
    s = 0;
  } };
};
function cC(s, t) {
  return function() {
    return s.apply(t, arguments);
  };
}
const { toString: v4 } = Object.prototype, { getPrototypeOf: Fp } = Object, vc = /* @__PURE__ */ ((s) => (t) => {
  const e = v4.call(t);
  return s[e] || (s[e] = e.slice(8, -1).toLowerCase());
})(/* @__PURE__ */ Object.create(null)), vA = (s) => (s = s.toLowerCase(), (t) => vc(t) === s), hl = (s) => (t) => typeof t === s, { isArray: Or } = Array, qn = hl("undefined"), hm = vA("ArrayBuffer"), k4 = hl("string"), Je = hl("function"), dm = hl("number"), Zo = (s) => s !== null && typeof s == "object", qo = (s) => {
  if (vc(s) !== "object") return !1;
  const t = Fp(s);
  return !(t !== null && t !== Object.prototype && Object.getPrototypeOf(t) !== null || Symbol.toStringTag in s || Symbol.iterator in s);
}, x4 = vA("Date"), S4 = vA("File"), E4 = vA("Blob"), F4 = vA("FileList"), Q4 = vA("URLSearchParams"), [U4, I4, T4, _4] = ["ReadableStream", "Request", "Response", "Headers"].map(vA);
function $n(s, t, { allOwnKeys: e = !1 } = {}) {
  if (s == null) return;
  let A, r;
  if (typeof s != "object" && (s = [s]), Or(s)) for (A = 0, r = s.length; A < r; A++) t.call(null, s[A], A, s);
  else {
    const n = e ? Object.getOwnPropertyNames(s) : Object.keys(s), i = n.length;
    let o;
    for (A = 0; A < i; A++) o = n[A], t.call(null, s[o], o, s);
  }
}
function um(s, t) {
  t = t.toLowerCase();
  const e = Object.keys(s);
  let A, r = e.length;
  for (; r-- > 0; ) if (A = e[r], t === A.toLowerCase()) return A;
  return null;
}
const tr = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global, pm = (s) => !qn(s) && s !== tr, O4 = (gh = typeof Uint8Array < "u" && Fp(Uint8Array), (s) => gh && s instanceof gh);
var gh;
const L4 = vA("HTMLFormElement"), gm = (({ hasOwnProperty: s }) => (t, e) => s.call(t, e))(Object.prototype), M4 = vA("RegExp"), fm = (s, t) => {
  const e = Object.getOwnPropertyDescriptors(s), A = {};
  $n(e, (r, n) => {
    let i;
    (i = t(r, n, s)) !== !1 && (A[n] = i || r);
  }), Object.defineProperties(s, A);
}, fh = "abcdefghijklmnopqrstuvwxyz", mm = "0123456789", wm = { DIGIT: mm, ALPHA: fh, ALPHA_DIGIT: fh + fh.toUpperCase() + mm }, D4 = vA("AsyncFunction"), lC = (Bm = typeof setImmediate == "function", ym = Je(tr.postMessage), Bm ? setImmediate : ym ? (mh = `axios@${Math.random()}`, $o = [], tr.addEventListener("message", ({ source: s, data: t }) => {
  s === tr && t === mh && $o.length && $o.shift()();
}, !1), (s) => {
  $o.push(s), tr.postMessage(mh, "*");
}) : (s) => setTimeout(s));
var Bm, ym, mh, $o;
const R4 = typeof queueMicrotask < "u" ? queueMicrotask.bind(tr) : typeof process < "u" && process.nextTick || lC, O = { isArray: Or, isArrayBuffer: hm, isBuffer: function(s) {
  return s !== null && !qn(s) && s.constructor !== null && !qn(s.constructor) && Je(s.constructor.isBuffer) && s.constructor.isBuffer(s);
}, isFormData: (s) => {
  let t;
  return s && (typeof FormData == "function" && s instanceof FormData || Je(s.append) && ((t = vc(s)) === "formdata" || t === "object" && Je(s.toString) && s.toString() === "[object FormData]"));
}, isArrayBufferView: function(s) {
  let t;
  return t = typeof ArrayBuffer < "u" && ArrayBuffer.isView ? ArrayBuffer.isView(s) : s && s.buffer && hm(s.buffer), t;
}, isString: k4, isNumber: dm, isBoolean: (s) => s === !0 || s === !1, isObject: Zo, isPlainObject: qo, isReadableStream: U4, isRequest: I4, isResponse: T4, isHeaders: _4, isUndefined: qn, isDate: x4, isFile: S4, isBlob: E4, isRegExp: M4, isFunction: Je, isStream: (s) => Zo(s) && Je(s.pipe), isURLSearchParams: Q4, isTypedArray: O4, isFileList: F4, forEach: $n, merge: function s() {
  const { caseless: t } = pm(this) && this || {}, e = {}, A = (r, n) => {
    const i = t && um(e, n) || n;
    qo(e[i]) && qo(r) ? e[i] = s(e[i], r) : qo(r) ? e[i] = s({}, r) : Or(r) ? e[i] = r.slice() : e[i] = r;
  };
  for (let r = 0, n = arguments.length; r < n; r++) arguments[r] && $n(arguments[r], A);
  return e;
}, extend: (s, t, e, { allOwnKeys: A } = {}) => ($n(t, (r, n) => {
  e && Je(r) ? s[n] = cC(r, e) : s[n] = r;
}, { allOwnKeys: A }), s), trim: (s) => s.trim ? s.trim() : s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""), stripBOM: (s) => (s.charCodeAt(0) === 65279 && (s = s.slice(1)), s), inherits: (s, t, e, A) => {
  s.prototype = Object.create(t.prototype, A), s.prototype.constructor = s, Object.defineProperty(s, "super", { value: t.prototype }), e && Object.assign(s.prototype, e);
}, toFlatObject: (s, t, e, A) => {
  let r, n, i;
  const o = {};
  if (t = t || {}, s == null) return t;
  do {
    for (r = Object.getOwnPropertyNames(s), n = r.length; n-- > 0; ) i = r[n], A && !A(i, s, t) || o[i] || (t[i] = s[i], o[i] = !0);
    s = e !== !1 && Fp(s);
  } while (s && (!e || e(s, t)) && s !== Object.prototype);
  return t;
}, kindOf: vc, kindOfTest: vA, endsWith: (s, t, e) => {
  s = String(s), (e === void 0 || e > s.length) && (e = s.length), e -= t.length;
  const A = s.indexOf(t, e);
  return A !== -1 && A === e;
}, toArray: (s) => {
  if (!s) return null;
  if (Or(s)) return s;
  let t = s.length;
  if (!dm(t)) return null;
  const e = new Array(t);
  for (; t-- > 0; ) e[t] = s[t];
  return e;
}, forEachEntry: (s, t) => {
  const e = (s && s[Symbol.iterator]).call(s);
  let A;
  for (; (A = e.next()) && !A.done; ) {
    const r = A.value;
    t.call(s, r[0], r[1]);
  }
}, matchAll: (s, t) => {
  let e;
  const A = [];
  for (; (e = s.exec(t)) !== null; ) A.push(e);
  return A;
}, isHTMLForm: L4, hasOwnProperty: gm, hasOwnProp: gm, reduceDescriptors: fm, freezeMethods: (s) => {
  fm(s, (t, e) => {
    if (Je(s) && ["arguments", "caller", "callee"].indexOf(e) !== -1) return !1;
    const A = s[e];
    Je(A) && (t.enumerable = !1, "writable" in t ? t.writable = !1 : t.set || (t.set = () => {
      throw Error("Can not rewrite read-only method '" + e + "'");
    }));
  });
}, toObjectSet: (s, t) => {
  const e = {}, A = (r) => {
    r.forEach((n) => {
      e[n] = !0;
    });
  };
  return Or(s) ? A(s) : A(String(s).split(t)), e;
}, toCamelCase: (s) => s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function(t, e, A) {
  return e.toUpperCase() + A;
}), noop: () => {
}, toFiniteNumber: (s, t) => s != null && Number.isFinite(s = +s) ? s : t, findKey: um, global: tr, isContextDefined: pm, ALPHABET: wm, generateString: (s = 16, t = wm.ALPHA_DIGIT) => {
  let e = "";
  const { length: A } = t;
  for (; s--; ) e += t[Math.random() * A | 0];
  return e;
}, isSpecCompliantForm: function(s) {
  return !!(s && Je(s.append) && s[Symbol.toStringTag] === "FormData" && s[Symbol.iterator]);
}, toJSONObject: (s) => {
  const t = new Array(10), e = (A, r) => {
    if (Zo(A)) {
      if (t.indexOf(A) >= 0) return;
      if (!("toJSON" in A)) {
        t[r] = A;
        const n = Or(A) ? [] : {};
        return $n(A, (i, o) => {
          const a = e(i, r + 1);
          !qn(a) && (n[o] = a);
        }), t[r] = void 0, n;
      }
    }
    return A;
  };
  return e(s, 0);
}, isAsyncFn: D4, isThenable: (s) => s && (Zo(s) || Je(s)) && Je(s.then) && Je(s.catch), setImmediate: lC, asap: R4 };
function at(s, t, e, A, r) {
  Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = s, this.name = "AxiosError", t && (this.code = t), e && (this.config = e), A && (this.request = A), r && (this.response = r, this.status = r.status ? r.status : null);
}
O.inherits(at, Error, { toJSON: function() {
  return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: O.toJSONObject(this.config), code: this.code, status: this.status };
} });
const Cm = at.prototype, bm = {};
["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach((s) => {
  bm[s] = { value: s };
}), Object.defineProperties(at, bm), Object.defineProperty(Cm, "isAxiosError", { value: !0 }), at.from = (s, t, e, A, r, n) => {
  const i = Object.create(Cm);
  return O.toFlatObject(s, i, function(o) {
    return o !== Error.prototype;
  }, (o) => o !== "isAxiosError"), at.call(i, s.message, t, e, A, r), i.cause = s, i.name = s.name, n && Object.assign(i, n), i;
};
function wh(s) {
  return O.isPlainObject(s) || O.isArray(s);
}
function hC(s) {
  return O.endsWith(s, "[]") ? s.slice(0, -2) : s;
}
function vm(s, t, e) {
  return s ? s.concat(t).map(function(A, r) {
    return A = hC(A), !e && r ? "[" + A + "]" : A;
  }).join(e ? "." : "") : t;
}
const H4 = O.toFlatObject(O, {}, null, function(s) {
  return /^is[A-Z]/.test(s);
});
function kc(s, t, e) {
  if (!O.isObject(s)) throw new TypeError("target must be an object");
  t = t || new FormData();
  const A = (e = O.toFlatObject(e, { metaTokens: !0, dots: !1, indexes: !1 }, !1, function(d, u) {
    return !O.isUndefined(u[d]);
  })).metaTokens, r = e.visitor || c, n = e.dots, i = e.indexes, o = (e.Blob || typeof Blob < "u" && Blob) && O.isSpecCompliantForm(t);
  if (!O.isFunction(r)) throw new TypeError("visitor must be a function");
  function a(d) {
    if (d === null) return "";
    if (O.isDate(d)) return d.toISOString();
    if (!o && O.isBlob(d)) throw new at("Blob is not supported. Use a Buffer instead.");
    return O.isArrayBuffer(d) || O.isTypedArray(d) ? o && typeof Blob == "function" ? new Blob([d]) : Buffer.from(d) : d;
  }
  function c(d, u, p) {
    let g = d;
    if (d && !p && typeof d == "object") {
      if (O.endsWith(u, "{}")) u = A ? u : u.slice(0, -2), d = JSON.stringify(d);
      else if (O.isArray(d) && function(m) {
        return O.isArray(m) && !m.some(wh);
      }(d) || (O.isFileList(d) || O.endsWith(u, "[]")) && (g = O.toArray(d))) return u = hC(u), g.forEach(function(m, f) {
        !O.isUndefined(m) && m !== null && t.append(i === !0 ? vm([u], f, n) : i === null ? u : u + "[]", a(m));
      }), !1;
    }
    return !!wh(d) || (t.append(vm(p, u, n), a(d)), !1);
  }
  const l = [], h = Object.assign(H4, { defaultVisitor: c, convertValue: a, isVisitable: wh });
  if (!O.isObject(s)) throw new TypeError("data must be an object");
  return function d(u, p) {
    if (!O.isUndefined(u)) {
      if (l.indexOf(u) !== -1) throw Error("Circular reference detected in " + p.join("."));
      l.push(u), O.forEach(u, function(g, m) {
        (!(O.isUndefined(g) || g === null) && r.call(t, g, O.isString(m) ? m.trim() : m, p, h)) === !0 && d(g, p ? p.concat(m) : [m]);
      }), l.pop();
    }
  }(s), t;
}
function km(s) {
  const t = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+", "%00": "\0" };
  return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g, function(e) {
    return t[e];
  });
}
function Qp(s, t) {
  this._pairs = [], s && kc(s, this, t);
}
const xm = Qp.prototype;
function P4(s) {
  return encodeURIComponent(s).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function dC(s, t, e) {
  if (!t) return s;
  const A = e && e.encode || P4, r = e && e.serialize;
  let n;
  if (n = r ? r(t, e) : O.isURLSearchParams(t) ? t.toString() : new Qp(t, e).toString(A), n) {
    const i = s.indexOf("#");
    i !== -1 && (s = s.slice(0, i)), s += (s.indexOf("?") === -1 ? "?" : "&") + n;
  }
  return s;
}
xm.append = function(s, t) {
  this._pairs.push([s, t]);
}, xm.toString = function(s) {
  const t = s ? function(e) {
    return s.call(this, e, km);
  } : km;
  return this._pairs.map(function(e) {
    return t(e[0]) + "=" + t(e[1]);
  }, "").join("&");
};
class Sm {
  constructor() {
    this.handlers = [];
  }
  use(t, e, A) {
    return this.handlers.push({ fulfilled: t, rejected: e, synchronous: !!A && A.synchronous, runWhen: A ? A.runWhen : null }), this.handlers.length - 1;
  }
  eject(t) {
    this.handlers[t] && (this.handlers[t] = null);
  }
  clear() {
    this.handlers && (this.handlers = []);
  }
  forEach(t) {
    O.forEach(this.handlers, function(e) {
      e !== null && t(e);
    });
  }
}
const uC = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 }, K4 = { isBrowser: !0, classes: { URLSearchParams: typeof URLSearchParams < "u" ? URLSearchParams : Qp, FormData: typeof FormData < "u" ? FormData : null, Blob: typeof Blob < "u" ? Blob : null }, protocols: ["http", "https", "file", "blob", "url", "data"] }, Up = typeof window < "u" && typeof document < "u", Au = typeof navigator == "object" && navigator || void 0, N4 = Up && (!Au || ["ReactNative", "NativeScript", "NS"].indexOf(Au.product) < 0), j4 = typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof self.importScripts == "function", V4 = Up && window.location.href || "http://localhost", Me = { ...Object.freeze(Object.defineProperty({ __proto__: null, hasBrowserEnv: Up, hasStandardBrowserEnv: N4, hasStandardBrowserWebWorkerEnv: j4, navigator: Au, origin: V4 }, Symbol.toStringTag, { value: "Module" })), ...K4 };
function pC(s) {
  function t(e, A, r, n) {
    let i = e[n++];
    if (i === "__proto__") return !0;
    const o = Number.isFinite(+i), a = n >= e.length;
    return i = !i && O.isArray(r) ? r.length : i, a ? (O.hasOwnProp(r, i) ? r[i] = [r[i], A] : r[i] = A, !o) : (r[i] && O.isObject(r[i]) || (r[i] = []), t(e, A, r[i], n) && O.isArray(r[i]) && (r[i] = function(c) {
      const l = {}, h = Object.keys(c);
      let d;
      const u = h.length;
      let p;
      for (d = 0; d < u; d++) p = h[d], l[p] = c[p];
      return l;
    }(r[i])), !o);
  }
  if (O.isFormData(s) && O.isFunction(s.entries)) {
    const e = {};
    return O.forEachEntry(s, (A, r) => {
      t(function(n) {
        return O.matchAll(/\w+|\[(\w*)]/g, n).map((i) => i[0] === "[]" ? "" : i[1] || i[0]);
      }(A), r, e, 0);
    }), e;
  }
  return null;
}
const Pi = { transitional: uC, adapter: ["xhr", "http", "fetch"], transformRequest: [function(s, t) {
  const e = t.getContentType() || "", A = e.indexOf("application/json") > -1, r = O.isObject(s);
  if (r && O.isHTMLForm(s) && (s = new FormData(s)), O.isFormData(s)) return A ? JSON.stringify(pC(s)) : s;
  if (O.isArrayBuffer(s) || O.isBuffer(s) || O.isStream(s) || O.isFile(s) || O.isBlob(s) || O.isReadableStream(s)) return s;
  if (O.isArrayBufferView(s)) return s.buffer;
  if (O.isURLSearchParams(s)) return t.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), s.toString();
  let n;
  if (r) {
    if (e.indexOf("application/x-www-form-urlencoded") > -1) return function(i, o) {
      return kc(i, new Me.classes.URLSearchParams(), Object.assign({ visitor: function(a, c, l, h) {
        return Me.isNode && O.isBuffer(a) ? (this.append(c, a.toString("base64")), !1) : h.defaultVisitor.apply(this, arguments);
      } }, o));
    }(s, this.formSerializer).toString();
    if ((n = O.isFileList(s)) || e.indexOf("multipart/form-data") > -1) {
      const i = this.env && this.env.FormData;
      return kc(n ? { "files[]": s } : s, i && new i(), this.formSerializer);
    }
  }
  return r || A ? (t.setContentType("application/json", !1), function(i, o, a) {
    if (O.isString(i)) try {
      return (o || JSON.parse)(i), O.trim(i);
    } catch (c) {
      if (c.name !== "SyntaxError") throw c;
    }
    return (a || JSON.stringify)(i);
  }(s)) : s;
}], transformResponse: [function(s) {
  const t = this.transitional || Pi.transitional, e = t && t.forcedJSONParsing, A = this.responseType === "json";
  if (O.isResponse(s) || O.isReadableStream(s)) return s;
  if (s && O.isString(s) && (e && !this.responseType || A)) {
    const r = !(t && t.silentJSONParsing) && A;
    try {
      return JSON.parse(s);
    } catch (n) {
      if (r)
        throw n.name === "SyntaxError" ? at.from(n, at.ERR_BAD_RESPONSE, this, null, this.response) : n;
    }
  }
  return s;
}], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: Me.classes.FormData, Blob: Me.classes.Blob }, validateStatus: function(s) {
  return s >= 200 && s < 300;
}, headers: { common: { Accept: "application/json, text/plain, */*", "Content-Type": void 0 } } };
O.forEach(["delete", "get", "head", "post", "put", "patch"], (s) => {
  Pi.headers[s] = {};
});
const G4 = O.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]), Em = Symbol("internals");
function bn(s) {
  return s && String(s).trim().toLowerCase();
}
function La(s) {
  return s === !1 || s == null ? s : O.isArray(s) ? s.map(La) : String(s);
}
function Bh(s, t, e, A, r) {
  return O.isFunction(A) ? A.call(this, t, e) : (r && (t = e), O.isString(t) ? O.isString(A) ? t.indexOf(A) !== -1 : O.isRegExp(A) ? A.test(t) : void 0 : void 0);
}
class Pe {
  constructor(t) {
    t && this.set(t);
  }
  set(t, e, A) {
    const r = this;
    function n(o, a, c) {
      const l = bn(a);
      if (!l) throw new Error("header name must be a non-empty string");
      const h = O.findKey(r, l);
      (!h || r[h] === void 0 || c === !0 || c === void 0 && r[h] !== !1) && (r[h || a] = La(o));
    }
    const i = (o, a) => O.forEach(o, (c, l) => n(c, l, a));
    if (O.isPlainObject(t) || t instanceof this.constructor) i(t, e);
    else if (O.isString(t) && (t = t.trim()) && !((o) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim()))(t)) i(((o) => {
      const a = {};
      let c, l, h;
      return o && o.split(`
`).forEach(function(d) {
        h = d.indexOf(":"), c = d.substring(0, h).trim().toLowerCase(), l = d.substring(h + 1).trim(), !c || a[c] && G4[c] || (c === "set-cookie" ? a[c] ? a[c].push(l) : a[c] = [l] : a[c] = a[c] ? a[c] + ", " + l : l);
      }), a;
    })(t), e);
    else if (O.isHeaders(t)) for (const [o, a] of t.entries()) n(a, o, A);
    else t != null && n(e, t, A);
    return this;
  }
  get(t, e) {
    if (t = bn(t)) {
      const A = O.findKey(this, t);
      if (A) {
        const r = this[A];
        if (!e) return r;
        if (e === !0) return function(n) {
          const i = /* @__PURE__ */ Object.create(null), o = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
          let a;
          for (; a = o.exec(n); ) i[a[1]] = a[2];
          return i;
        }(r);
        if (O.isFunction(e)) return e.call(this, r, A);
        if (O.isRegExp(e)) return e.exec(r);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(t, e) {
    if (t = bn(t)) {
      const A = O.findKey(this, t);
      return !(!A || this[A] === void 0 || e && !Bh(0, this[A], A, e));
    }
    return !1;
  }
  delete(t, e) {
    const A = this;
    let r = !1;
    function n(i) {
      if (i = bn(i)) {
        const o = O.findKey(A, i);
        !o || e && !Bh(0, A[o], o, e) || (delete A[o], r = !0);
      }
    }
    return O.isArray(t) ? t.forEach(n) : n(t), r;
  }
  clear(t) {
    const e = Object.keys(this);
    let A = e.length, r = !1;
    for (; A--; ) {
      const n = e[A];
      t && !Bh(0, this[n], n, t, !0) || (delete this[n], r = !0);
    }
    return r;
  }
  normalize(t) {
    const e = this, A = {};
    return O.forEach(this, (r, n) => {
      const i = O.findKey(A, n);
      if (i) return e[i] = La(r), void delete e[n];
      const o = t ? function(a) {
        return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (c, l, h) => l.toUpperCase() + h);
      }(n) : String(n).trim();
      o !== n && delete e[n], e[o] = La(r), A[o] = !0;
    }), this;
  }
  concat(...t) {
    return this.constructor.concat(this, ...t);
  }
  toJSON(t) {
    const e = /* @__PURE__ */ Object.create(null);
    return O.forEach(this, (A, r) => {
      A != null && A !== !1 && (e[r] = t && O.isArray(A) ? A.join(", ") : A);
    }), e;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([t, e]) => t + ": " + e).join(`
`);
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(t) {
    return t instanceof this ? t : new this(t);
  }
  static concat(t, ...e) {
    const A = new this(t);
    return e.forEach((r) => A.set(r)), A;
  }
  static accessor(t) {
    const e = (this[Em] = this[Em] = { accessors: {} }).accessors, A = this.prototype;
    function r(n) {
      const i = bn(n);
      e[i] || (function(o, a) {
        const c = O.toCamelCase(" " + a);
        ["get", "set", "has"].forEach((l) => {
          Object.defineProperty(o, l + c, { value: function(h, d, u) {
            return this[l].call(this, a, h, d, u);
          }, configurable: !0 });
        });
      }(A, n), e[i] = !0);
    }
    return O.isArray(t) ? t.forEach(r) : r(t), this;
  }
}
function yh(s, t) {
  const e = this || Pi, A = t || e, r = Pe.from(A.headers);
  let n = A.data;
  return O.forEach(s, function(i) {
    n = i.call(e, n, r.normalize(), t ? t.status : void 0);
  }), r.normalize(), n;
}
function gC(s) {
  return !(!s || !s.__CANCEL__);
}
function ln(s, t, e) {
  at.call(this, s ?? "canceled", at.ERR_CANCELED, t, e), this.name = "CanceledError";
}
function fC(s, t, e) {
  const A = e.config.validateStatus;
  e.status && A && !A(e.status) ? t(new at("Request failed with status code " + e.status, [at.ERR_BAD_REQUEST, at.ERR_BAD_RESPONSE][Math.floor(e.status / 100) - 4], e.config, e.request, e)) : s(e);
}
Pe.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]), O.reduceDescriptors(Pe.prototype, ({ value: s }, t) => {
  let e = t[0].toUpperCase() + t.slice(1);
  return { get: () => s, set(A) {
    this[e] = A;
  } };
}), O.freezeMethods(Pe), O.inherits(ln, at, { __CANCEL__: !0 });
const xc = (s, t, e = 3) => {
  let A = 0;
  const r = function(n, i) {
    n = n || 10;
    const o = new Array(n), a = new Array(n);
    let c, l = 0, h = 0;
    return i = i !== void 0 ? i : 1e3, function(d) {
      const u = Date.now(), p = a[h];
      c || (c = u), o[l] = d, a[l] = u;
      let g = h, m = 0;
      for (; g !== l; ) m += o[g++], g %= n;
      if (l = (l + 1) % n, l === h && (h = (h + 1) % n), u - c < i) return;
      const f = p && u - p;
      return f ? Math.round(1e3 * m / f) : void 0;
    };
  }(50, 250);
  return function(n, i) {
    let o, a, c = 0, l = 1e3 / i;
    const h = (d, u = Date.now()) => {
      c = u, o = null, a && (clearTimeout(a), a = null), n.apply(null, d);
    };
    return [(...d) => {
      const u = Date.now(), p = u - c;
      p >= l ? h(d, u) : (o = d, a || (a = setTimeout(() => {
        a = null, h(o);
      }, l - p)));
    }, () => o && h(o)];
  }((n) => {
    const i = n.loaded, o = n.lengthComputable ? n.total : void 0, a = i - A, c = r(a);
    A = i, s({ loaded: i, total: o, progress: o ? i / o : void 0, bytes: a, rate: c || void 0, estimated: c && o && i <= o ? (o - i) / c : void 0, event: n, lengthComputable: o != null, [t ? "download" : "upload"]: !0 });
  }, e);
}, Fm = (s, t) => {
  const e = s != null;
  return [(A) => t[0]({ lengthComputable: e, total: s, loaded: A }), t[1]];
}, Qm = (s) => (...t) => O.asap(() => s(...t)), W4 = Me.hasStandardBrowserEnv ? function() {
  const s = Me.navigator && /(msie|trident)/i.test(Me.navigator.userAgent), t = document.createElement("a");
  let e;
  function A(r) {
    let n = r;
    return s && (t.setAttribute("href", n), n = t.href), t.setAttribute("href", n), { href: t.href, protocol: t.protocol ? t.protocol.replace(/:$/, "") : "", host: t.host, search: t.search ? t.search.replace(/^\?/, "") : "", hash: t.hash ? t.hash.replace(/^#/, "") : "", hostname: t.hostname, port: t.port, pathname: t.pathname.charAt(0) === "/" ? t.pathname : "/" + t.pathname };
  }
  return e = A(window.location.href), function(r) {
    const n = O.isString(r) ? A(r) : r;
    return n.protocol === e.protocol && n.host === e.host;
  };
}() : function() {
  return !0;
}, Y4 = Me.hasStandardBrowserEnv ? { write(s, t, e, A, r, n) {
  const i = [s + "=" + encodeURIComponent(t)];
  O.isNumber(e) && i.push("expires=" + new Date(e).toGMTString()), O.isString(A) && i.push("path=" + A), O.isString(r) && i.push("domain=" + r), n === !0 && i.push("secure"), document.cookie = i.join("; ");
}, read(s) {
  const t = document.cookie.match(new RegExp("(^|;\\s*)(" + s + ")=([^;]*)"));
  return t ? decodeURIComponent(t[3]) : null;
}, remove(s) {
  this.write(s, "", Date.now() - 864e5);
} } : { write() {
}, read: () => null, remove() {
} };
function mC(s, t) {
  return s && !function(e) {
    return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
  }(t) ? function(e, A) {
    return A ? e.replace(/\/?\/$/, "") + "/" + A.replace(/^\/+/, "") : e;
  }(s, t) : t;
}
const Um = (s) => s instanceof Pe ? { ...s } : s;
function ar(s, t) {
  t = t || {};
  const e = {};
  function A(c, l, h) {
    return O.isPlainObject(c) && O.isPlainObject(l) ? O.merge.call({ caseless: h }, c, l) : O.isPlainObject(l) ? O.merge({}, l) : O.isArray(l) ? l.slice() : l;
  }
  function r(c, l, h) {
    return O.isUndefined(l) ? O.isUndefined(c) ? void 0 : A(void 0, c, h) : A(c, l, h);
  }
  function n(c, l) {
    if (!O.isUndefined(l)) return A(void 0, l);
  }
  function i(c, l) {
    return O.isUndefined(l) ? O.isUndefined(c) ? void 0 : A(void 0, c) : A(void 0, l);
  }
  function o(c, l, h) {
    return h in t ? A(c, l) : h in s ? A(void 0, c) : void 0;
  }
  const a = { url: n, method: n, data: n, baseURL: i, transformRequest: i, transformResponse: i, paramsSerializer: i, timeout: i, timeoutMessage: i, withCredentials: i, withXSRFToken: i, adapter: i, responseType: i, xsrfCookieName: i, xsrfHeaderName: i, onUploadProgress: i, onDownloadProgress: i, decompress: i, maxContentLength: i, maxBodyLength: i, beforeRedirect: i, transport: i, httpAgent: i, httpsAgent: i, cancelToken: i, socketPath: i, responseEncoding: i, validateStatus: o, headers: (c, l) => r(Um(c), Um(l), !0) };
  return O.forEach(Object.keys(Object.assign({}, s, t)), function(c) {
    const l = a[c] || r, h = l(s[c], t[c], c);
    O.isUndefined(h) && l !== o || (e[c] = h);
  }), e;
}
const wC = (s) => {
  const t = ar({}, s);
  let e, { data: A, withXSRFToken: r, xsrfHeaderName: n, xsrfCookieName: i, headers: o, auth: a } = t;
  if (t.headers = o = Pe.from(o), t.url = dC(mC(t.baseURL, t.url), s.params, s.paramsSerializer), a && o.set("Authorization", "Basic " + btoa((a.username || "") + ":" + (a.password ? unescape(encodeURIComponent(a.password)) : ""))), O.isFormData(A)) {
    if (Me.hasStandardBrowserEnv || Me.hasStandardBrowserWebWorkerEnv) o.setContentType(void 0);
    else if ((e = o.getContentType()) !== !1) {
      const [c, ...l] = e ? e.split(";").map((h) => h.trim()).filter(Boolean) : [];
      o.setContentType([c || "multipart/form-data", ...l].join("; "));
    }
  }
  if (Me.hasStandardBrowserEnv && (r && O.isFunction(r) && (r = r(t)), r || r !== !1 && W4(t.url))) {
    const c = n && i && Y4.read(i);
    c && o.set(n, c);
  }
  return t;
}, J4 = typeof XMLHttpRequest < "u" && function(s) {
  return new Promise(function(t, e) {
    const A = wC(s);
    let r = A.data;
    const n = Pe.from(A.headers).normalize();
    let i, o, a, c, l, { responseType: h, onUploadProgress: d, onDownloadProgress: u } = A;
    function p() {
      c && c(), l && l(), A.cancelToken && A.cancelToken.unsubscribe(i), A.signal && A.signal.removeEventListener("abort", i);
    }
    let g = new XMLHttpRequest();
    function m() {
      if (!g) return;
      const w = Pe.from("getAllResponseHeaders" in g && g.getAllResponseHeaders());
      fC(function(B) {
        t(B), p();
      }, function(B) {
        e(B), p();
      }, { data: h && h !== "text" && h !== "json" ? g.response : g.responseText, status: g.status, statusText: g.statusText, headers: w, config: s, request: g }), g = null;
    }
    g.open(A.method.toUpperCase(), A.url, !0), g.timeout = A.timeout, "onloadend" in g ? g.onloadend = m : g.onreadystatechange = function() {
      g && g.readyState === 4 && (g.status !== 0 || g.responseURL && g.responseURL.indexOf("file:") === 0) && setTimeout(m);
    }, g.onabort = function() {
      g && (e(new at("Request aborted", at.ECONNABORTED, s, g)), g = null);
    }, g.onerror = function() {
      e(new at("Network Error", at.ERR_NETWORK, s, g)), g = null;
    }, g.ontimeout = function() {
      let w = A.timeout ? "timeout of " + A.timeout + "ms exceeded" : "timeout exceeded";
      const B = A.transitional || uC;
      A.timeoutErrorMessage && (w = A.timeoutErrorMessage), e(new at(w, B.clarifyTimeoutError ? at.ETIMEDOUT : at.ECONNABORTED, s, g)), g = null;
    }, r === void 0 && n.setContentType(null), "setRequestHeader" in g && O.forEach(n.toJSON(), function(w, B) {
      g.setRequestHeader(B, w);
    }), O.isUndefined(A.withCredentials) || (g.withCredentials = !!A.withCredentials), h && h !== "json" && (g.responseType = A.responseType), u && ([a, l] = xc(u, !0), g.addEventListener("progress", a)), d && g.upload && ([o, c] = xc(d), g.upload.addEventListener("progress", o), g.upload.addEventListener("loadend", c)), (A.cancelToken || A.signal) && (i = (w) => {
      g && (e(!w || w.type ? new ln(null, s, g) : w), g.abort(), g = null);
    }, A.cancelToken && A.cancelToken.subscribe(i), A.signal && (A.signal.aborted ? i() : A.signal.addEventListener("abort", i)));
    const f = function(w) {
      const B = /^([-+\w]{1,25})(:?\/\/|:)/.exec(w);
      return B && B[1] || "";
    }(A.url);
    f && Me.protocols.indexOf(f) === -1 ? e(new at("Unsupported protocol " + f + ":", at.ERR_BAD_REQUEST, s)) : g.send(r || null);
  });
}, X4 = (s, t) => {
  const { length: e } = s = s ? s.filter(Boolean) : [];
  if (t || e) {
    let A, r = new AbortController();
    const n = function(c) {
      if (!A) {
        A = !0, o();
        const l = c instanceof Error ? c : this.reason;
        r.abort(l instanceof at ? l : new ln(l instanceof Error ? l.message : l));
      }
    };
    let i = t && setTimeout(() => {
      i = null, n(new at(`timeout ${t} of ms exceeded`, at.ETIMEDOUT));
    }, t);
    const o = () => {
      s && (i && clearTimeout(i), i = null, s.forEach((c) => {
        c.unsubscribe ? c.unsubscribe(n) : c.removeEventListener("abort", n);
      }), s = null);
    };
    s.forEach((c) => c.addEventListener("abort", n));
    const { signal: a } = r;
    return a.unsubscribe = () => O.asap(o), a;
  }
}, z4 = function* (s, t) {
  let e = s.byteLength;
  if (e < t) return void (yield s);
  let A, r = 0;
  for (; r < e; ) A = r + t, yield s.slice(r, A), r = A;
}, Z4 = async function* (s) {
  if (s[Symbol.asyncIterator]) return void (yield* s);
  const t = s.getReader();
  try {
    for (; ; ) {
      const { done: e, value: A } = await t.read();
      if (e) break;
      yield A;
    }
  } finally {
    await t.cancel();
  }
}, Im = (s, t, e, A) => {
  const r = async function* (a, c) {
    for await (const l of Z4(a)) yield* z4(l, c);
  }(s, t);
  let n, i = 0, o = (a) => {
    n || (n = !0, A && A(a));
  };
  return new ReadableStream({ async pull(a) {
    try {
      const { done: c, value: l } = await r.next();
      if (c) return o(), void a.close();
      let h = l.byteLength;
      if (e) {
        let d = i += h;
        e(d);
      }
      a.enqueue(new Uint8Array(l));
    } catch (c) {
      throw o(c), c;
    }
  }, cancel: (a) => (o(a), r.return()) }, { highWaterMark: 2 });
}, dl = typeof fetch == "function" && typeof Request == "function" && typeof Response == "function", BC = dl && typeof ReadableStream == "function", q4 = dl && (typeof TextEncoder == "function" ? (Tm = new TextEncoder(), (s) => Tm.encode(s)) : async (s) => new Uint8Array(await new Response(s).arrayBuffer()));
var Tm;
const yC = (s, ...t) => {
  try {
    return !!s(...t);
  } catch {
    return !1;
  }
}, $4 = BC && yC(() => {
  let s = !1;
  const t = new Request(Me.origin, { body: new ReadableStream(), method: "POST", get duplex() {
    return s = !0, "half";
  } }).headers.has("Content-Type");
  return s && !t;
}), su = BC && yC(() => O.isReadableStream(new Response("").body)), Sc = { stream: su && ((s) => s.body) };
var _m;
dl && (_m = new Response(), ["text", "arrayBuffer", "blob", "formData", "stream"].forEach((s) => {
  !Sc[s] && (Sc[s] = O.isFunction(_m[s]) ? (t) => t[s]() : (t, e) => {
    throw new at(`Response type '${s}' is not supported`, at.ERR_NOT_SUPPORT, e);
  });
}));
const tI = async (s, t) => {
  const e = O.toFiniteNumber(s.getContentLength());
  return e ?? (async (A) => A == null ? 0 : O.isBlob(A) ? A.size : O.isSpecCompliantForm(A) ? (await new Request(Me.origin, { method: "POST", body: A }).arrayBuffer()).byteLength : O.isArrayBufferView(A) || O.isArrayBuffer(A) ? A.byteLength : (O.isURLSearchParams(A) && (A += ""), O.isString(A) ? (await q4(A)).byteLength : void 0))(t);
}, eI = dl && (async (s) => {
  let { url: t, method: e, data: A, signal: r, cancelToken: n, timeout: i, onDownloadProgress: o, onUploadProgress: a, responseType: c, headers: l, withCredentials: h = "same-origin", fetchOptions: d } = wC(s);
  c = c ? (c + "").toLowerCase() : "text";
  let u, p = X4([r, n && n.toAbortSignal()], i);
  const g = p && p.unsubscribe && (() => {
    p.unsubscribe();
  });
  let m;
  try {
    if (a && $4 && e !== "get" && e !== "head" && (m = await tI(l, A)) !== 0) {
      let v, F = new Request(t, { method: "POST", body: A, duplex: "half" });
      if (O.isFormData(A) && (v = F.headers.get("content-type")) && l.setContentType(v), F.body) {
        const [Q, E] = Fm(m, xc(Qm(a)));
        A = Im(F.body, 65536, Q, E);
      }
    }
    O.isString(h) || (h = h ? "include" : "omit");
    const f = "credentials" in Request.prototype;
    u = new Request(t, { ...d, signal: p, method: e.toUpperCase(), headers: l.normalize().toJSON(), body: A, duplex: "half", credentials: f ? h : void 0 });
    let w = await fetch(u);
    const B = su && (c === "stream" || c === "response");
    if (su && (o || B && g)) {
      const v = {};
      ["status", "statusText", "headers"].forEach((_) => {
        v[_] = w[_];
      });
      const F = O.toFiniteNumber(w.headers.get("content-length")), [Q, E] = o && Fm(F, xc(Qm(o), !0)) || [];
      w = new Response(Im(w.body, 65536, Q, () => {
        E && E(), g && g();
      }), v);
    }
    c = c || "text";
    let C = await Sc[O.findKey(Sc, c) || "text"](w, s);
    return !B && g && g(), await new Promise((v, F) => {
      fC(v, F, { data: C, headers: Pe.from(w.headers), status: w.status, statusText: w.statusText, config: s, request: u });
    });
  } catch (f) {
    throw g && g(), f && f.name === "TypeError" && /fetch/i.test(f.message) ? Object.assign(new at("Network Error", at.ERR_NETWORK, s, u), { cause: f.cause || f }) : at.from(f, f && f.code, s, u);
  }
}), CC = { http: null, xhr: J4, fetch: eI };
O.forEach(CC, (s, t) => {
  if (s) {
    try {
      Object.defineProperty(s, "name", { value: t });
    } catch {
    }
    Object.defineProperty(s, "adapterName", { value: t });
  }
});
const Om = (s) => `- ${s}`, AI = (s) => O.isFunction(s) || s === null || s === !1, bC = (s) => {
  s = O.isArray(s) ? s : [s];
  const { length: t } = s;
  let e, A;
  const r = {};
  for (let n = 0; n < t; n++) {
    let i;
    if (e = s[n], A = e, !AI(e) && (A = CC[(i = String(e)).toLowerCase()], A === void 0)) throw new at(`Unknown adapter '${i}'`);
    if (A) break;
    r[i || "#" + n] = A;
  }
  if (!A) {
    const n = Object.entries(r).map(([i, o]) => `adapter ${i} ` + (o === !1 ? "is not supported by the environment" : "is not available in the build"));
    throw new at("There is no suitable adapter to dispatch the request " + (t ? n.length > 1 ? `since :
` + n.map(Om).join(`
`) : " " + Om(n[0]) : "as no adapter specified"), "ERR_NOT_SUPPORT");
  }
  return A;
};
function Ch(s) {
  if (s.cancelToken && s.cancelToken.throwIfRequested(), s.signal && s.signal.aborted) throw new ln(null, s);
}
function Lm(s) {
  return Ch(s), s.headers = Pe.from(s.headers), s.data = yh.call(s, s.transformRequest), ["post", "put", "patch"].indexOf(s.method) !== -1 && s.headers.setContentType("application/x-www-form-urlencoded", !1), bC(s.adapter || Pi.adapter)(s).then(function(t) {
    return Ch(s), t.data = yh.call(s, s.transformResponse, t), t.headers = Pe.from(t.headers), t;
  }, function(t) {
    return gC(t) || (Ch(s), t && t.response && (t.response.data = yh.call(s, s.transformResponse, t.response), t.response.headers = Pe.from(t.response.headers))), Promise.reject(t);
  });
}
const sI = "1.7.7", Ip = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((s, t) => {
  Ip[s] = function(e) {
    return typeof e === s || "a" + (t < 1 ? "n " : " ") + s;
  };
});
const Mm = {};
Ip.transitional = function(s, t, e) {
  function A(r, n) {
    return "[Axios v1.7.7] Transitional option '" + r + "'" + n + (e ? ". " + e : "");
  }
  return (r, n, i) => {
    if (s === !1) throw new at(A(n, " has been removed" + (t ? " in " + t : "")), at.ERR_DEPRECATED);
    return t && !Mm[n] && (Mm[n] = !0, console.warn(A(n, " has been deprecated since v" + t + " and will be removed in the near future"))), !s || s(r, n, i);
  };
};
const ru = { assertOptions: function(s, t, e) {
  if (typeof s != "object") throw new at("options must be an object", at.ERR_BAD_OPTION_VALUE);
  const A = Object.keys(s);
  let r = A.length;
  for (; r-- > 0; ) {
    const n = A[r], i = t[n];
    if (i) {
      const o = s[n], a = o === void 0 || i(o, n, s);
      if (a !== !0) throw new at("option " + n + " must be " + a, at.ERR_BAD_OPTION_VALUE);
    } else if (e !== !0) throw new at("Unknown option " + n, at.ERR_BAD_OPTION);
  }
}, validators: Ip }, gs = ru.validators;
class Ar {
  constructor(t) {
    this.defaults = t, this.interceptors = { request: new Sm(), response: new Sm() };
  }
  async request(t, e) {
    try {
      return await this._request(t, e);
    } catch (A) {
      if (A instanceof Error) {
        let r;
        Error.captureStackTrace ? Error.captureStackTrace(r = {}) : r = new Error();
        const n = r.stack ? r.stack.replace(/^.+\n/, "") : "";
        try {
          A.stack ? n && !String(A.stack).endsWith(n.replace(/^.+\n.+\n/, "")) && (A.stack += `
` + n) : A.stack = n;
        } catch {
        }
      }
      throw A;
    }
  }
  _request(t, e) {
    typeof t == "string" ? (e = e || {}).url = t : e = t || {}, e = ar(this.defaults, e);
    const { transitional: A, paramsSerializer: r, headers: n } = e;
    A !== void 0 && ru.assertOptions(A, { silentJSONParsing: gs.transitional(gs.boolean), forcedJSONParsing: gs.transitional(gs.boolean), clarifyTimeoutError: gs.transitional(gs.boolean) }, !1), r != null && (O.isFunction(r) ? e.paramsSerializer = { serialize: r } : ru.assertOptions(r, { encode: gs.function, serialize: gs.function }, !0)), e.method = (e.method || this.defaults.method || "get").toLowerCase();
    let i = n && O.merge(n.common, n[e.method]);
    n && O.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (p) => {
      delete n[p];
    }), e.headers = Pe.concat(i, n);
    const o = [];
    let a = !0;
    this.interceptors.request.forEach(function(p) {
      typeof p.runWhen == "function" && p.runWhen(e) === !1 || (a = a && p.synchronous, o.unshift(p.fulfilled, p.rejected));
    });
    const c = [];
    let l;
    this.interceptors.response.forEach(function(p) {
      c.push(p.fulfilled, p.rejected);
    });
    let h, d = 0;
    if (!a) {
      const p = [Lm.bind(this), void 0];
      for (p.unshift.apply(p, o), p.push.apply(p, c), h = p.length, l = Promise.resolve(e); d < h; ) l = l.then(p[d++], p[d++]);
      return l;
    }
    h = o.length;
    let u = e;
    for (d = 0; d < h; ) {
      const p = o[d++], g = o[d++];
      try {
        u = p(u);
      } catch (m) {
        g.call(this, m);
        break;
      }
    }
    try {
      l = Lm.call(this, u);
    } catch (p) {
      return Promise.reject(p);
    }
    for (d = 0, h = c.length; d < h; ) l = l.then(c[d++], c[d++]);
    return l;
  }
  getUri(t) {
    return dC(mC((t = ar(this.defaults, t)).baseURL, t.url), t.params, t.paramsSerializer);
  }
}
O.forEach(["delete", "get", "head", "options"], function(s) {
  Ar.prototype[s] = function(t, e) {
    return this.request(ar(e || {}, { method: s, url: t, data: (e || {}).data }));
  };
}), O.forEach(["post", "put", "patch"], function(s) {
  function t(e) {
    return function(A, r, n) {
      return this.request(ar(n || {}, { method: s, headers: e ? { "Content-Type": "multipart/form-data" } : {}, url: A, data: r }));
    };
  }
  Ar.prototype[s] = t(), Ar.prototype[s + "Form"] = t(!0);
});
class Tp {
  constructor(t) {
    if (typeof t != "function") throw new TypeError("executor must be a function.");
    let e;
    this.promise = new Promise(function(r) {
      e = r;
    });
    const A = this;
    this.promise.then((r) => {
      if (!A._listeners) return;
      let n = A._listeners.length;
      for (; n-- > 0; ) A._listeners[n](r);
      A._listeners = null;
    }), this.promise.then = (r) => {
      let n;
      const i = new Promise((o) => {
        A.subscribe(o), n = o;
      }).then(r);
      return i.cancel = function() {
        A.unsubscribe(n);
      }, i;
    }, t(function(r, n, i) {
      A.reason || (A.reason = new ln(r, n, i), e(A.reason));
    });
  }
  throwIfRequested() {
    if (this.reason) throw this.reason;
  }
  subscribe(t) {
    this.reason ? t(this.reason) : this._listeners ? this._listeners.push(t) : this._listeners = [t];
  }
  unsubscribe(t) {
    if (!this._listeners) return;
    const e = this._listeners.indexOf(t);
    e !== -1 && this._listeners.splice(e, 1);
  }
  toAbortSignal() {
    const t = new AbortController(), e = (A) => {
      t.abort(A);
    };
    return this.subscribe(e), t.signal.unsubscribe = () => this.unsubscribe(e), t.signal;
  }
  static source() {
    let t;
    return { token: new Tp(function(A) {
      t = A;
    }), cancel: t };
  }
}
const nu = { Continue: 100, SwitchingProtocols: 101, Processing: 102, EarlyHints: 103, Ok: 200, Created: 201, Accepted: 202, NonAuthoritativeInformation: 203, NoContent: 204, ResetContent: 205, PartialContent: 206, MultiStatus: 207, AlreadyReported: 208, ImUsed: 226, MultipleChoices: 300, MovedPermanently: 301, Found: 302, SeeOther: 303, NotModified: 304, UseProxy: 305, Unused: 306, TemporaryRedirect: 307, PermanentRedirect: 308, BadRequest: 400, Unauthorized: 401, PaymentRequired: 402, Forbidden: 403, NotFound: 404, MethodNotAllowed: 405, NotAcceptable: 406, ProxyAuthenticationRequired: 407, RequestTimeout: 408, Conflict: 409, Gone: 410, LengthRequired: 411, PreconditionFailed: 412, PayloadTooLarge: 413, UriTooLong: 414, UnsupportedMediaType: 415, RangeNotSatisfiable: 416, ExpectationFailed: 417, ImATeapot: 418, MisdirectedRequest: 421, UnprocessableEntity: 422, Locked: 423, FailedDependency: 424, TooEarly: 425, UpgradeRequired: 426, PreconditionRequired: 428, TooManyRequests: 429, RequestHeaderFieldsTooLarge: 431, UnavailableForLegalReasons: 451, InternalServerError: 500, NotImplemented: 501, BadGateway: 502, ServiceUnavailable: 503, GatewayTimeout: 504, HttpVersionNotSupported: 505, VariantAlsoNegotiates: 506, InsufficientStorage: 507, LoopDetected: 508, NotExtended: 510, NetworkAuthenticationRequired: 511 };
Object.entries(nu).forEach(([s, t]) => {
  nu[t] = s;
});
const Xt = function s(t) {
  const e = new Ar(t), A = cC(Ar.prototype.request, e);
  return O.extend(A, Ar.prototype, e, { allOwnKeys: !0 }), O.extend(A, e, null, { allOwnKeys: !0 }), A.create = function(r) {
    return s(ar(t, r));
  }, A;
}(Pi);
Xt.Axios = Ar, Xt.CanceledError = ln, Xt.CancelToken = Tp, Xt.isCancel = gC, Xt.VERSION = sI, Xt.toFormData = kc, Xt.AxiosError = at, Xt.Cancel = Xt.CanceledError, Xt.all = function(s) {
  return Promise.all(s);
}, Xt.spread = function(s) {
  return function(t) {
    return s.apply(null, t);
  };
}, Xt.isAxiosError = function(s) {
  return O.isObject(s) && s.isAxiosError === !0;
}, Xt.mergeConfig = ar, Xt.AxiosHeaders = Pe, Xt.formToJSON = (s) => pC(O.isHTMLForm(s) ? new FormData(s) : s), Xt.getAdapter = bC, Xt.HttpStatusCode = nu, Xt.default = Xt;
const Js = class Js {
  constructor() {
    b(this, "axios");
    Xt.defaults.withCredentials = !1, this.axios = Xt.create({ baseURL: Vm.apiBaseUrl });
  }
  static getInstance() {
    return Js.instance || (Js.instance = new Js()), Js.instance;
  }
  get({ resource: t, config: e }) {
    return this.axios.get(t, e);
  }
  post({ resource: t, data: e, config: A }) {
    return this.axios.post(t, e, A);
  }
  patch({ resource: t, data: e, config: A }) {
    return this.axios.patch(t, this.formatPatchData(e), A);
  }
  put({ resource: t, data: e, config: A }) {
    return this.axios.put(t, e, A);
  }
  delete({ resource: t, config: e }) {
    return this.axios.delete(t, e);
  }
  formatPatchData(t) {
    return Object.keys(t).map((e) => ({ op: "replace", path: "/" + e, value: t[e] }));
  }
};
b(Js, "instance");
let iu = Js;
class rI {
  constructor({ apiKey: t, version: e, deviceId: A }) {
    b(this, "baseApi");
    b(this, "apiKey");
    b(this, "version");
    b(this, "deviceId");
    b(this, "setApiKey", (t) => {
      this.apiKey = t;
    });
    this.baseApi = iu.getInstance(), this.apiKey = t, this.version = e, this.deviceId = A, this.setDefaultHeaders();
  }
  setDefaultHeaders() {
    this.baseApi.axios.interceptors.request.use((t) => (t.headers && (t.headers["X-OS"] = "Web", t.headers["X-PLATFORM"] = "Web", t.headers["X-API-KEY"] = this.apiKey, t.headers["X-DEVICE-ID"] = this.deviceId, t.headers["X-SHAKE-VERSION"] = this.version), t), (t) => Promise.reject(t));
  }
  registerApp() {
    return this.baseApi.get({ resource: "2.0/issue_tracking/apps" });
  }
  getApps(t) {
    const e = {};
    return t && (e.Authorization = `Bearer ${t}`), this.baseApi.get({ resource: "1.0/accounts/teams/apps", config: { headers: e } });
  }
  sendFeedback(t) {
    return this.baseApi.post({ resource: "2.0/issue_tracking/apps", data: t, config: { headers: { "Content-Type": "application/json" } } });
  }
  registerUser(t) {
    return this.baseApi.post({ resource: "2.0/user_model/app_user", data: t, config: { headers: { "Content-Type": "application/json" } } });
  }
  unregisterUser(t) {
    return this.baseApi.delete({ resource: "2.0/user_model/app_user", config: { params: { device_token: t }, headers: { "Content-Type": "application/json" } } });
  }
  updateUser(t, e) {
    return this.baseApi.post({ resource: `2.0/user_model/app_user/${t}`, data: e, config: { headers: { "Content-Type": "application/json" } } });
  }
  fetchTickets(t, e) {
    return this.baseApi.get({ resource: `2.0/user_model/app_user/${t}/tickets_sync`, config: { params: { last_sync: e }, headers: { "Content-Type": "application/json" } } });
  }
  replyTicket(t, e) {
    return this.baseApi.post({ resource: `2.0/user_model/app_user/${t}/tickets/reply`, data: e, config: { headers: { "Content-Type": "application/json" } } });
  }
  readTicket(t, e) {
    return this.baseApi.post({ resource: `2.0/user_model/app_user/${t}/tickets/read`, data: e, config: { headers: { "Content-Type": "application/json" } } });
  }
  uploadFile(t) {
    const e = new FormData();
    return e.append("file", t), this.baseApi.post({ resource: "2.0/files", data: e, config: { headers: { "Content-Type": "multipart/form-data" } } });
  }
}
const nI = (s) => {
  const t = iI(s), e = oI(s);
  return { id: s.id, screenshot: t, created: s.created, type: s.type, lastActivity: e, title: s.title, syncedRead: !0 };
}, iI = (s) => {
  var t;
  return ((t = s.screenshot_url) == null ? void 0 : t.includes("screenshot_not_available")) === !0 ? null : s.screenshot_url;
}, oI = (s) => s.messages.length <= 0 ? s.created : (s.messages.sort((t, e) => t.created < e.created ? 1 : t.created == e.created ? 0 : -1), s.messages[0].created), Dm = (s) => ({ id: s.id, screenshot: s.screenshot, timeFrame: dE(s.lastActivity), lastActivity: s.lastActivity, title: s.title, type: s.type }), vC = (s, t) => ({ id: t.id, body: t.message, synced: !0, failed: !1, read: t.is_read, ticketId: s, created: t.created, senderId: t.user_id }), Rm = (s) => s.map((t) => aI(t)), aI = (s) => ({ id: s.id, text: s.body, synced: s.synced, failed: s.failed, ticketId: s.ticketId, timestamp: s.created, senderId: s.senderId, read: s.read }), cI = (s) => ({ id: s.id, name: s.name, role: s.role }), lI = (s) => (s.messages ?? []).map((t) => vC(s.id, t));
class hI {
  constructor() {
    b(this, "data", re.localStorage);
    b(this, "shakeApi", null);
    b(this, "init", () => {
      const t = { apiKey: ee.apiKey, version: pB, deviceId: this.data.getShakeDeviceId() ?? "" };
      this.shakeApi = new rI(t);
    });
    b(this, "setApiKey", (t) => {
      var e;
      (e = this.shakeApi) == null || e.setApiKey(t);
    });
    b(this, "getUser", async () => {
      const t = await Kl();
      return t ? ((e) => ({ id: e.id, userId: e.userId, endUserId: e.endUserId, metadata: e.metadata, isSynced: e.isSynced }))(t) : null;
    });
    b(this, "getTicket", async (t) => {
      let e = null;
      const A = await Qn(t);
      return A && (e = Dm(A)), e;
    });
    b(this, "getTickets", async () => {
      const t = await Ig(), e = await pn(), A = ((n) => n.map((i) => Dm(i)))(t), r = Rm(e);
      return A.sort((n, i) => n.lastActivity < i.lastActivity ? 1 : n.lastActivity == i.lastActivity ? 0 : -1), A.forEach((n) => {
        n.read = !r.find((i) => i.ticketId === n.id && !i.read);
      }), A;
    });
    b(this, "getChatMessages", async (t) => {
      const e = await pn(t);
      return Rm(e).sort((A, r) => A.timestamp < r.timestamp ? 1 : A.timestamp == r.timestamp ? 0 : -1);
    });
    b(this, "getChatParticipants", async () => ((t) => t.map((e) => {
      return { id: (A = e).id, name: A.name, role: A.role };
      var A;
    }))(await B0()));
    b(this, "retryChatMessage", async (t, e) => {
      const A = await (r = e, new Promise((n, i) => {
        const o = indexedDB.open(Be, 7);
        o.onsuccess = function(a) {
          const c = a.target.result.transaction([fA], "readonly").objectStore(fA).get(r);
          c.onsuccess = function(l) {
            const h = l.target.result;
            n(h);
          }, c.onerror = function() {
            i("Error retrieving chat message from IndexedDB");
          };
        }, o.onerror = Qe(i), o.onupgradeneeded = Fe;
      }));
      var r;
      A && await this.syncChatMessage(t, A);
    });
    b(this, "sendReadReceipt", async (t, e) => {
      const A = await Qn(t);
      A && (await pn(t)).find((n) => !n.read) && await this.syncReadReceipt(A, e);
    });
    b(this, "sendFailedReadReceipts", async (t) => {
      (await Ig()).filter((e) => !e.syncedRead).forEach((e) => {
        this.syncReadReceipt(e, t);
      });
    });
    b(this, "syncReadReceipt", async (t, e) => {
      var A;
      try {
        const r = await pn(t.id);
        r.forEach((i) => i.read = !0), await yo(r);
        const n = { ticket_id: t.id, ticket_type: t.type };
        await ((A = this.shakeApi) == null ? void 0 : A.readTicket(e, n)), t.syncedRead = !0, await oo([t]);
      } catch {
        t.syncedRead = !1, await oo([t]);
      }
    });
    b(this, "updateTicketLastActivity", async (t) => {
      const e = await Qn(t);
      if (e) {
        const A = await pn(t);
        A.sort((r, n) => r.created < n.created ? 1 : r.created == n.created ? 0 : -1), e.lastActivity = A.length > 0 ? A[0].created : e.created, await oo([e]);
      }
    });
  }
  async registerApp() {
    var t, e;
    if (this.shakeApi) try {
      await this.shakeApi.registerApp(), this.data.setAppRegistered(!0), this.data.setAppActive(!0);
    } catch (A) {
      ((t = A.response) == null ? void 0 : t.status) === 404 ? (qt("Error registering app. App is archived"), this.data.setAppRegistered(!0), this.data.setAppActive(!1)) : ((e = A.response) == null ? void 0 : e.status) === 401 ? (qt("Error registering app. Please check your api key and permitted urls in your workspace settings."), re.localStorage.removeAppRegistered(), re.localStorage.removeAppActive(), zu()) : qt("Error registering app. " + (A == null ? void 0 : A.message));
    }
  }
  async getApps() {
    var A;
    const t = [Pw];
    try {
      const r = await ((A = this.shakeApi) == null ? void 0 : A.getApps(ee.authToken)), n = r == null ? void 0 : r.data;
      n && t.push(...(e = n, e.flatMap((i) => i.apps.map((o) => {
        const a = !i.name, c = a ? `${o.id}p` : o.id, l = a ? `${Y().shake_sdk_new_ticket_picker_team} ${window.location.hostname}` : o.name;
        return { id: c, apiKey: o.api_key, name: l, logoUrl: o.logo_url, workspaceName: i.name, workspaceLogo: i.log_url, public: a };
      }))));
    } catch (r) {
      Rc("Failed to fetch apps. " + (r == null ? void 0 : r.message));
    }
    var e;
    ee.apps = t, bh.notifyChange(!0);
  }
  async registerUser() {
    if (!this.shakeApi) return;
    const t = await Kl();
    if (!t) return;
    const e = { end_user_id: t.endUserId, metadata_: t.metadata }, A = await this.shakeApi.registerUser(e), r = { ...t, userId: A.data.id, endUserId: A.data.end_user_id, metadata: A.data.metadata_, isSynced: !0 };
    await Yr(r);
  }
  async updateUser() {
    var e;
    if (!this.shakeApi) return;
    const t = await Kl();
    if (t) try {
      const A = { end_user_id: t.endUserId, metadata_: t.metadata }, r = await this.shakeApi.updateUser(t.userId, A), n = { ...t, userId: r.data.id, endUserId: r.data.end_user_id, metadata: r.data.metadata_, isSynced: !0 };
      await Yr(n);
    } catch (A) {
      if (((e = A == null ? void 0 : A.response) == null ? void 0 : e.status) !== 403) throw A;
      {
        qt("Cannot update user, user id already exists");
        const r = { ...t, isSynced: !0 };
        await Yr(r);
      }
    }
  }
  async fetchTickets(t, e) {
    if (!this.shakeApi) return [];
    const A = await this.shakeApi.fetchTickets(t, e), r = A.data.tickets, n = A.data.users, i = ((l) => l.map((h) => nI(h)))(r), o = ((l) => l.flatMap((h) => lI(h)))(r), a = n.map((l) => cI(l));
    var c;
    return await oo(i), await yo(o), await (c = a, new Promise((l, h) => {
      const d = indexedDB.open(Be, 7);
      d.onsuccess = function(u) {
        const p = u.target.result.transaction([rr], "readwrite"), g = p.objectStore(rr);
        c.forEach((m) => g.put(m)), p.oncomplete = () => {
          l("Chat participants written successfully to IndexedDB");
        }, p.onerror = () => {
          h("Error writing chat participants to IndexedDB");
        };
      }, d.onerror = Qe(h), d.onupgradeneeded = Fe;
    })), ((l) => {
      const h = [];
      return l.tickets.forEach((d) => {
        var p;
        const u = (p = d.messages.filter((g) => !g.is_read)) == null ? void 0 : p[0];
        u && h.push({ title: d.title, message: u == null ? void 0 : u.message, ticketId: d.id, created: u == null ? void 0 : u.created });
      }), h;
    })(A.data);
  }
  async sendChatMessage(t, e, A) {
    var o;
    if (!this.shakeApi) return;
    const r = await B0(), n = ((o = r.find((a) => a.role === $u.MOBILE_SDK)) == null ? void 0 : o.id) ?? "", i = { id: jm(), body: A, synced: !1, failed: !1, read: !0, ticketId: e, created: (/* @__PURE__ */ new Date()).toISOString(), senderId: n };
    await yo([i]), await this.syncChatMessage(t, i), await this.updateTicketLastActivity(e);
  }
  async syncChatMessage(t, e) {
    if (this.shakeApi) try {
      const A = await Qn(e.ticketId), r = { ticket_id: e.ticketId, ticket_type: (A == null ? void 0 : A.type) ?? "feedback", message: e.body }, n = await this.shakeApi.replyTicket(t, r), i = vC(e.ticketId, n.data);
      await function(o, a) {
        return new Promise((c, l) => {
          const h = indexedDB.open(Be, 7);
          h.onsuccess = function(d) {
            const u = d.target.result.transaction([fA], "readwrite").objectStore(fA), p = u.delete(o.id);
            p.onsuccess = function() {
              u.put(a).onsuccess = () => {
                Ci.notifyChange(!0), c("Chat message replaced successfully in IndexedDB");
              };
            }, p.onerror = function() {
              l("Error deleting chat message from IndexedDB");
            };
          }, h.onerror = Qe(l), h.onupgradeneeded = Fe;
        });
      }(e, i), await this.updateTicketLastActivity(e.ticketId);
    } catch {
      e.failed = !0, await yo([e]);
    }
  }
  async sendUserFeedback(t, e, A) {
    if (!this.shakeApi) return;
    let r, n, i, o = [];
    return e.length && (r = await this.uploadScreenshot(e), n = await this.uploadVideo(e), o = await this.uploadAttachments(e)), A && A.length > 1 && (i = await this.uploadSessionReplay(A)), t.session_replay_url = i, t.screenshot_url = r, t.video_url = n, t.files = o, (await this.shakeApi.sendFeedback(t)).data.public_url;
  }
  async uploadScreenshot(t) {
    const e = t.find((A) => A.type === Mt.IMAGE);
    if (e) {
      const A = this.convertAttachmentToFile(e);
      return await this.uploadFile(A);
    }
  }
  async uploadVideo(t) {
    const e = t.find((A) => A.type === Mt.VIDEO);
    if (e) {
      const A = this.convertAttachmentToFile(e);
      return await this.uploadFile(A);
    }
  }
  async uploadAttachments(t) {
    const e = t.find((i) => i.type === Mt.IMAGE), A = t.find((i) => i.type === Mt.VIDEO), r = t.filter((i) => i.name !== (e == null ? void 0 : e.name) && i.name !== (A == null ? void 0 : A.name)).slice(0, 9), n = await this.convertAttachmentsToFiles(r) ?? [];
    return await this.uploadFiles(n) ?? [];
  }
  async uploadFiles(t) {
    const e = [];
    return await Promise.all(t.map(async (A) => {
      await this.uploadFile(A).then((r) => {
        r && e.push({ url: r });
      });
    })), e;
  }
  async uploadSessionReplay(t) {
    const e = JSON.stringify(t), A = new Blob([e], { type: "application/json" }), r = new File([A], "session-replay.json", { type: "application/json" });
    return await this.uploadFile(r);
  }
  async uploadFile(t) {
    if (this.shakeApi) try {
      const { data: e } = await this.shakeApi.uploadFile(t);
      return e.url;
    } catch {
    }
  }
  convertAttachmentToFile(t) {
    return new File([t.preview ?? t.data], t.name, { type: t.data.type });
  }
  async convertAttachmentsToFiles(t) {
    return t.map((e) => this.convertAttachmentToFile(e));
  }
}
const Bs = class Bs {
};
b(Bs, "localStorageProvider", new Kp(localStorage)), b(Bs, "localStorage", new KC(Bs.localStorageProvider)), b(Bs, "sessionStorageProvider", new Kp(sessionStorage)), b(Bs, "sessionStorage", new NC(Bs.sessionStorageProvider));
let re = Bs;
class N {
}
b(N, "shakeService", new hI()), b(N, "consoleLogsTracker", new VE()), b(N, "networkRequestsTracker", new qE()), b(N, "screenChangeTracker", new eF()), b(N, "userActionTracker", new W3()), b(N, "systemEventTracker", new G3()), b(N, "customLogTracker", new GE()), b(N, "attachmentsManager", new VC()), b(N, "screenshotManager", new ik()), b(N, "userRequestsQueue", new PC()), b(N, "chatWebSocket", new C4(Vm.webSocketUrl)), b(N, "sessionReplay", new V3());
const Hm = () => {
  it.report.isConsoleLogsEnabled && N.consoleLogsTracker.start(), it.report.isNetworkRequestsEnabled && N.networkRequestsTracker.start(), it.report.isScreenChangesEnabled && N.screenChangeTracker.start(), it.report.isSystemEventsEnabled && N.systemEventTracker.start(), it.report.isUserActionsEnabled && N.userActionTracker.start();
}, Pm = 5120, dI = { takeScreenshot: !0, showSuccessMessage: !1, includeSessionReplay: !0 }, uI = (s) => {
  const t = [];
  return s && t.push({ type: Lr.TITLE, value: s, label: "Title" }), t;
}, pI = async (s) => {
  try {
    if (!s) return void qt("Cannot update user. Id not provided.");
    if (s.length > iB) return void qt("Cannot update user. Max id length is 256");
    const t = await N.shakeService.getUser();
    t ? (await gI(t, s), await Zc()) : qt("Cannot update user. User not registerd.");
  } catch {
  }
}, gI = async (s, t) => {
  const e = { ...s, id: 0, endUserId: t, isSynced: !1 };
  await Yr(e);
}, lt = class lt {
  static async start(t) {
    this.isLoading || this.isStarted || (this.isLoading = !0, t ? (ee.apiKey = t, this.localStorage.getShakeDeviceId() || this.localStorage.setShakeDeviceId(Lp()), N.shakeService.init(), this.localStorage.isSDKEnabled() ? this.setupShake() : (await (async () => {
      re.localStorage.isAppRegistered() || await N.shakeService.registerApp();
    })(), this.localStorage.isSDKEnabled() && this.setupShake(), this.isLoading = !1)) : qt("๐ Shake refuses to shake. Why? Because you didn't provide API key."));
  }
  static setupShake() {
    Qg("๐ฝ SDK activated. What if... the bugs are debugging us? https://www.shakebugs.com"), Hm(), fB(), N.userRequestsQueue.add(Zc), nB(), (async () => (await N.shakeService.getTickets()).length > 0 && await hr())(), rB(), cd(), this.isStarted = !0, this.isExtension = !1;
  }
  static startFromExtension() {
    this.isLoading || this.isStarted || (this.isLoading = !0, this.isExtension = !0, Be = "shake_ext", this.localStorage.getShakeDeviceId() || this.localStorage.setShakeDeviceId(Lp()), N.shakeService.init(), Hm(), cd(), Wl(), this.isStarted = !0, this.isLoading = !1, Qg("๐ฝ SDK activated. What if... the bugs are debugging us? https://www.shakebugs.com"));
  }
};
b(lt, "isStarted", !1), b(lt, "isExtension", !1), b(lt, "config", new jt()), b(lt, "report", new Ws()), b(lt, "localStorage", re.localStorage), b(lt, "isLoading", !1), b(lt, "show", async (t = gA.NEW_TICKET) => await lt.ifSDKEnabled(async () => {
  const e = t === gA.NEW_TICKET;
  await fc(t, null, e);
})), b(lt, "registerUser", async (t) => await lt.ifSDKEnabled(async () => {
  var e;
  e = t, N.userRequestsQueue.add(() => jS(e));
})), b(lt, "updateUserId", async (t) => await lt.ifSDKEnabled(async () => {
  var e;
  e = t, N.userRequestsQueue.add(() => pI(e));
})), b(lt, "updateUserMetadata", async (t) => await lt.ifSDKEnabled(async () => {
  oB(t);
})), b(lt, "unregisterUser", async () => await lt.ifSDKEnabled(async () => {
  N.userRequestsQueue.add(zu);
})), b(lt, "silentReport", async (t, e) => await lt.ifSDKEnabled(async () => {
  await (async (A, r = dI) => {
    try {
      const n = N.shakeService, i = [];
      if (r.takeScreenshot) {
        const c = await new Iw().captureScreenshot(document.body);
        c && i.push({ data: c, dataUrl: "", preview: c, previewUrl: "", type: Mt.IMAGE, name: Bu(Mt.IMAGE, "jpg"), timestamp: (/* @__PURE__ */ new Date()).getTime() });
      }
      const o = await ld();
      o.tags.push("silent"), o.custom_fields = uI(A);
      let a = [];
      r.includeSessionReplay && (N.sessionReplay.stop(), a = N.sessionReplay.getEvents()), await n.sendUserFeedback(o, i, a), r.showSuccessMessage && aB(), lt.report.isSessionReplayEnabled && (N.sessionReplay.reset(), N.sessionReplay.start());
    } catch {
      r.showSuccessMessage && cB();
    }
  })(t, e);
})), b(lt, "log", async (t, e) => await lt.ifSDKEnabled(async () => {
  await N.customLogTracker.captureEvent(t, e);
})), b(lt, "setMetadata", (t, e) => {
  ((A, r) => {
    if (!A) return;
    const n = String(A);
    let i = String(r);
    if (Object.keys(Ws.metadata).length >= 100) return void qt("Cannot set metadata. Limit of 100 items reached.");
    i.length > Pm && (qt("Truncating metadata value. Value exceeded 5120 chars."), i = i.substring(0, Pm)), Ws.metadata[n] = i;
  })(t, e);
}), b(lt, "removeMetadata", (t) => {
  ((e) => {
    delete Ws.metadata[e];
  })(t);
}), b(lt, "clearMetadata", () => {
  Ws.metadata = {};
}), b(lt, "ifSDKEnabled", async (t) => lt.isExtension || lt.localStorage.isSDKEnabled() ? (await t(), !0) : (qt("๐๏ธ Pro tip: Call Shake.start(apiKey) before expecting things to work. Just saying."), !1)), b(lt, "showFromExtension", async (t) => await lt.ifSDKEnabled(async () => {
  const e = Ug(t);
  await (async (A) => {
    if (!gB()) return;
    jt.isShakeOpened = !0, N.sessionReplay.stop(), Wl();
    let r = Cu();
    r || (r = await ld(), Lw(r), await za(A));
    const n = LA();
    bi(n);
  })(e);
})), b(lt, "setOnScreenshotBubbleClick", (t) => {
  _A.onScreenshotBubbleClick = t;
}), b(lt, "grabScreenshotFromExtension", async (t) => await lt.ifSDKEnabled(async () => {
  const e = Ug(t);
  await ((A) => {
    za(A);
    const r = LA();
    bi(r, gA.NEW_TICKET), jt.isScreensotCaptureMode = !1;
  })(e);
})), b(lt, "setAuthToken", async (t) => {
  await lt.ifSDKEnabled(async () => {
    await (async (e) => {
      ee.authToken = e, await Wl();
    })(t);
  });
}), b(lt, "setOnTicketSentListener", (t) => {
  _A.onTicketSent = t;
}), b(lt, "insertNetworkRequest", async (t) => {
  await lt.ifSDKEnabled(async () => {
    N.networkRequestsTracker.captureEvent(t);
  });
}), b(lt, "insertConsoleLog", async (t) => {
  await lt.ifSDKEnabled(async () => {
    N.consoleLogsTracker.captureEvent(t);
  });
});
let it = lt;
export {
  _C as ConsoleLogType,
  dA as DefaultFormKeys,
  Ma as Language,
  OC as LogLevel,
  cu as ShakeAttachments,
  lu as ShakeButtonStyle,
  au as ShakeEmail,
  ou as ShakeForm,
  Ii as ShakeFormComponent,
  Qc as ShakePicker,
  wI as ShakePickerItem,
  gA as ShakeScreen,
  Nm as ShakeTextInput,
  Fc as ShakeTitle,
  it as default,
  DC as defaultShakeForm
};
//# sourceMappingURL=browser.js.map
